var Eo=Object.defineProperty;var Oo=(t,e,s)=>e in t?Eo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var u=(t,e,s)=>Oo(t,typeof e!="symbol"?e+"":e,s);import{t as $o,i as Ce,r as wo,a as en,b as ut,c as Po,d as at,e as tn,f as Qt,g as sn,h as rn,j as pi,s as nn,k as on}from"./ramda-adjunct-DjcREzQ7.js";import{l as Xs,p as fi,t as Vo,a as Yt,b as Ge,c as Ro,i as Fo,m as vi,o as Ao,d as Mo,e as ue,f as b,g as gi,h as cn,j as _t,k as Io,n as an,q as No,F as bi,r as ln,T as je,s as un,u as R,v as dn,w as Do,x as ko,y as Co,z as he,A as To,B as Jo,C as hn,D as mn,E as Lo}from"./ramda-DDa0NBps.js";import{m as c}from"./minim-C7Fhc8cT.js";import{c as qo,e as qe,f as Be}from"./@swaggerexpert-Cl78hl6M.js";import{p as es}from"./process-Df_nhss3.js";import{_ as Bo}from"./@babel-BhnS7GL1.js";import{M as f}from"./ts-mixer-DR1IXZCf.js";import{S as Uo}from"./short-unique-id-Rx7sUWuM.js";class Ho extends Bo{constructor(e,s,r){if(super(e,s,r),this.name=this.constructor.name,typeof s=="string"&&(this.message=s),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(s).stack,r!=null&&typeof r=="object"&&Object.hasOwn(r,"cause")&&!("cause"in this)){const{cause:i}=r;this.cause=i,i instanceof Error&&"stack"in i&&(this.stack=`${this.stack}
CAUSE: ${i.stack}`)}}}class ce extends Error{static[Symbol.hasInstance](e){return super[Symbol.hasInstance](e)||Function.prototype[Symbol.hasInstance].call(Ho,e)}constructor(e,s){if(super(e,s),this.name=this.constructor.name,typeof e=="string"&&(this.message=e),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,s!=null&&typeof s=="object"&&Object.hasOwn(s,"cause")&&!("cause"in this)){const{cause:r}=s;this.cause=r,r instanceof Error&&"stack"in r&&(this.stack=`${this.stack}
CAUSE: ${r.stack}`)}}}class Ie extends ce{constructor(e,s){if(super(e,s),s!=null&&typeof s=="object"){const{cause:r,...i}=s;Object.assign(this,i)}}}class D extends ce{}class Rr extends D{}const yi=()=>fi(Vo(/^win/),["platform"],es),xi=t=>{try{const e=new URL(t);return $o(":",e.protocol)}catch{return}};Ge(xi,en);const zo=t=>{const e=t.lastIndexOf(".");return e>=0?t.substring(e).toLowerCase():""},pn=t=>{if(es.browser)return!1;const e=xi(t);return Ce(e)||e==="file"||/^[a-zA-Z]$/.test(e)},Wo=t=>{const e=xi(t);return e==="http"||e==="https"},fn=(t,e)=>{const s=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],r=Yt(!1,"keepFileProtocol",e),i=Yt(yi,"isWindows",e);let n=decodeURI(t);for(let l=0;l<s.length;l+=2)n=n.replace(s[l],s[l+1]);let o=n.substring(0,7).toLowerCase()==="file://";return o&&(n=n[7]==="/"?n.substring(8):n.substring(7),i()&&n[1]==="/"&&(n=`${n[0]}:${n.substring(1)}`),r?n=`file:///${n}`:(o=!1,n=i()?n:`/${n}`)),i()&&!o&&(n=wo("/","\\",n),n.substring(1,3)===":\\"&&(n=n[0].toUpperCase()+n.substring(1))),n},Ko=t=>{const e=[/\?/g,"%3F",/#/g,"%23"];let s=t;yi()&&(s=s.replace(/\\/g,"/")),s=encodeURI(s);for(let r=0;r<e.length;r+=2)s=s.replace(e[r],e[r+1]);return s},vn=t=>{const e=t.indexOf("#");return e!==-1?t.substring(e):"#"},te=t=>{const e=t.indexOf("#");let s=t;return e>=0&&(s=t.substring(0,e)),s},Xo=()=>{if(es.browser)return te(globalThis.location.href);const t=es.cwd(),e=Xs(t);return["/","\\"].includes(e)?t:t+(yi()?"\\":"/")},it=(t,e)=>{const s=new URL(e,new URL(t,"resolve://"));if(s.protocol==="resolve:"){const{pathname:r,search:i,hash:n}=s;return r+i+n}return s.toString()},Gs=t=>{if(pn(t))return Ko(fn(t));try{return new URL(t).toString()}catch{return encodeURI(decodeURI(t)).replace(/%5B/g,"[").replace(/%5D/g,"]")}},Je=t=>pn(t)?fn(t):decodeURI(t);class ts{constructor({uri:e,mediaType:s="text/plain",data:r,parseResult:i}){u(this,"uri");u(this,"mediaType");u(this,"data");u(this,"parseResult");this.uri=e,this.mediaType=s,this.data=r,this.parseResult=i}get extension(){return ut(this.uri)?zo(this.uri):""}toString(){return typeof this.data=="string"?this.data:this.data instanceof ArrayBuffer||["ArrayBuffer"].includes(Ro(this.data))||ArrayBuffer.isView(this.data)?new TextDecoder("utf-8").decode(this.data):String(this.data)}}class Mr{constructor({refs:e=[],circular:s=!1}={}){u(this,"rootRef");u(this,"refs");u(this,"circular");this.refs=[],this.circular=s,e.forEach(this.add.bind(this))}get size(){return this.refs.length}add(e){return this.has(e)||(this.refs.push(e),this.rootRef=this.rootRef===void 0?e:this.rootRef,e.refSet=this),this}merge(e){for(const s of e.values())this.add(s);return this}has(e){const s=ut(e)?e:e.uri;return en(this.find(r=>r.uri===s))}find(e){return this.refs.find(e)}*values(){yield*this.refs}clean(){this.refs.forEach(e=>{e.refSet=void 0}),this.rootRef=void 0,this.refs.length=0}}const Go={parse:{mediaType:"text/plain",parsers:[],parserOpts:{}},resolve:{baseURI:"",resolvers:[],resolverOpts:{},strategies:[],strategyOpts:{},internal:!0,external:!0,maxDepth:1/0},dereference:{strategies:[],strategyOpts:{},refSet:null,maxDepth:1/0,circular:"ignore",circularReplacer:Fo,immutable:!0},bundle:{strategies:[],refSet:null,maxDepth:1/0}},Zo=Mo(ue(["resolve","baseURI"]),b(["resolve","baseURI"])),Qo=t=>Po(t)?Xo():t,gn=(t,e)=>{const s=vi(t,e);return Ao(Zo,Qo,s)};class Yo extends ce{constructor(s,r){super(s,{cause:r.cause});u(this,"plugin");this.plugin=r.plugin}}const Si=async(t,e,s)=>{const r=await Promise.all(s.map(at([t],e)));return s.filter((i,n)=>r[n])},ji=async(t,e,s)=>{let r;for(const i of s)try{const n=await i[t].call(i,...e);return{plugin:i,result:n}}catch(n){r=new Yo("Error while running plugin",{cause:n,plugin:i})}return Promise.reject(r)};class Ir extends ce{}class Ei extends ce{}class _o extends Ei{}class bn extends _o{}const ec=async(t,e)=>{const s=e.resolve.resolvers.map(i=>{const n=Object.create(i);return Object.assign(n,e.resolve.resolverOpts)}),r=await Si("canRead",[t,e],s);if(gi(r))throw new bn(t.uri);try{const{result:i}=await ji("read",[t],r);return i}catch(i){throw new Ei(`Error while reading file "${t.uri}"`,{cause:i})}},tc=async(t,e)=>{const s=e.parse.parsers.map(i=>{const n=Object.create(i);return Object.assign(n,e.parse.parserOpts)}),r=await Si("canParse",[t,e],s);if(gi(r))throw new bn(t.uri);try{const{plugin:i,result:n}=await ji("parse",[t,e],r);return!i.allowEmpty&&n.isEmpty?Promise.reject(new Ir(`Error while parsing file "${t.uri}". File is empty.`)):n}catch(i){throw new Ir(`Error while parsing file "${t.uri}"`,{cause:i})}},sc=async(t,e)=>{const s=new ts({uri:Gs(te(t)),mediaType:e.parse.mediaType}),r=await ec(s,e);return tc(new ts({...s,data:r}),e)};class ss extends c.StringElement{constructor(e,s,r){super(e,s,r),this.element="annotation"}get code(){return this.attributes.get("code")}set code(e){this.attributes.set("code",e)}}class rs extends c.StringElement{constructor(e,s,r){super(e,s,r),this.element="comment"}}class We extends c.ArrayElement{constructor(e,s,r){super(e,s,r),this.element="parseResult"}get api(){return this.children.filter(e=>e.classes.contains("api")).first}get results(){return this.children.filter(e=>e.classes.contains("result"))}get result(){return this.results.first}get annotations(){return this.children.filter(e=>e.element==="annotation")}get warnings(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("warning"))}get errors(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("error"))}get isEmpty(){return this.children.reject(e=>e.element==="annotation").isEmpty}replaceResult(e){const{result:s}=this;if(Ce(s))return!1;const r=this.content.findIndex(i=>i===s);return r===-1?!1:(this.content[r]=e,!0)}}const rc=(t,e)=>typeof e=="object"&&e!==null&&t in e&&typeof e[t]=="function",ic=t=>typeof t=="object"&&t!=null&&"_storedElement"in t&&typeof t._storedElement=="string"&&"_content"in t,nc=(t,e)=>typeof e=="object"&&e!==null&&"primitive"in e?typeof e.primitive=="function"&&e.primitive()===t:!1,oc=(t,e)=>typeof e=="object"&&e!==null&&"classes"in e&&(Array.isArray(e.classes)||e.classes instanceof c.ArrayElement)&&e.classes.includes(t),we=(t,e)=>typeof e=="object"&&e!==null&&"element"in e&&e.element===t,x=t=>t({hasMethod:rc,hasBasicElementProps:ic,primitiveEq:nc,isElementType:we,hasClass:oc}),X=x(({hasBasicElementProps:t,primitiveEq:e})=>s=>s instanceof c.Element||t(s)&&e(void 0,s)),F=x(({hasBasicElementProps:t,primitiveEq:e})=>s=>s instanceof c.StringElement||t(s)&&e("string",s)),Oi=x(({hasBasicElementProps:t,primitiveEq:e})=>s=>s instanceof c.NumberElement||t(s)&&e("number",s)),$i=x(({hasBasicElementProps:t,primitiveEq:e})=>s=>s instanceof c.NullElement||t(s)&&e("null",s)),dt=x(({hasBasicElementProps:t,primitiveEq:e})=>s=>s instanceof c.BooleanElement||t(s)&&e("boolean",s)),z=x(({hasBasicElementProps:t,primitiveEq:e,hasMethod:s})=>r=>r instanceof c.ObjectElement||t(r)&&e("object",r)&&s("keys",r)&&s("values",r)&&s("items",r)),fe=x(({hasBasicElementProps:t,primitiveEq:e,hasMethod:s})=>r=>r instanceof c.ArrayElement&&!(r instanceof c.ObjectElement)||t(r)&&e("array",r)&&s("push",r)&&s("unshift",r)&&s("map",r)&&s("reduce",r)),Ee=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof c.MemberElement||t(r)&&e("member",r)&&s(void 0,r)),yn=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof c.LinkElement||t(r)&&e("link",r)&&s(void 0,r)),xn=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof c.RefElement||t(r)&&e("ref",r)&&s(void 0,r)),cc=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ss||t(r)&&e("annotation",r)&&s("array",r)),ac=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof rs||t(r)&&e("comment",r)&&s("string",r)),Sn=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof We||t(r)&&e("parseResult",r)&&s("array",r)),nt=t=>we("object",t)||we("array",t)||we("boolean",t)||we("number",t)||we("string",t)||we("null",t)||we("member",t),Ze=t=>X(t)?Number.isInteger(t.startPositionRow)&&Number.isInteger(t.startPositionColumn)&&Number.isInteger(t.startIndex)&&Number.isInteger(t.endPositionRow)&&Number.isInteger(t.endPositionColumn)&&Number.isInteger(t.endIndex):!1,lc=(t,e)=>{if(t.length===0)return!0;const s=e.attributes.get("symbols");return fe(s)?cn(tn(s.toValue()),t):!1},wi=(t,e)=>t.length===0?!0:cn(tn(e.classes.toValue()),t),uc=Object.freeze(Object.defineProperty({__proto__:null,hasElementSourceMap:Ze,includesClasses:wi,includesSymbols:lc,isAnnotationElement:cc,isArrayElement:fe,isBooleanElement:dt,isCommentElement:ac,isElement:X,isLinkElement:yn,isMemberElement:Ee,isNullElement:$i,isNumberElement:Oi,isObjectElement:z,isParseResultElement:Sn,isPrimitiveElement:nt,isRefElement:xn,isStringElement:F},Symbol.toStringTag,{value:"Module"}));class jn extends c.Namespace{constructor(){super(),this.register("annotation",ss),this.register("comment",rs),this.register("parseResult",We)}}const En=new jn,Re=t=>{const e=new jn;return Qt(t)&&e.use(t),e},On=()=>({predicates:{...uc},namespace:En}),Zs=(t,e,s)=>{const r=t[e];if(r!=null){if(!s&&typeof r=="function")return r;const i=s?r.leave:r.enter;if(typeof i=="function")return i}else{const i=s?t.leave:t.enter;if(i!=null){if(typeof i=="function")return i;const n=i[e];if(typeof n=="function")return n}}return null},k={},ht=t=>t==null?void 0:t.type,$n=t=>typeof ht(t)=="string",Pi=t=>Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),Vi=(t,{visitFnGetter:e=Zs,nodeTypeGetter:s=ht,breakSymbol:r=k,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:o=!1}={})=>{const l=Symbol("skip"),p=new Array(t.length).fill(l);return{enter(E,y,v,j,A,w){let m=E,P=!1;const O={...w,replaceWith(d,$){w.replaceWith(d,$),m=d}};for(let d=0;d<t.length;d+=1)if(p[d]===l){const $=e(t[d],s(m),!1);if(typeof $=="function"){const h=$.call(t[d],m,y,v,j,A,O);if(typeof(h==null?void 0:h.then)=="function")throw new Ie("Async visitor not supported in sync mode",{visitor:t[d],visitFn:$});if(h===n)p[d]=m;else if(h===r)p[d]=r;else{if(h===i)return h;if(h!==void 0)if(o)m=h,P=!0;else return h}}}return P?m:void 0},leave(E,y,v,j,A,w){let m=E;const P={...w,replaceWith(O,d){w.replaceWith(O,d),m=O}};for(let O=0;O<t.length;O+=1)if(p[O]===l){const d=e(t[O],s(m),!0);if(typeof d=="function"){const $=d.call(t[O],m,y,v,j,A,P);if(typeof($==null?void 0:$.then)=="function")throw new Ie("Async visitor not supported in sync mode",{visitor:t[O],visitFn:d});if($===r)p[O]=r;else if($!==void 0&&$!==n)return $}}else p[O]===m&&(p[O]=l)}}},dc=(t,{visitFnGetter:e=Zs,nodeTypeGetter:s=ht,breakSymbol:r=k,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:o=!1}={})=>{const l=Symbol("skip"),p=new Array(t.length).fill(l);return{async enter(E,y,v,j,A,w){let m=E,P=!1;const O={...w,replaceWith(d,$){w.replaceWith(d,$),m=d}};for(let d=0;d<t.length;d+=1)if(p[d]===l){const $=e(t[d],s(m),!1);if(typeof $=="function"){const h=await $.call(t[d],m,y,v,j,A,O);if(h===n)p[d]=m;else if(h===r)p[d]=r;else{if(h===i)return h;if(h!==void 0)if(o)m=h,P=!0;else return h}}}return P?m:void 0},async leave(E,y,v,j,A,w){let m=E;const P={...w,replaceWith(O,d){w.replaceWith(O,d),m=O}};for(let O=0;O<t.length;O+=1)if(p[O]===l){const d=e(t[O],s(m),!0);if(typeof d=="function"){const $=await d.call(t[O],m,y,v,j,A,P);if($===r)p[O]=r;else if($!==void 0&&$!==n)return $}}else p[O]===m&&(p[O]=l)}}};Vi[Symbol.for("nodejs.util.promisify.custom")]=dc;const Ri=(t,e,{keyMap:s=null,state:r={},breakSymbol:i=k,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:l=Zs,nodeTypeGetter:p=ht,nodePredicate:E=$n,nodeCloneFn:y=Pi,detectCycles:v=!0,detectCyclesCallback:j=null}={})=>{const A=s||{};let w,m=Array.isArray(t),P=[t],O=-1,d,$=[],h=t;const q=[],B=[];do{O+=1;const K=O===P.length;let M;const H=K&&$.length!==0;if(K){if(M=B.length===0?void 0:q.pop(),h=d,d=B.pop(),H)if(m){h=h.slice();let _=0;for(const[ee,Z]of $){const Me=ee-_;Z===n?(h.splice(Me,1),_+=1):h[Me]=Z}}else{h=y(h);for(const[_,ee]of $)h[_]=ee}O=w.index,P=w.keys,$=w.edits,m=w.inArray,w=w.prev}else if(d!==n&&d!==void 0){if(M=m?O:P[O],h=d[M],h===n||h===void 0)continue;q.push(M)}let J;if(!Array.isArray(h)){var re;if(!E(h))throw new Ie(`Invalid AST Node:  ${String(h)}`,{node:h});if(v&&B.includes(h)){typeof j=="function"&&j(h,M,d,q,B),q.pop();continue}const _=l(e,p(h),K);if(_){for(const[Z,Me]of Object.entries(r))e[Z]=Me;const ee={replaceWith(Z,Me){typeof Me=="function"?Me(Z,h,M,d,q,B):d&&(d[M]=Z),K||(h=Z)}};J=_.call(e,h,M,d,q,B,ee)}if(typeof((re=J)===null||re===void 0?void 0:re.then)=="function")throw new Ie("Async visitor not supported in sync mode",{visitor:e,visitFn:_});if(J===i)break;if(J===o){if(!K){q.pop();continue}}else if(J!==void 0&&($.push([M,J]),!K))if(E(J))h=J;else{q.pop();continue}}if(J===void 0&&H&&$.push([M,h]),!K){var de;w={inArray:m,index:O,keys:P,edits:$,prev:w},m=Array.isArray(h),P=m?h:(de=A[p(h)])!==null&&de!==void 0?de:[],O=-1,$=[],d!==n&&d!==void 0&&B.push(d),d=h}}while(w!==void 0);return $.length!==0?$[$.length-1][1]:t};Ri[Symbol.for("nodejs.util.promisify.custom")]=async(t,e,{keyMap:s=null,state:r={},breakSymbol:i=k,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:l=Zs,nodeTypeGetter:p=ht,nodePredicate:E=$n,nodeCloneFn:y=Pi,detectCycles:v=!0,detectCyclesCallback:j=null}={})=>{const A=s||{};let w,m=Array.isArray(t),P=[t],O=-1,d,$=[],h=t;const q=[],B=[];do{O+=1;const de=O===P.length;let K;const M=de&&$.length!==0;if(de){if(K=B.length===0?void 0:q.pop(),h=d,d=B.pop(),M)if(m){h=h.slice();let J=0;for(const[_,ee]of $){const Z=_-J;ee===n?(h.splice(Z,1),J+=1):h[Z]=ee}}else{h=y(h);for(const[J,_]of $)h[J]=_}O=w.index,P=w.keys,$=w.edits,m=w.inArray,w=w.prev}else if(d!==n&&d!==void 0){if(K=m?O:P[O],h=d[K],h===n||h===void 0)continue;q.push(K)}let H;if(!Array.isArray(h)){if(!E(h))throw new Ie(`Invalid AST Node: ${String(h)}`,{node:h});if(v&&B.includes(h)){typeof j=="function"&&j(h,K,d,q,B),q.pop();continue}const J=l(e,p(h),de);if(J){for(const[ee,Z]of Object.entries(r))e[ee]=Z;const _={replaceWith(ee,Z){typeof Z=="function"?Z(ee,h,K,d,q,B):d&&(d[K]=ee),de||(h=ee)}};H=await J.call(e,h,K,d,q,B,_)}if(H===i)break;if(H===o){if(!de){q.pop();continue}}else if(H!==void 0&&($.push([K,H]),!de))if(E(H))h=H;else{q.pop();continue}}if(H===void 0&&M&&$.push([K,h]),!de){var re;w={inArray:m,index:O,keys:P,edits:$,prev:w},m=Array.isArray(h),P=m?h:(re=A[p(h)])!==null&&re!==void 0?re:[],O=-1,$=[],d!==n&&d!==void 0&&B.push(d),d=h}}while(w!==void 0);return $.length!==0?$[$.length-1][1]:t};class wn extends Ie{constructor(s,r){super(s,r);u(this,"value");typeof r<"u"&&(this.value=r.value)}}class hc extends wn{}class mc extends wn{}const Fe=(t,e)=>{const s=_t(t,e);return Io(r=>{if(Qt(r)&&an("$ref",r)&&No(ut,"$ref",r)){const i=ue(["$ref"],r),n=sn("#/",i);return ue(n.split("/"),s)}return Qt(r)?Fe(r,s):r},t)},Fi=(t,e)=>(t.startPositionRow=e==null?void 0:e.startPositionRow,t.startPositionColumn=e==null?void 0:e.startPositionColumn,t.startIndex=e==null?void 0:e.startIndex,t.endPositionRow=e==null?void 0:e.endPositionRow,t.endPositionColumn=e==null?void 0:e.endPositionColumn,t.endIndex=e==null?void 0:e.endIndex,t),V=(t,e={})=>{const{visited:s=new WeakMap}=e,r={...e,visited:s};if(s.has(t))return s.get(t);if(t instanceof c.KeyValuePair){const{key:i,value:n}=t,o=X(i)?V(i,r):i,l=X(n)?V(n,r):n,p=new c.KeyValuePair(o,l);return s.set(t,p),p}if(t instanceof c.ObjectSlice){const i=l=>V(l,r),n=[...t].map(i),o=new c.ObjectSlice(n);return s.set(t,o),o}if(t instanceof c.ArraySlice){const i=l=>V(l,r),n=[...t].map(i),o=new c.ArraySlice(n);return s.set(t,o),o}if(X(t)){const i=le(t);if(s.set(t,i),t.content)if(X(t.content))i.content=V(t.content,r);else if(t.content instanceof c.KeyValuePair)i.content=V(t.content,r);else if(Array.isArray(t.content)){const n=o=>V(o,r);i.content=t.content.map(n)}else i.content=t.content;else i.content=t.content;return i}throw new hc("Value provided to cloneDeep function couldn't be cloned",{value:t})};V.safe=t=>{try{return V(t)}catch{return t}};const Pn=t=>{const{key:e,value:s}=t;return new c.KeyValuePair(e,s)},pc=t=>{const e=[...t];return new c.ArraySlice(e)},fc=t=>{const e=[...t];return new c.ObjectSlice(e)},Vn=t=>{const e=new t.constructor;if(e.element=t.element,Ze(t)&&Fi(e,t),t.meta.length>0&&(e._meta=V(t.meta)),t.attributes.length>0&&(e._attributes=V(t.attributes)),X(t.content)){const s=t.content;e.content=Vn(s)}else Array.isArray(t.content)?e.content=[...t.content]:t.content instanceof c.KeyValuePair?e.content=Pn(t.content):e.content=t.content;return e},le=t=>{if(t instanceof c.KeyValuePair)return Pn(t);if(t instanceof c.ObjectSlice)return fc(t);if(t instanceof c.ArraySlice)return pc(t);if(X(t))return Vn(t);throw new mc("Value provided to cloneShallow function couldn't be cloned",{value:t})};le.safe=t=>{try{return le(t)}catch{return t}};const Qe=t=>z(t)?"ObjectElement":fe(t)?"ArrayElement":Ee(t)?"MemberElement":F(t)?"StringElement":dt(t)?"BooleanElement":Oi(t)?"NumberElement":$i(t)?"NullElement":yn(t)?"LinkElement":xn(t)?"RefElement":void 0,Rn=t=>X(t)?le(t):Pi(t),Fn=Ge(Qe,ut),xe={ObjectElement:["content"],ArrayElement:["content"],MemberElement:["key","value"],StringElement:[],BooleanElement:[],NumberElement:[],NullElement:[],RefElement:[],LinkElement:[],Annotation:[],Comment:[],ParseResultElement:["content"]};class An{constructor({predicate:e=bi,returnOnTrue:s,returnOnFalse:r}={}){u(this,"result");u(this,"predicate");u(this,"returnOnTrue");u(this,"returnOnFalse");this.result=[],this.predicate=e,this.returnOnTrue=s,this.returnOnFalse=r}enter(e){return this.predicate(e)?(this.result.push(e),this.returnOnTrue):this.returnOnFalse}}const se=(t,e,{keyMap:s=xe,...r}={})=>Ri(t,e,{keyMap:s,nodeTypeGetter:Qe,nodePredicate:Fn,nodeCloneFn:Rn,...r});se[Symbol.for("nodejs.util.promisify.custom")]=async(t,e,{keyMap:s=xe,...r}={})=>Ri[Symbol.for("nodejs.util.promisify.custom")](t,e,{keyMap:s,nodeTypeGetter:Qe,nodePredicate:Fn,nodeCloneFn:Rn,...r});const Mn={toolboxCreator:On,visitorOptions:{nodeTypeGetter:Qe,exposeEdits:!0}},Oe=(t,e,s={})=>{if(e.length===0)return t;const r=vi(Mn,s),{toolboxCreator:i,visitorOptions:n}=r,o=i(),l=e.map(y=>y(o)),p=Vi(l.map(Yt({},"visitor")),{...n});l.forEach(at(["pre"],[]));const E=se(t,p,n);return l.forEach(at(["post"],[])),E},vc=async(t,e,s={})=>{if(e.length===0)return t;const r=vi(Mn,s),{toolboxCreator:i,visitorOptions:n}=r,o=i(),l=e.map(j=>j(o)),p=Vi[Symbol.for("nodejs.util.promisify.custom")],E=se[Symbol.for("nodejs.util.promisify.custom")],y=p(l.map(Yt({},"visitor")),{...n});await Promise.allSettled(l.map(at(["pre"],[])));const v=await E(t,y,n);return await Promise.allSettled(l.map(at(["post"],[]))),v};Oe[Symbol.for("nodejs.util.promisify.custom")]=vc;class gc extends Ie{constructor(s,r){super(s,r);u(this,"value");typeof r<"u"&&(this.value=r.value)}}class In{constructor({length:e=6}={}){u(this,"uuid");u(this,"identityMap");this.uuid=new Uo({length:e}),this.identityMap=new WeakMap}identify(e){if(!X(e))throw new gc("Cannot not identify the element. `element` is neither structurally compatible nor a subclass of an Element class.",{value:e});if(e.meta.hasKey("id")&&F(e.meta.get("id"))&&!e.meta.get("id").equals(""))return e.id;if(this.identityMap.has(e))return this.identityMap.get(e);const s=new c.StringElement(this.generateId());return this.identityMap.set(e,s),s}forget(e){return this.identityMap.has(e)?(this.identityMap.delete(e),!0):!1}generateId(){return this.uuid.randomUUID()}}new In;class bc extends Array{constructor(){super(...arguments);u(this,"unknownMediaType","application/octet-stream")}filterByFormat(){throw new Rr("filterByFormat method in MediaTypes class is not yet implemented.")}findBy(){throw new Rr("findBy method in MediaTypes class is not yet implemented.")}latest(){throw new Rr("latest method in MediaTypes class is not yet implemented.")}}const yc=(t,{Type:e,plugins:s=[]})=>{const r=new e(t);return X(t)&&(t.meta.length>0&&(r.meta=V(t.meta)),t.attributes.length>0&&(r.attributes=V(t.attributes))),Oe(r,s,{toolboxCreator:On,visitorOptions:{nodeTypeGetter:Qe}})},ve=t=>(e,s={})=>yc(e,{...s,Type:t});c.ObjectElement.refract=ve(c.ObjectElement);c.ArrayElement.refract=ve(c.ArrayElement);c.StringElement.refract=ve(c.StringElement);c.BooleanElement.refract=ve(c.BooleanElement);c.NullElement.refract=ve(c.NullElement);c.NumberElement.refract=ve(c.NumberElement);c.LinkElement.refract=ve(c.LinkElement);c.RefElement.refract=ve(c.RefElement);ss.refract=ve(ss);rs.refract=ve(rs);We.refract=ve(We);const xc=(t,e)=>{const s=new An({predicate:t});return se(e,s),new c.ArraySlice(s.result)},Nn=(t,e)=>{const s=new An({predicate:t,returnOnTrue:k});return se(e,s),ln(void 0,[0],s.result)},Gt=(t,e=new WeakMap)=>(Ee(t)?(e.set(t.key,t),Gt(t.key,e),e.set(t.value,t),Gt(t.value,e)):t.children.forEach(s=>{e.set(s,t),Gt(s,e)}),e),Sc=(t,e,s)=>{const r=s.get(t);Ee(r)&&(r.key===t&&(r.key=e,s.delete(t),s.set(e,r)),r.value===t&&(r.value=e,s.delete(t),s.set(e,r)))},jc=(t,e,s)=>{const r=s.get(t);z(r)&&(r.content=r.map((i,n,o)=>o===t?(s.delete(t),s.set(e,r),e):o))},Ec=(t,e,s)=>{const r=s.get(t);fe(r)&&(r.content=r.map(i=>i===t?(s.delete(t),s.set(e,r),e):i))};class Oc{constructor({element:e}){u(this,"element");u(this,"edges");this.element=e}transclude(e,s){var r;if(e===this.element)return s;if(e===s)return this.element;this.edges=(r=this.edges)!==null&&r!==void 0?r:Gt(this.element);const i=this.edges.get(e);if(!Ce(i))return z(i)?jc(e,s,this.edges):fe(i)?Ec(e,s,this.edges):Ee(i)&&Sc(e,s,this.edges),this.element}}const im=(t,e,s)=>new Oc({element:s}).transclude(t,e),nm=(t,e=En)=>{if(ut(t))try{return e.fromRefract(JSON.parse(t))}catch{}return Qt(t)&&an("element",t)?e.fromRefract(t):e.toElement(t)},Dn=t=>typeof(t==null?void 0:t.type)=="string"?t.type:Qe(t),kn={EphemeralObject:["content"],EphemeralArray:["content"],...xe},Cn=(t,e,{keyMap:s=kn,...r}={})=>se(t,e,{keyMap:s,nodeTypeGetter:Dn,nodePredicate:je,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...r});Cn[Symbol.for("nodejs.util.promisify.custom")]=async(t,{keyMap:e=kn,...s}={})=>se[Symbol.for("nodejs.util.promisify.custom")](t,visitor,{keyMap:e,nodeTypeGetter:Dn,nodePredicate:je,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...s});class $c{constructor(e){u(this,"type","EphemeralArray");u(this,"content",[]);u(this,"reference");this.content=e,this.reference=[]}toReference(){return this.reference}toArray(){return this.reference.push(...this.content),this.reference}}class wc{constructor(e){u(this,"type","EphemeralObject");u(this,"content",[]);u(this,"reference");this.content=e,this.reference={}}toReference(){return this.reference}toObject(){return Object.assign(this.reference,Object.fromEntries(this.content))}}let Pc=class{constructor(){u(this,"ObjectElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const s=new wc(e.content);return this.references.set(e,s),s}});u(this,"EphemeralObject",{leave:e=>e.toObject()});u(this,"MemberElement",{enter:e=>[e.key,e.value]});u(this,"ArrayElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const s=new $c(e.content);return this.references.set(e,s),s}});u(this,"EphemeralArray",{leave:e=>e.toArray()});u(this,"references",new WeakMap)}BooleanElement(e){return e.toValue()}NumberElement(e){return e.toValue()}StringElement(e){return e.toValue()}NullElement(){return null}RefElement(e,...s){var r;const i=s[3];return((r=i[i.length-1])===null||r===void 0?void 0:r.type)==="EphemeralObject"?Symbol.for("delete-node"):String(e.toValue())}LinkElement(e){return F(e.href)?e.href.toValue():""}};const g=t=>X(t)?F(t)||Oi(t)||dt(t)||$i(t)?t.toValue():Cn(t,new Pc):t,is=t=>{const e=t.meta.length>0?V(t.meta):void 0,s=t.attributes.length>0?V(t.attributes):void 0;return new t.constructor(void 0,e,s)},ns=(t,e)=>e.clone&&e.isMergeableElement(t)?Se(is(t),t,e):t,Vc=(t,e)=>{if(typeof e.customMerge!="function")return Se;const s=e.customMerge(t,e);return typeof s=="function"?s:Se},Rc=t=>typeof t.customMetaMerge!="function"?e=>V(e):t.customMetaMerge,Fc=t=>typeof t.customAttributesMerge!="function"?e=>V(e):t.customAttributesMerge,Ac=(t,e,s)=>t.concat(e)["fantasy-land/map"](r=>ns(r,s)),Mc=(t,e,s)=>{const r=z(t)?is(t):is(e);return z(t)&&t.forEach((i,n,o)=>{const l=le(o);l.value=ns(i,s),r.content.push(l)}),e.forEach((i,n,o)=>{const l=g(n);let p;if(z(t)&&t.hasKey(l)&&s.isMergeableElement(i)){const E=t.get(l);p=le(o),p.value=Vc(n,s)(E,i,s)}else p=le(o),p.value=ns(i,s);r.remove(l),r.content.push(p)}),r},Kt={clone:!0,isMergeableElement:t=>z(t)||fe(t),arrayElementMerge:Ac,objectElementMerge:Mc,customMerge:void 0,customMetaMerge:void 0,customAttributesMerge:void 0},Se=(t,e,s)=>{var r,i,n;const o={...Kt,...s};o.isMergeableElement=(r=o.isMergeableElement)!==null&&r!==void 0?r:Kt.isMergeableElement,o.arrayElementMerge=(i=o.arrayElementMerge)!==null&&i!==void 0?i:Kt.arrayElementMerge,o.objectElementMerge=(n=o.objectElementMerge)!==null&&n!==void 0?n:Kt.objectElementMerge;const l=fe(e),p=fe(t);if(!(l===p))return ns(e,o);const y=l&&typeof o.arrayElementMerge=="function"?o.arrayElementMerge(t,e,o):o.objectElementMerge(t,e,o);return y.meta=Rc(o)(t.meta,e.meta),y.attributes=Fc(o)(t.attributes,e.attributes),y};Se.all=(t,e)=>{if(!Array.isArray(t))throw new TypeError("First argument of deepmerge should be an array.");return t.length===0?new c.ObjectElement:t.reduce((s,r)=>Se(s,r,e),is(t[0]))};class Ai extends ce{}class Tn extends Ai{}const Ic=async(t,e)=>{let s=t,r=!1;if(!Sn(t)){const o=le(t);o.classes.push("result"),s=new We([o]),r=!0}const i=new ts({uri:e.resolve.baseURI,parseResult:s,mediaType:e.parse.mediaType}),n=await Si("canDereference",[i,e],e.dereference.strategies);if(gi(n))throw new Tn(i.uri);try{const{result:o}=await ji("dereference",[i,e],n);return r?o.get(0):o}catch(o){throw new Ai(`Error while dereferencing file "${i.uri}"`,{cause:o})}};class Nc{constructor({name:e,allowEmpty:s=!0,sourceMap:r=!1,fileExtensions:i=[],mediaTypes:n=[]}){u(this,"name");u(this,"allowEmpty");u(this,"sourceMap");u(this,"fileExtensions");u(this,"mediaTypes");this.name=e,this.allowEmpty=s,this.sourceMap=r,this.fileExtensions=i,this.mediaTypes=n}}class Dc{constructor({name:e}){u(this,"name");this.name=e}}class cm extends Dc{constructor(s){const{name:r="http-resolver",timeout:i=5e3,redirects:n=5,withCredentials:o=!1}=s??{};super({name:r});u(this,"timeout");u(this,"redirects");u(this,"withCredentials");this.timeout=i,this.redirects=n,this.withCredentials=o}canRead(s){return Wo(s.uri)}}class kc{constructor({name:e}){u(this,"name");this.name=e}}class Cc{constructor({name:e}){u(this,"name");this.name=e}}class Fr extends Array{includesCycle(e){return this.filter(s=>s.has(e)).length>1}includes(e,s){return e instanceof Set?super.includes(e,s):this.some(r=>r.has(e))}findItem(e){for(const s of this)for(const r of s)if(X(r)&&e(r))return r}}let ot=class{constructor({uri:e,depth:s=0,refSet:r,value:i}){u(this,"uri");u(this,"depth");u(this,"value");u(this,"refSet");u(this,"errors");this.uri=e,this.value=i,this.depth=s,this.refSet=r,this.errors=[]}};class Jn extends ce{}class Tc extends Jn{}class Jc extends ce{}class Ln extends Jc{}class Lc extends Jn{constructor(e){super(`Invalid JSON Schema $anchor "${e}".`)}}class Ar extends Ai{}class qc extends Ei{}class Bc extends Ir{}const lm=async(t,e={})=>{const s=gn(Go,e);return Ic(t,s)};class Uc extends bc{filterByFormat(e="generic"){const s=e==="generic"?"openapi;version":e;return this.filter(r=>r.includes(s))}findBy(e="3.1.0",s="generic"){const r=s==="generic"?`vnd.oai.openapi;version=${e}`:`vnd.oai.openapi+${s};version=${e}`;return this.find(n=>n.includes(r))||this.unknownMediaType}latest(e="generic"){return Xs(this.filterByFormat(e))}}const Hc=new Uc("application/vnd.oai.openapi;version=3.1.0","application/vnd.oai.openapi+json;version=3.1.0","application/vnd.oai.openapi+yaml;version=3.1.0");let mt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="callback"}},pt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="components"}get schemas(){return this.get("schemas")}set schemas(e){this.set("schemas",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get requestBodies(){return this.get("requestBodies")}set requestBodies(e){this.set("requestBodies",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get securitySchemes(){return this.get("securitySchemes")}set securitySchemes(e){this.set("securitySchemes",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}},ft=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="contact"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get email(){return this.get("email")}set email(e){this.set("email",e)}},vt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="discriminator"}get propertyName(){return this.get("propertyName")}set propertyName(e){this.set("propertyName",e)}get mapping(){return this.get("mapping")}set mapping(e){this.set("mapping",e)}},Qs=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="encoding"}get contentType(){return this.get("contentType")}set contentType(e){this.set("contentType",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowedReserved(){return this.get("allowedReserved")}set allowedReserved(e){this.set("allowedReserved",e)}},gt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="example"}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get value(){return this.get("value")}set value(e){this.set("value",e)}get externalValue(){return this.get("externalValue")}set externalValue(e){this.set("externalValue",e)}},bt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="externalDocumentation"}get description(){return this.get("description")}set description(e){this.set("description",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Ye=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="header"}get required(){return this.hasKey("required")?this.get("required"):new c.BooleanElement(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new c.BooleanElement(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Ye.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});let yt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get termsOfService(){return this.get("termsOfService")}set termsOfService(e){this.set("termsOfService",e)}get contact(){return this.get("contact")}set contact(e){this.set("contact",e)}get license(){return this.get("license")}set license(e){this.set("license",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}},xt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="license"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},St=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="link"}get operationRef(){return this.get("operationRef")}set operationRef(e){this.set("operationRef",e)}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get operation(){if(F(this.operationRef)){var e;return(e=this.operationRef)===null||e===void 0?void 0:e.meta.get("operation")}if(F(this.operationId)){var s;return(s=this.operationId)===null||s===void 0?void 0:s.meta.get("operation")}}set operation(e){this.set("operation",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get server(){return this.get("server")}set server(e){this.set("server",e)}},jt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mediaType"}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get encoding(){return this.get("encoding")}set encoding(e){this.set("encoding",e)}},Ys=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="oAuthFlow"}get authorizationUrl(){return this.get("authorizationUrl")}set authorizationUrl(e){this.set("authorizationUrl",e)}get tokenUrl(){return this.get("tokenUrl")}set tokenUrl(e){this.set("tokenUrl",e)}get refreshUrl(){return this.get("refreshUrl")}set refreshUrl(e){this.set("refreshUrl",e)}get scopes(){return this.get("scopes")}set scopes(e){this.set("scopes",e)}},_s=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="oAuthFlows"}get implicit(){return this.get("implicit")}set implicit(e){this.set("implicit",e)}get password(){return this.get("password")}set password(e){this.set("password",e)}get clientCredentials(){return this.get("clientCredentials")}set clientCredentials(e){this.set("clientCredentials",e)}get authorizationCode(){return this.get("authorizationCode")}set authorizationCode(e){this.set("authorizationCode",e)}},Et=class extends c.StringElement{constructor(e,s,r){super(e,s,r),this.element="openapi",this.classes.push("spec-version"),this.classes.push("version")}};class er extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="openApi3_0",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}let Ot=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="operation"}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}set externalDocs(e){this.set("externalDocs",e)}get externalDocs(){return this.get("externalDocs")}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new c.BooleanElement(!1)}set deprecated(e){this.set("deprecated",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get servers(){return this.get("severs")}set servers(e){this.set("servers",e)}},_e=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="parameter"}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get required(){return this.hasKey("required")?this.get("required"):new c.BooleanElement(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new c.BooleanElement(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(_e.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});let $t=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="pathItem"}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}},wt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="paths"}},Pt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="reference",this.classes.push("openapi-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}},Vt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="requestBody"}get description(){return this.get("description")}set description(e){this.set("description",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get required(){return this.hasKey("required")?this.get("required"):new c.BooleanElement(!1)}set required(e){this.set("required",e)}},Rt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="response"}get description(){return this.get("description")}set description(e){this.set("description",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}},Ft=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="responses"}get default(){return this.get("default")}set default(e){this.set("default",e)}},et=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="JSONSchemaDraft4"}get idProp(){return this.get("id")}set idProp(e){this.set("id",e)}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get dependencies(){return this.get("dependencies")}set dependencies(e){this.set("dependencies",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){return this.get("definitions")}set definitions(e){this.set("definitions",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get base(){return this.get("base")}set base(e){this.set("base",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get media(){return this.get("media")}set media(e){this.set("media",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}};class tt extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="JSONReference",this.classes.push("json-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}}class At extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="media"}get binaryEncoding(){return this.get("binaryEncoding")}set binaryEncoding(e){this.set("binaryEncoding",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}}let Mt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="linkDescription"}get href(){return this.get("href")}set href(e){this.set("href",e)}get rel(){return this.get("rel")}set rel(e){this.set("rel",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){return this.get("mediaType")}set mediaType(e){this.set("mediaType",e)}get method(){return this.get("method")}set method(e){this.set("method",e)}get encType(){return this.get("encType")}set encType(e){this.set("encType",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}};const zc={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft4",et),e.register("jSONReference",tt),e.register("media",At),e.register("linkDescription",Mt),e}},It=t=>{if(X(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},Wc={JSONSchemaDraft4Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...xe};let qn=class{constructor(e){u(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,s){(e.meta.length>0||s.meta.length>0)&&(s.meta=Se(s.meta,e.meta)),Ze(e)&&Fi(s,e),(e.attributes.length>0||e.meta.length>0)&&(s.attributes=Se(s.attributes,e.attributes))}},C=class extends qn{enter(e){return this.element=V(e),k}},me=class extends qn{constructor({specObj:s,...r}){super({...r});u(this,"specObj");u(this,"passingOptionsNames",["specObj","parent"]);this.specObj=s}retrievePassingOptions(){return un(this.passingOptionsNames,this)}retrieveFixedFields(s){const r=ue(["visitors",...s,"fixedFields"],this.specObj);return typeof r=="object"&&r!==null?Object.keys(r):[]}retrieveVisitor(s){return fi(rn,["visitors",...s],this.specObj)?ue(["visitors",...s],this.specObj):ue(["visitors",...s,"$visitor"],this.specObj)}retrieveVisitorInstance(s,r={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(s),o={...i,...r};return new n(o)}toRefractedElement(s,r,i={}){const n=this.retrieveVisitorInstance(s,i);return n instanceof C&&(n==null?void 0:n.constructor)===C?V(r):(se(r,n,i),n.element)}},Ne=class extends me{constructor({specPath:s,ignoredFields:r,...i}){super({...i});u(this,"specPath");u(this,"ignoredFields");this.specPath=s,this.ignoredFields=r||[]}ObjectElement(s){const r=this.specPath(s),i=this.retrieveFixedFields(r);return s.forEach((n,o,l)=>{if(F(o)&&i.includes(g(o))&&!this.ignoredFields.includes(g(o))){const p=this.toRefractedElement([...r,"fixedFields",g(o)],n),E=new c.MemberElement(V(o),p);this.copyMetaAndAttributes(l,E),E.classes.push("fixed-field"),this.element.content.push(E)}else this.ignoredFields.includes(g(o))||this.element.content.push(V(l))}),this.copyMetaAndAttributes(s,this.element),k}};class G{constructor({parent:e}){u(this,"parent");this.parent=e}}const Bn=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof et||t(r)&&e("JSONSchemaDraft4",r)&&s("object",r)),Mi=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof tt||t(r)&&e("JSONReference",r)&&s("object",r)),Un=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof At||t(r)&&e("media",r)&&s("object",r)),Kc=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Mt||t(r)&&e("linkDescription",r)&&s("object",r)),Xc=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:Mi,isJSONSchemaElement:Bn,isLinkDescriptionElement:Kc,isMediaElement:Un},Symbol.toStringTag,{value:"Module"}));let Hn=class extends f(Ne,G,C){constructor(e){super(e),this.element=new et,this.specPath=R(["document","objects","JSONSchema"])}get defaultDialectIdentifier(){return"http://json-schema.org/draft-04/schema#"}ObjectElement(e){return this.handleDialectIdentifier(e),this.handleSchemaIdentifier(e),this.parent=this.element,Ne.prototype.ObjectElement.call(this,e)}handleDialectIdentifier(e){if(Ce(this.parent)&&!F(e.get("$schema")))this.element.setMetaProperty("inheritedDialectIdentifier",this.defaultDialectIdentifier);else if(Bn(this.parent)&&!F(e.get("$schema"))){const s=_t(g(this.parent.meta.get("inheritedDialectIdentifier")),g(this.parent.$schema));this.element.setMetaProperty("inheritedDialectIdentifier",s)}}handleSchemaIdentifier(e,s="id"){const r=this.parent!==void 0?V(this.parent.getMetaProperty("ancestorsSchemaIdentifiers",[])):new c.ArrayElement,i=g(e.get(s));pi(i)&&r.push(i),this.element.setMetaProperty("ancestorsSchemaIdentifiers",r)}};const be=t=>z(t)&&t.hasKey("$ref");let zn=class extends f(me,G,C){ObjectElement(e){const s=be(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"];return this.element=this.toRefractedElement(s,e),k}ArrayElement(e){return this.element=new c.ArrayElement,this.element.classes.push("json-schema-items"),e.forEach(s=>{const r=be(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(r,s);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),k}};class Gc extends C{ArrayElement(e){const s=this.enter(e);return this.element.classes.push("json-schema-required"),s}}let Zc=class extends me{constructor({specPath:s,ignoredFields:r,fieldPatternPredicate:i,...n}){super({...n});u(this,"specPath");u(this,"ignoredFields");u(this,"fieldPatternPredicate",bi);this.specPath=s,this.ignoredFields=r||[],typeof i=="function"&&(this.fieldPatternPredicate=i)}ObjectElement(s){return s.forEach((r,i,n)=>{if(!this.ignoredFields.includes(g(i))&&this.fieldPatternPredicate(g(i))){const o=this.specPath(r),l=this.toRefractedElement(o,r),p=new c.MemberElement(V(i),l);this.copyMetaAndAttributes(n,p),p.classes.push("patterned-field"),this.element.content.push(p)}else this.ignoredFields.includes(g(i))||this.element.content.push(V(n))}),this.copyMetaAndAttributes(s,this.element),k}},Ae=class extends Zc{constructor(e){super(e),this.fieldPatternPredicate=pi}},Qc=class extends f(Ae,G,C){constructor(e){super(e),this.element=new c.ObjectElement,this.element.classes.push("json-schema-properties"),this.specPath=s=>be(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}},Yc=class extends f(Ae,G,C){constructor(e){super(e),this.element=new c.ObjectElement,this.element.classes.push("json-schema-patternProperties"),this.specPath=s=>be(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}};class _c extends f(Ae,G,C){constructor(e){super(e),this.element=new c.ObjectElement,this.element.classes.push("json-schema-dependencies"),this.specPath=s=>be(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}class ea extends C{ArrayElement(e){const s=this.enter(e);return this.element.classes.push("json-schema-enum"),s}}let ta=class extends C{StringElement(e){const s=this.enter(e);return this.element.classes.push("json-schema-type"),s}ArrayElement(e){const s=this.enter(e);return this.element.classes.push("json-schema-type"),s}},sa=class extends f(me,G,C){constructor(e){super(e),this.element=new c.ArrayElement,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach(s=>{const r=be(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(r,s);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),k}},ra=class extends f(me,G,C){constructor(e){super(e),this.element=new c.ArrayElement,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach(s=>{const r=be(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(r,s);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),k}},ia=class extends f(me,G,C){constructor(e){super(e),this.element=new c.ArrayElement,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach(s=>{const r=be(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(r,s);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),k}};class na extends f(Ae,G,C){constructor(e){super(e),this.element=new c.ObjectElement,this.element.classes.push("json-schema-definitions"),this.specPath=s=>be(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}let oa=class extends f(me,G,C){constructor(e){super(e),this.element=new c.ArrayElement,this.element.classes.push("json-schema-links")}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","LinkDescription"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),k}};class ca extends f(Ne,C){constructor(e){super(e),this.element=new tt,this.specPath=R(["document","objects","JSONReference"])}ObjectElement(e){const s=Ne.prototype.ObjectElement.call(this,e);return F(this.element.$ref)&&this.element.classes.push("reference-element"),s}}let aa=class extends C{StringElement(e){const s=this.enter(e);return this.element.classes.push("reference-value"),s}},la=class extends me{constructor({alternator:s,...r}){super({...r});u(this,"alternator");this.alternator=s}enter(s){const r=this.alternator.map(({predicate:n,specPath:o})=>dn(n,R(o),nn)),i=on(r)(s);return this.element=this.toRefractedElement(i,s),k}},Le=class extends la{constructor(e){super(e),this.alternator=[{predicate:be,specPath:["document","objects","JSONReference"]},{predicate:je,specPath:["document","objects","JSONSchema"]}]}};class ua extends f(Ne,C){constructor(e){super(e),this.element=new At,this.specPath=R(["document","objects","Media"])}}let Wn=class extends f(Ne,C){constructor(e){super(e),this.element=new Mt,this.specPath=R(["document","objects","LinkDescription"])}};const ae={visitors:{value:C,JSONSchemaOrJSONReferenceVisitor:Le,document:{objects:{JSONSchema:{$visitor:Hn,fixedFields:{id:{$ref:"#/visitors/value"},$schema:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},additionalItems:Le,items:zn,maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:Gc,properties:Qc,additionalProperties:Le,patternProperties:Yc,dependencies:_c,enum:ea,type:ta,allOf:sa,anyOf:ra,oneOf:ia,not:Le,definitions:na,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},format:{$ref:"#/visitors/value"},base:{$ref:"#/visitors/value"},links:oa,media:{$ref:"#/visitors/document/objects/Media"},readOnly:{$ref:"#/visitors/value"}}},JSONReference:{$visitor:ca,fixedFields:{$ref:aa}},Media:{$visitor:ua,fixedFields:{binaryEncoding:{$ref:"#/visitors/value"},type:{$ref:"#/visitors/value"}}},LinkDescription:{$visitor:Wn,fixedFields:{href:{$ref:"#/visitors/value"},rel:{$ref:"#/visitors/value"},title:{$ref:"#/visitors/value"},targetSchema:Le,mediaType:{$ref:"#/visitors/value"},method:{$ref:"#/visitors/value"},encType:{$ref:"#/visitors/value"},schema:Le}}}}}},da=()=>{const t=Re(zc);return{predicates:{...Xc,isStringElement:F},namespace:t}},ha=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:s=[],specificationObj:r=ae}={})=>{const i=c.refract(t),n=Fe(r),o=ue(e,n),l=new o({specObj:n});return se(i,l),Oe(l.element,s,{toolboxCreator:da,visitorOptions:{keyMap:Wc,nodeTypeGetter:It}})},tr=t=>(e,s={})=>ha(e,{specPath:t,...s});et.refract=tr(["visitors","document","objects","JSONSchema","$visitor"]);tt.refract=tr(["visitors","document","objects","JSONReference","$visitor"]);At.refract=tr(["visitors","document","objects","Media","$visitor"]);Mt.refract=tr(["visitors","document","objects","LinkDescription","$visitor"]);let sr=class extends et{constructor(e,s,r){super(e,s,r),this.element="schema",this.classes.push("json-schema-draft-4")}get idProp(){throw new D("idProp getter in Schema class is not not supported.")}set idProp(e){throw new D("idProp setter in Schema class is not not supported.")}get $schema(){throw new D("$schema getter in Schema class is not not supported.")}set $schema(e){throw new D("$schema setter in Schema class is not not supported.")}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){throw new D("patternProperties getter in Schema class is not not supported.")}set patternProperties(e){throw new D("patternProperties setter in Schema class is not not supported.")}get dependencies(){throw new D("dependencies getter in Schema class is not not supported.")}set dependencies(e){throw new D("dependencies setter in Schema class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){throw new D("definitions getter in Schema class is not not supported.")}set definitions(e){throw new D("definitions setter in Schema class is not not supported.")}get base(){throw new D("base getter in Schema class is not not supported.")}set base(e){throw new D("base setter in Schema class is not not supported.")}get links(){throw new D("links getter in Schema class is not not supported.")}set links(e){throw new D("links setter in Schema class is not not supported.")}get media(){throw new D("media getter in Schema class is not not supported.")}set media(e){throw new D("media setter in Schema class is not not supported.")}get nullable(){return this.get("nullable")}set nullable(e){this.set("nullable",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}},Nt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="securityRequirement"}},Dt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="securityScheme"}get type(){return this.get("type")}set type(e){this.set("type",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get scheme(){return this.get("scheme")}set scheme(e){this.set("scheme",e)}get bearerFormat(){return this.get("bearerFormat")}set bearerFormat(e){this.set("bearerFormat",e)}get flows(){return this.get("flows")}set flows(e){this.set("flows",e)}get openIdConnectUrl(){return this.get("openIdConnectUrl")}set openIdConnectUrl(e){this.set("openIdConnectUrl",e)}},kt=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="server"}get url(){return this.get("url")}set url(e){this.set("url",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get variables(){return this.get("variables")}set variables(e){this.set("variables",e)}},Ct=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="serverVariable"}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}},rr=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="tag"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}},ir=class extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="xml"}get name(){return this.get("name")}set name(e){this.set("name",e)}get namespace(){return this.get("namespace")}set namespace(e){this.set("namespace",e)}get prefix(){return this.get("prefix")}set prefix(e){this.set("prefix",e)}get attribute(){return this.get("attribute")}set attribute(e){this.set("attribute",e)}get wrapped(){return this.get("wrapped")}set wrapped(e){this.set("wrapped",e)}};const ma={namespace:t=>{const{base:e}=t;return e.register("callback",mt),e.register("components",pt),e.register("contact",ft),e.register("discriminator",vt),e.register("encoding",Qs),e.register("example",gt),e.register("externalDocumentation",bt),e.register("header",Ye),e.register("info",yt),e.register("license",xt),e.register("link",St),e.register("mediaType",jt),e.register("oAuthFlow",Ys),e.register("oAuthFlows",_s),e.register("openapi",Et),e.register("openApi3_0",er),e.register("operation",Ot),e.register("parameter",_e),e.register("pathItem",$t),e.register("paths",wt),e.register("reference",Pt),e.register("requestBody",Vt),e.register("response",Rt),e.register("responses",Ft),e.register("schema",sr),e.register("securityRequirement",Nt),e.register("securityScheme",Dt),e.register("server",kt),e.register("serverVariable",Ct),e.register("tag",rr),e.register("xml",ir),e}},ds=class ds extends c.ArrayElement{constructor(e,s,r){super(e,s,r),this.classes.push(ds.primaryClass)}};u(ds,"primaryClass","servers");let os=ds;const hs=class hs extends c.ArrayElement{constructor(e,s,r){super(e,s,r),this.classes.push(hs.primaryClass)}};u(hs,"primaryClass","security");let Nr=hs;const ms=class ms extends c.ArrayElement{constructor(e,s,r){super(e,s,r),this.classes.push(ms.primaryClass)}};u(ms,"primaryClass","tags");let Dr=ms;const ps=class ps extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(ps.primaryClass)}};u(ps,"primaryClass","server-variables");let kr=ps;const fs=class fs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(fs.primaryClass)}};u(fs,"primaryClass","components-schemas");let cs=fs;const vs=class vs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(vs.primaryClass)}};u(vs,"primaryClass","components-responses");let Cr=vs;const gs=class gs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(gs.primaryClass),this.classes.push("parameters")}};u(gs,"primaryClass","components-parameters");let Tr=gs;const bs=class bs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(bs.primaryClass),this.classes.push("examples")}};u(bs,"primaryClass","components-examples");let Jr=bs;const ys=class ys extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(ys.primaryClass)}};u(ys,"primaryClass","components-request-bodies");let Lr=ys;const xs=class xs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(xs.primaryClass)}};u(xs,"primaryClass","components-headers");let qr=xs;const Ss=class Ss extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Ss.primaryClass)}};u(Ss,"primaryClass","components-security-schemes");let Br=Ss;const js=class js extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(js.primaryClass)}};u(js,"primaryClass","components-links");let Ur=js;const Es=class Es extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Es.primaryClass)}};u(Es,"primaryClass","components-callbacks");let Hr=Es;const Os=class Os extends c.ArrayElement{constructor(e,s,r){super(e,s,r),this.classes.push(Os.primaryClass),this.classes.push("servers")}};u(Os,"primaryClass","path-item-servers");let zr=Os;const $s=class $s extends c.ArrayElement{constructor(e,s,r){super(e,s,r),this.classes.push($s.primaryClass),this.classes.push("parameters")}};u($s,"primaryClass","path-item-parameters");let Wr=$s;const ws=class ws extends c.ArrayElement{constructor(e,s,r){super(e,s,r),this.classes.push(ws.primaryClass),this.classes.push("parameters")}};u(ws,"primaryClass","operation-parameters");let as=ws;const Ps=class Ps extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Ps.primaryClass),this.classes.push("examples")}};u(Ps,"primaryClass","parameter-examples");let Kr=Ps;const Vs=class Vs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Vs.primaryClass),this.classes.push("content")}};u(Vs,"primaryClass","parameter-content");let Xr=Vs;const Rs=class Rs extends c.ArrayElement{constructor(e,s,r){super(e,s,r),this.classes.push(Rs.primaryClass)}};u(Rs,"primaryClass","operation-tags");let Gr=Rs;const Fs=class Fs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Fs.primaryClass)}};u(Fs,"primaryClass","operation-callbacks");let Zr=Fs;const As=class As extends c.ArrayElement{constructor(e,s,r){super(e,s,r),this.classes.push(As.primaryClass),this.classes.push("security")}};u(As,"primaryClass","operation-security");let ls=As;const Ms=class Ms extends c.ArrayElement{constructor(e,s,r){super(e,s,r),this.classes.push(Ms.primaryClass),this.classes.push("servers")}};u(Ms,"primaryClass","operation-servers");let Qr=Ms;const Is=class Is extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Is.primaryClass),this.classes.push("content")}};u(Is,"primaryClass","request-body-content");let Yr=Is;const Ns=class Ns extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Ns.primaryClass),this.classes.push("examples")}};u(Ns,"primaryClass","media-type-examples");let _r=Ns;const Ds=class Ds extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Ds.primaryClass)}};u(Ds,"primaryClass","media-type-encoding");let ei=Ds;const ks=class ks extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(ks.primaryClass)}};u(ks,"primaryClass","encoding-headers");let ti=ks;const Cs=class Cs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Cs.primaryClass)}};u(Cs,"primaryClass","response-headers");let si=Cs;const Ts=class Ts extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Ts.primaryClass),this.classes.push("content")}};u(Ts,"primaryClass","response-content");let ri=Ts;const Js=class Js extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Js.primaryClass)}};u(Js,"primaryClass","response-links");let ii=Js;const Ls=class Ls extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Ls.primaryClass)}};u(Ls,"primaryClass","discriminator-mapping");let ni=Ls;const qs=class qs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(qs.primaryClass)}};u(qs,"primaryClass","oauth-flow-scopes");let oi=qs;const Bs=class Bs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Bs.primaryClass)}};u(Bs,"primaryClass","link-parameters");let ci=Bs;const Us=class Us extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Us.primaryClass),this.classes.push("examples")}};u(Us,"primaryClass","header-examples");let ai=Us;const Hs=class Hs extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Hs.primaryClass),this.classes.push("content")}};u(Hs,"primaryClass","header-content");let li=Hs;const pa=t=>{if(X(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},fa={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_0Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...xe};class Kn{constructor(e={}){u(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,s){(e.meta.length>0||s.meta.length>0)&&(s.meta=Se(s.meta,e.meta)),Ze(e)&&Fi(s,e),(e.attributes.length>0||e.meta.length>0)&&(s.attributes=Se(s.attributes,e.attributes))}}class S extends Kn{enter(e){return this.element=V(e),k}}class ge extends Kn{constructor({specObj:s,passingOptionsNames:r,openApiGenericElement:i,openApiSemanticElement:n,...o}){super({...o});u(this,"specObj");u(this,"passingOptionsNames",["specObj","openApiGenericElement","openApiSemanticElement"]);u(this,"openApiGenericElement");u(this,"openApiSemanticElement");this.specObj=s,this.openApiGenericElement=i,this.openApiSemanticElement=n,Array.isArray(r)&&(this.passingOptionsNames=r)}retrievePassingOptions(){return un(this.passingOptionsNames,this)}retrieveFixedFields(s){const r=ue(["visitors",...s,"fixedFields"],this.specObj);return typeof r=="object"&&r!==null?Object.keys(r):[]}retrieveVisitor(s){return fi(rn,["visitors",...s],this.specObj)?ue(["visitors",...s],this.specObj):ue(["visitors",...s,"$visitor"],this.specObj)}retrieveVisitorInstance(s,r={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(s),o={...i,...r};return new n(o)}toRefractedElement(s,r,i={}){const n=this.retrieveVisitorInstance(s,i);return n instanceof S&&(n==null?void 0:n.constructor)===S?V(r):(se(r,n,i),n.element)}}const W=t=>z(t)&&t.hasKey("$ref"),va=z,ga=z,Xn=t=>F(t.key)&&Do("x-",g(t.key));class N extends ge{constructor({specPath:s,ignoredFields:r,canSupportSpecificationExtensions:i,specificationExtensionPredicate:n,...o}){super({...o});u(this,"specPath");u(this,"ignoredFields");u(this,"canSupportSpecificationExtensions",!0);u(this,"specificationExtensionPredicate",Xn);this.specPath=s,this.ignoredFields=r||[],typeof i=="boolean"&&(this.canSupportSpecificationExtensions=i),typeof n=="function"&&(this.specificationExtensionPredicate=n)}ObjectElement(s){const r=this.specPath(s),i=this.retrieveFixedFields(r);return s.forEach((n,o,l)=>{if(F(o)&&i.includes(g(o))&&!this.ignoredFields.includes(g(o))){const p=this.toRefractedElement([...r,"fixedFields",g(o)],n),E=new c.MemberElement(V(o),p);this.copyMetaAndAttributes(l,E),E.classes.push("fixed-field"),this.element.content.push(E)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(l)){const p=this.toRefractedElement(["document","extension"],l);this.element.content.push(p)}else this.ignoredFields.includes(g(o))||this.element.content.push(V(l))}),this.copyMetaAndAttributes(s,this.element),k}}class ba extends f(N,S){constructor(e){super(e),this.element=new er,this.specPath=R(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){return N.prototype.ObjectElement.call(this,e)}}class ya extends f(ge,S){StringElement(e){const s=new Et(g(e));return this.copyMetaAndAttributes(e,s),this.element=s,k}}class xa extends ge{MemberElement(e){return this.element=V(e),this.element.classes.push("specification-extension"),k}}let Sa=class extends f(N,S){constructor(e){super(e),this.element=new yt,this.specPath=R(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}};class ja extends S{StringElement(e){const s=super.enter(e);return this.element.classes.push("api-version"),this.element.classes.push("version"),s}}let Ea=class extends f(N,S){constructor(e){super(e),this.element=new ft,this.specPath=R(["document","objects","Contact"]),this.canSupportSpecificationExtensions=!0}},Oa=class extends f(N,S){constructor(e){super(e),this.element=new xt,this.specPath=R(["document","objects","License"]),this.canSupportSpecificationExtensions=!0}},$a=class extends f(N,S){constructor(e){super(e),this.element=new St,this.specPath=R(["document","objects","Link"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=N.prototype.ObjectElement.call(this,e);return(F(this.element.operationId)||F(this.element.operationRef))&&this.element.classes.push("reference-element"),s}};class wa extends S{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}}class Pa extends S{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}}class Ke extends ge{constructor({specPath:s,ignoredFields:r,fieldPatternPredicate:i,canSupportSpecificationExtensions:n,specificationExtensionPredicate:o,...l}){super({...l});u(this,"specPath");u(this,"ignoredFields");u(this,"fieldPatternPredicate",bi);u(this,"canSupportSpecificationExtensions",!1);u(this,"specificationExtensionPredicate",Xn);this.specPath=s,this.ignoredFields=r||[],typeof i=="function"&&(this.fieldPatternPredicate=i),typeof n=="boolean"&&(this.canSupportSpecificationExtensions=n),typeof o=="function"&&(this.specificationExtensionPredicate=o)}ObjectElement(s){return s.forEach((r,i,n)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const o=this.toRefractedElement(["document","extension"],n);this.element.content.push(o)}else if(!this.ignoredFields.includes(g(i))&&this.fieldPatternPredicate(g(i))){const o=this.specPath(r),l=this.toRefractedElement(o,r),p=new c.MemberElement(V(i),l);this.copyMetaAndAttributes(n,p),p.classes.push("patterned-field"),this.element.content.push(p)}else this.ignoredFields.includes(g(i))||this.element.content.push(V(n))}),this.copyMetaAndAttributes(s,this.element),k}}class I extends Ke{constructor(e){super(e),this.fieldPatternPredicate=pi}}let Va=class extends f(I,S){constructor(e){super(e),this.element=new ci,this.specPath=R(["value"])}},Ra=class extends f(N,S){constructor(e){super(e),this.element=new kt,this.specPath=R(["document","objects","Server"]),this.canSupportSpecificationExtensions=!0}};class Fa extends S{StringElement(e){const s=super.enter(e);return this.element.classes.push("server-url"),s}}let Ii=class extends f(ge,S){constructor(e){super(e),this.element=new os}ArrayElement(e){return e.forEach(s=>{const r=va(s)?["document","objects","Server"]:["value"],i=this.toRefractedElement(r,s);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),k}},Aa=class extends f(N,S){constructor(e){super(e),this.element=new Ct,this.specPath=R(["document","objects","ServerVariable"]),this.canSupportSpecificationExtensions=!0}};class Ma extends f(I,S){constructor(e){super(e),this.element=new kr,this.specPath=R(["document","objects","ServerVariable"])}}let Ia=class extends f(N,S){constructor(e){super(e),this.element=new jt,this.specPath=R(["document","objects","MediaType"]),this.canSupportSpecificationExtensions=!0}};class ye extends ge{constructor({alternator:s,...r}){super({...r});u(this,"alternator");this.alternator=s||[]}enter(s){const r=this.alternator.map(({predicate:n,specPath:o})=>dn(n,R(o),nn)),i=on(r)(s);return this.element=this.toRefractedElement(i,s),k}}const Na=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof mt||t(r)&&e("callback",r)&&s("object",r)),Da=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof pt||t(r)&&e("components",r)&&s("object",r)),ka=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ft||t(r)&&e("contact",r)&&s("object",r)),Ca=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof gt||t(r)&&e("example",r)&&s("object",r)),Ta=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof bt||t(r)&&e("externalDocumentation",r)&&s("object",r)),st=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Ye||t(r)&&e("header",r)&&s("object",r)),Ja=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof yt||t(r)&&e("info",r)&&s("object",r)),La=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof xt||t(r)&&e("license",r)&&s("object",r)),qa=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof St||t(r)&&e("link",r)&&s("object",r)),Ba=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Et||t(r)&&e("openapi",r)&&s("string",r)),Ua=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>i=>i instanceof er||t(i)&&e("openApi3_0",i)&&s("object",i)&&r("api",i)),Gn=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Ot||t(r)&&e("operation",r)&&s("object",r)),Ha=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof _e||t(r)&&e("parameter",r)&&s("object",r)),Ni=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof $t||t(r)&&e("pathItem",r)&&s("object",r)),za=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof wt||t(r)&&e("paths",r)&&s("object",r)),U=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Pt||t(r)&&e("reference",r)&&s("object",r)),Wa=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Vt||t(r)&&e("requestBody",r)&&s("object",r)),nr=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Rt||t(r)&&e("response",r)&&s("object",r)),Ka=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Ft||t(r)&&e("responses",r)&&s("object",r)),Xa=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof sr||t(r)&&e("schema",r)&&s("object",r)),Ga=t=>dt(t)&&t.classes.includes("boolean-json-schema"),Za=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Nt||t(r)&&e("securityRequirement",r)&&s("object",r)),Qa=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Dt||t(r)&&e("securityScheme",r)&&s("object",r)),Ya=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof kt||t(r)&&e("server",r)&&s("object",r)),_a=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Ct||t(r)&&e("serverVariable",r)&&s("object",r)),or=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof jt||t(r)&&e("mediaType",r)&&s("object",r)),Zn=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>i=>i instanceof os||t(i)&&e("array",i)&&s("array",i)&&r("servers",i)),el=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof vt||t(r)&&e("discriminator",r)&&s("object",r)),tl=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:Ga,isCallbackElement:Na,isComponentsElement:Da,isContactElement:ka,isDiscriminatorElement:el,isExampleElement:Ca,isExternalDocumentationElement:Ta,isHeaderElement:st,isInfoElement:Ja,isLicenseElement:La,isLinkElement:qa,isMediaTypeElement:or,isOpenApi3_0Element:Ua,isOpenapiElement:Ba,isOperationElement:Gn,isParameterElement:Ha,isPathItemElement:Ni,isPathsElement:za,isReferenceElement:U,isRequestBodyElement:Wa,isResponseElement:nr,isResponsesElement:Ka,isSchemaElement:Xa,isSecurityRequirementElement:Za,isSecuritySchemeElement:Qa,isServerElement:Ya,isServerVariableElement:_a,isServersElement:Zn},Symbol.toStringTag,{value:"Module"}));let sl=class extends f(ye,S){constructor(e){super(e),this.alternator=[{predicate:W,specPath:["document","objects","Reference"]},{predicate:je,specPath:["document","objects","Schema"]}]}ObjectElement(e){const s=ye.prototype.enter.call(this,e);return U(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}},Di=class extends f(I,S){constructor(e){super(e),this.element=new c.ObjectElement,this.element.classes.push("examples"),this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Example"],this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","example")}),s}},rl=class extends Di{constructor(e){super(e),this.element=new _r}},il=class extends f(I,S){constructor(e){super(e),this.element=new ei,this.specPath=R(["document","objects","Encoding"])}},nl=class extends f(I,S){constructor(e){super(e),this.element=new Nt,this.specPath=R(["value"])}},ol=class extends f(ge,S){constructor(e){super(e),this.element=new Nr}ArrayElement(e){return e.forEach(s=>{if(z(s)){const r=this.toRefractedElement(["document","objects","SecurityRequirement"],s);this.element.push(r)}else this.element.push(V(s))}),this.copyMetaAndAttributes(e,this.element),k}},cl=class extends f(N,S){constructor(e){super(e),this.element=new pt,this.specPath=R(["document","objects","Components"]),this.canSupportSpecificationExtensions=!0}},al=class extends f(N,S){constructor(e){super(e),this.element=new rr,this.specPath=R(["document","objects","Tag"]),this.canSupportSpecificationExtensions=!0}},ll=class extends f(N,S){constructor(e){super(e),this.element=new Pt,this.specPath=R(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const s=N.prototype.ObjectElement.call(this,e);return F(this.element.$ref)&&this.element.classes.push("reference-element"),s}},ul=class extends S{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}},dl=class extends f(N,S){constructor(e){super(e),this.element=new _e,this.specPath=R(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=N.prototype.ObjectElement.call(this,e);return z(this.element.contentProp)&&this.element.contentProp.filter(or).forEach((r,i)=>{r.setMetaProperty("media-type",g(i))}),s}},hl=class extends f(ye,S){constructor(e){super(e),this.alternator=[{predicate:W,specPath:["document","objects","Reference"]},{predicate:je,specPath:["document","objects","Schema"]}]}ObjectElement(e){const s=ye.prototype.enter.call(this,e);return U(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}},ml=class extends f(N,S){constructor(e){super(e),this.element=new Ye,this.specPath=R(["document","objects","Header"]),this.canSupportSpecificationExtensions=!0}},pl=class extends f(ye,S){constructor(e){super(e),this.alternator=[{predicate:W,specPath:["document","objects","Reference"]},{predicate:je,specPath:["document","objects","Schema"]}]}ObjectElement(e){const s=ye.prototype.enter.call(this,e);return U(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}},fl=class extends Di{constructor(e){super(e),this.element=new ai}},cr=class extends f(I,S){constructor(e){super(e),this.element=new c.ObjectElement,this.element.classes.push("content"),this.specPath=R(["document","objects","MediaType"])}},vl=class extends cr{constructor(e){super(e),this.element=new li}},gl=class extends f(N,S){constructor(e){super(e),this.element=new sr,this.specPath=R(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0}};const zi=ae.visitors.document.objects.JSONSchema.fixedFields.allOf;let bl=class extends zi{ArrayElement(e){const s=zi.prototype.ArrayElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const Wi=ae.visitors.document.objects.JSONSchema.fixedFields.anyOf;let yl=class extends Wi{ArrayElement(e){const s=Wi.prototype.ArrayElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const Ki=ae.visitors.document.objects.JSONSchema.fixedFields.oneOf;let xl=class extends Ki{ArrayElement(e){const s=Ki.prototype.ArrayElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const Xi=ae.visitors.document.objects.JSONSchema.fixedFields.items;let Sl=class extends Xi{ObjectElement(e){const s=Xi.prototype.ObjectElement.call(this,e);return U(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}ArrayElement(e){return this.enter(e)}};const Gi=ae.visitors.document.objects.JSONSchema.fixedFields.properties;let jl=class extends Gi{ObjectElement(e){const s=Gi.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const El=ae.visitors.document.objects.JSONSchema.fixedFields.type;class Ol extends El{ArrayElement(e){return this.enter(e)}}const Zi=ae.visitors.JSONSchemaOrJSONReferenceVisitor;class Qi extends Zi{ObjectElement(e){const s=Zi.prototype.enter.call(this,e);return U(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}}let $l=class extends f(N,S){constructor(e){super(e),this.element=new vt,this.specPath=R(["document","objects","Discriminator"]),this.canSupportSpecificationExtensions=!1}};class wl extends f(I,S){constructor(e){super(e),this.element=new ni,this.specPath=R(["value"])}}let Pl=class extends f(N,S){constructor(e){super(e),this.element=new ir,this.specPath=R(["document","objects","XML"]),this.canSupportSpecificationExtensions=!0}},Vl=class extends Di{constructor(e){super(e),this.element=new Kr}},Rl=class extends cr{constructor(e){super(e),this.element=new Xr}},Fl=class extends f(I,S){constructor(e){super(e),this.element=new cs,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Schema"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}},Al=class extends f(I,S){constructor(e){super(e),this.element=new Cr,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Response"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","response")}),this.element.filter(nr).forEach((r,i)=>{r.setMetaProperty("http-status-code",g(i))}),s}},Ml=class extends f(I,S){constructor(e){super(e),this.element=new Tr,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Parameter"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","parameter")}),s}},Il=class extends f(I,S){constructor(e){super(e),this.element=new Jr,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Example"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","example")}),s}};class Nl extends f(I,S){constructor(e){super(e),this.element=new Lr,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","RequestBody"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","requestBody")}),s}}let Dl=class extends f(I,S){constructor(e){super(e),this.element=new qr,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","header")}),this.element.filter(st).forEach((r,i)=>{r.setMetaProperty("header-name",g(i))}),s}};class kl extends f(I,S){constructor(e){super(e),this.element=new Br,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","SecurityScheme"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","securityScheme")}),s}}let Cl=class extends f(I,S){constructor(e){super(e),this.element=new Ur,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","link")}),s}},Tl=class extends f(I,S){constructor(e){super(e),this.element=new Hr,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","callback")}),s}},Jl=class extends f(N,S){constructor(e){super(e),this.element=new gt,this.specPath=R(["document","objects","Example"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=N.prototype.ObjectElement.call(this,e);return F(this.element.externalValue)&&this.element.classes.push("reference-element"),s}};class Ll extends S{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}}let ql=class extends f(N,S){constructor(e){super(e),this.element=new bt,this.specPath=R(["document","objects","ExternalDocumentation"]),this.canSupportSpecificationExtensions=!0}},Bl=class extends f(N,S){constructor(e){super(e),this.element=new Qs,this.specPath=R(["document","objects","Encoding"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=N.prototype.ObjectElement.call(this,e);return z(this.element.headers)&&this.element.headers.filter(st).forEach((r,i)=>{r.setMetaProperty("header-name",g(i))}),s}},Ul=class extends f(I,S){constructor(e){super(e),this.element=new ti,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","header")}),this.element.forEach((r,i)=>{if(!st(r))return;const n=g(i);r.setMetaProperty("headerName",n)}),s}},Hl=class extends f(Ke,S){constructor(e){super(e),this.element=new wt,this.specPath=R(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=je}ObjectElement(e){const s=Ke.prototype.ObjectElement.call(this,e);return this.element.filter(Ni).forEach((r,i)=>{i.classes.push("openapi-path-template"),i.classes.push("path-template"),r.setMetaProperty("path",V(i))}),s}},zl=class extends f(N,S){constructor(e){super(e),this.element=new Vt,this.specPath=R(["document","objects","RequestBody"])}ObjectElement(e){const s=N.prototype.ObjectElement.call(this,e);return z(this.element.contentProp)&&this.element.contentProp.filter(or).forEach((r,i)=>{r.setMetaProperty("media-type",g(i))}),s}},Wl=class extends cr{constructor(e){super(e),this.element=new Yr}},Kl=class extends f(Ke,S){constructor(e){super(e),this.element=new mt,this.specPath=R(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=s=>/{(?<expression>[^}]{1,2083})}/.test(String(s))}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(Ni).forEach((r,i)=>{r.setMetaProperty("runtime-expression",g(i))}),s}},Xl=class extends f(N,S){constructor(e){super(e),this.element=new Rt,this.specPath=R(["document","objects","Response"])}ObjectElement(e){const s=N.prototype.ObjectElement.call(this,e);return z(this.element.contentProp)&&this.element.contentProp.filter(or).forEach((r,i)=>{r.setMetaProperty("media-type",g(i))}),z(this.element.headers)&&this.element.headers.filter(st).forEach((r,i)=>{r.setMetaProperty("header-name",g(i))}),s}};class Gl extends f(I,S){constructor(e){super(e),this.element=new si,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","header")}),this.element.forEach((r,i)=>{if(!st(r))return;const n=g(i);r.setMetaProperty("header-name",n)}),s}}class Zl extends cr{constructor(e){super(e),this.element=new ri}}class Ql extends f(I,S){constructor(e){super(e),this.element=new ii,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","link")}),s}}class Yi extends f(N,Ke){constructor({specPathFixedFields:s,specPathPatternedFields:r,...i}){super({...i});u(this,"specPathFixedFields");u(this,"specPathPatternedFields");this.specPathFixedFields=s,this.specPathPatternedFields=r}ObjectElement(s){const{specPath:r,ignoredFields:i}=this;try{this.specPath=this.specPathFixedFields;const n=this.retrieveFixedFields(this.specPath(s));this.ignoredFields=[...i,...ko(s.keys(),n)],N.prototype.ObjectElement.call(this,s),this.specPath=this.specPathPatternedFields,this.ignoredFields=n,Ke.prototype.ObjectElement.call(this,s)}catch(n){throw this.specPath=r,n}return k}}let Yl=class extends f(Yi,S){constructor(e){super(e),this.element=new Ft,this.specPathFixedFields=R(["document","objects","Responses"]),this.canSupportSpecificationExtensions=!0,this.specPathPatternedFields=s=>W(s)?["document","objects","Reference"]:["document","objects","Response"],this.fieldPatternPredicate=s=>new RegExp(`^(1XX|2XX|3XX|4XX|5XX|${Co(100,600).join("|")})$`).test(String(s))}ObjectElement(e){const s=Yi.prototype.ObjectElement.call(this,e);return this.element.filter(U).forEach(r=>{r.setMetaProperty("referenced-element","response")}),this.element.filter(nr).forEach((r,i)=>{const n=V(i);this.fieldPatternPredicate(g(n))&&r.setMetaProperty("http-status-code",n)}),s}};class _l extends f(ye,S){constructor(e){super(e),this.alternator=[{predicate:W,specPath:["document","objects","Reference"]},{predicate:je,specPath:["document","objects","Response"]}]}ObjectElement(e){const s=ye.prototype.enter.call(this,e);return U(this.element)?this.element.setMetaProperty("referenced-element","response"):nr(this.element)&&this.element.setMetaProperty("http-status-code","default"),s}}let eu=class extends f(N,S){constructor(e){super(e),this.element=new Ot,this.specPath=R(["document","objects","Operation"])}},tu=class extends S{constructor(e){super(e),this.element=new Gr}ArrayElement(e){return this.element=this.element.concat(V(e)),k}},Qn=class extends f(ge,S){constructor(e){super(e),this.element=new c.ArrayElement,this.element.classes.push("parameters")}ArrayElement(e){return e.forEach(s=>{const r=W(s)?["document","objects","Reference"]:["document","objects","Parameter"],i=this.toRefractedElement(r,s);U(i)&&i.setMetaProperty("referenced-element","parameter"),this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),k}},su=class extends Qn{constructor(e){super(e),this.element=new as}},ru=class extends ye{constructor(e){super(e),this.alternator=[{predicate:W,specPath:["document","objects","Reference"]},{predicate:je,specPath:["document","objects","RequestBody"]}]}ObjectElement(e){const s=ye.prototype.enter.call(this,e);return U(this.element)&&this.element.setMetaProperty("referenced-element","requestBody"),s}};class iu extends f(I,S){constructor(s){super(s);u(this,"specPath");this.element=new Zr,this.specPath=r=>W(r)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(s){const r=I.prototype.ObjectElement.call(this,s);return this.element.filter(U).forEach(i=>{i.setMetaProperty("referenced-element","callback")}),r}}class nu extends f(ge,S){constructor(e){super(e),this.element=new ls}ArrayElement(e){return e.forEach(s=>{const r=z(s)?["document","objects","SecurityRequirement"]:["value"],i=this.toRefractedElement(r,s);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),k}}let ou=class extends Ii{constructor(e){super(e),this.element=new Qr}},cu=class extends f(N,S){constructor(e){super(e),this.element=new $t,this.specPath=R(["document","objects","PathItem"])}ObjectElement(e){const s=N.prototype.ObjectElement.call(this,e);return this.element.filter(Gn).forEach((r,i)=>{const n=V(i);n.content=g(n).toUpperCase(),r.setMetaProperty("http-method",n)}),F(this.element.$ref)&&this.element.classes.push("reference-element"),s}};class au extends S{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}}class lu extends Ii{constructor(e){super(e),this.element=new zr}}class uu extends Qn{constructor(e){super(e),this.element=new Wr}}let du=class extends f(N,S){constructor(e){super(e),this.element=new Dt,this.specPath=R(["document","objects","SecurityScheme"]),this.canSupportSpecificationExtensions=!0}},hu=class extends f(N,S){constructor(e){super(e),this.element=new _s,this.specPath=R(["document","objects","OAuthFlows"]),this.canSupportSpecificationExtensions=!0}},mu=class extends f(N,S){constructor(e){super(e),this.element=new Ys,this.specPath=R(["document","objects","OAuthFlow"]),this.canSupportSpecificationExtensions=!0}};class pu extends f(I,S){constructor(e){super(e),this.element=new oi,this.specPath=R(["value"])}}class fu extends f(ge,S){constructor(e){super(e),this.element=new Dr}ArrayElement(e){return e.forEach(s=>{const r=ga(s)?["document","objects","Tag"]:["value"],i=this.toRefractedElement(r,s);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),k}}const{fixedFields:Q}=ae.visitors.document.objects.JSONSchema,a={visitors:{value:S,document:{objects:{OpenApi:{$visitor:ba,fixedFields:{openapi:ya,info:{$ref:"#/visitors/document/objects/Info"},servers:Ii,paths:{$ref:"#/visitors/document/objects/Paths"},components:{$ref:"#/visitors/document/objects/Components"},security:ol,tags:fu,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:Sa,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},termsOfService:{$ref:"#/visitors/value"},contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:ja}},Contact:{$visitor:Ea,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"},email:{$ref:"#/visitors/value"}}},License:{$visitor:Oa,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Server:{$visitor:Ra,fixedFields:{url:Fa,description:{$ref:"#/visitors/value"},variables:Ma}},ServerVariable:{$visitor:Aa,fixedFields:{enum:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Components:{$visitor:cl,fixedFields:{schemas:Fl,responses:Al,parameters:Ml,examples:Il,requestBodies:Nl,headers:Dl,securitySchemes:kl,links:Cl,callbacks:Tl}},Paths:{$visitor:Hl},PathItem:{$visitor:cu,fixedFields:{$ref:au,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:lu,parameters:uu}},Operation:{$visitor:eu,fixedFields:{tags:tu,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:{$ref:"#/visitors/value"},parameters:su,requestBody:ru,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:iu,deprecated:{$ref:"#/visitors/value"},security:nu,servers:ou}},ExternalDocumentation:{$visitor:ql,fixedFields:{description:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Parameter:{$visitor:dl,fixedFields:{name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:hl,example:{$ref:"#/visitors/value"},examples:Vl,content:Rl}},RequestBody:{$visitor:zl,fixedFields:{description:{$ref:"#/visitors/value"},content:Wl,required:{$ref:"#/visitors/value"}}},MediaType:{$visitor:Ia,fixedFields:{schema:sl,example:{$ref:"#/visitors/value"},examples:rl,encoding:il}},Encoding:{$visitor:Bl,fixedFields:{contentType:{$ref:"#/visitors/value"},headers:Ul,style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"}}},Responses:{$visitor:Yl,fixedFields:{default:_l}},Response:{$visitor:Xl,fixedFields:{description:{$ref:"#/visitors/value"},headers:Gl,content:Zl,links:Ql}},Callback:{$visitor:Kl},Example:{$visitor:Jl,fixedFields:{summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},value:{$ref:"#/visitors/value"},externalValue:Ll}},Link:{$visitor:$a,fixedFields:{operationRef:wa,operationId:Pa,parameters:Va,requestBody:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:ml,fixedFields:{description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:pl,example:{$ref:"#/visitors/value"},examples:fl,content:vl}},Tag:{$visitor:al,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:ll,fixedFields:{$ref:ul}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},JSONReference:{$ref:"#/visitors/document/objects/Reference"},Schema:{$visitor:gl,fixedFields:{title:Q.title,multipleOf:Q.multipleOf,maximum:Q.maximum,exclusiveMaximum:Q.exclusiveMaximum,minimum:Q.minimum,exclusiveMinimum:Q.exclusiveMinimum,maxLength:Q.maxLength,minLength:Q.minLength,pattern:Q.pattern,maxItems:Q.maxItems,minItems:Q.minItems,uniqueItems:Q.uniqueItems,maxProperties:Q.maxProperties,minProperties:Q.minProperties,required:Q.required,enum:Q.enum,type:Ol,allOf:bl,anyOf:yl,oneOf:xl,not:Qi,items:Sl,properties:jl,additionalProperties:Qi,description:Q.description,format:Q.format,default:Q.default,nullable:{$ref:"#/visitors/value"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},writeOnly:{$ref:"#/visitors/value"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:$l,fixedFields:{propertyName:{$ref:"#/visitors/value"},mapping:wl}},XML:{$visitor:Pl,fixedFields:{name:{$ref:"#/visitors/value"},namespace:{$ref:"#/visitors/value"},prefix:{$ref:"#/visitors/value"},attribute:{$ref:"#/visitors/value"},wrapped:{$ref:"#/visitors/value"}}},SecurityScheme:{$visitor:du,fixedFields:{type:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},scheme:{$ref:"#/visitors/value"},bearerFormat:{$ref:"#/visitors/value"},flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:{$ref:"#/visitors/value"}}},OAuthFlows:{$visitor:hu,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:mu,fixedFields:{authorizationUrl:{$ref:"#/visitors/value"},tokenUrl:{$ref:"#/visitors/value"},refreshUrl:{$ref:"#/visitors/value"},scopes:pu}},SecurityRequirement:{$visitor:nl}},extension:{$visitor:xa}}}},vu=()=>{const t=Re(ma);return{predicates:{...tl,isElement:X,isStringElement:F,isArrayElement:fe,isObjectElement:z,isMemberElement:Ee,includesClasses:wi,hasElementSourceMap:Ze},namespace:t}},gu=(t,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:s=[]}={})=>{const r=c.refract(t),i=Fe(a),n=ue(e,i),o=new n({specObj:i});return se(r,o),Oe(o.element,s,{toolboxCreator:vu,visitorOptions:{keyMap:fa,nodeTypeGetter:pa}})},L=t=>(e,s={})=>gu(e,{specPath:t,...s});mt.refract=L(["visitors","document","objects","Callback","$visitor"]);pt.refract=L(["visitors","document","objects","Components","$visitor"]);ft.refract=L(["visitors","document","objects","Contact","$visitor"]);gt.refract=L(["visitors","document","objects","Example","$visitor"]);vt.refract=L(["visitors","document","objects","Discriminator","$visitor"]);Qs.refract=L(["visitors","document","objects","Encoding","$visitor"]);bt.refract=L(["visitors","document","objects","ExternalDocumentation","$visitor"]);Ye.refract=L(["visitors","document","objects","Header","$visitor"]);yt.refract=L(["visitors","document","objects","Info","$visitor"]);xt.refract=L(["visitors","document","objects","License","$visitor"]);St.refract=L(["visitors","document","objects","Link","$visitor"]);jt.refract=L(["visitors","document","objects","MediaType","$visitor"]);Ys.refract=L(["visitors","document","objects","OAuthFlow","$visitor"]);_s.refract=L(["visitors","document","objects","OAuthFlows","$visitor"]);Et.refract=L(["visitors","document","objects","OpenApi","fixedFields","openapi"]);er.refract=L(["visitors","document","objects","OpenApi","$visitor"]);Ot.refract=L(["visitors","document","objects","Operation","$visitor"]);_e.refract=L(["visitors","document","objects","Parameter","$visitor"]);$t.refract=L(["visitors","document","objects","PathItem","$visitor"]);wt.refract=L(["visitors","document","objects","Paths","$visitor"]);Pt.refract=L(["visitors","document","objects","Reference","$visitor"]);Vt.refract=L(["visitors","document","objects","RequestBody","$visitor"]);Rt.refract=L(["visitors","document","objects","Response","$visitor"]);Ft.refract=L(["visitors","document","objects","Responses","$visitor"]);sr.refract=L(["visitors","document","objects","Schema","$visitor"]);Nt.refract=L(["visitors","document","objects","SecurityRequirement","$visitor"]);Dt.refract=L(["visitors","document","objects","SecurityScheme","$visitor"]);kt.refract=L(["visitors","document","objects","Server","$visitor"]);Ct.refract=L(["visitors","document","objects","ServerVariable","$visitor"]);rr.refract=L(["visitors","document","objects","Tag","$visitor"]);ir.refract=L(["visitors","document","objects","XML","$visitor"]);class ar extends mt{}class lr extends pt{get pathItems(){return this.get("pathItems")}set pathItems(e){this.set("pathItems",e)}}class ur extends ft{}class ki extends vt{}class Ci extends Qs{}class dr extends gt{}class hr extends bt{}class mr extends Ye{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class pr extends yt{get license(){return this.get("license")}set license(e){this.set("license",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}}const zs=class zs extends c.StringElement{constructor(e,s,r){super(e,s,r),this.element="jsonSchemaDialect"}};u(zs,"default",new zs("https://spec.openapis.org/oas/3.1/dialect/base"));let De=zs;class fr extends xt{get identifier(){return this.get("identifier")}set identifier(e){this.set("identifier",e)}}class vr extends St{}class gr extends jt{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class Ti extends Ys{}class Ji extends _s{}class Li extends Et{}class br extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.element="openApi3_1",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get jsonSchemaDialect(){return this.get("jsonSchemaDialect")}set jsonSchemaDialect(e){this.set("jsonSchemaDialect",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get webhooks(){return this.get("webhooks")}set webhooks(e){this.set("webhooks",e)}}class Tt extends Ot{get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}}class yr extends _e{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class Xe extends $t{get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}}class xr extends wt{}class Te extends Pt{}Object.defineProperty(Te.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});Object.defineProperty(Te.prototype,"summary",{get(){return this.get("summary")},set(t){this.set("summary",t)},enumerable:!0});class Sr extends Vt{}class jr extends Rt{}class Er extends Ft{}let Jt=class extends et{constructor(e,s,r){super(e,s,r),this.element="JSONSchemaDraft6"}get idProp(){throw new D("id keyword from Core vocabulary has been renamed to $id.")}set idProp(e){throw new D("id keyword from Core vocabulary has been renamed to $id.")}get $id(){return this.get("$id")}set $id(e){this.set("$id",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get const(){return this.get("const")}set const(e){this.set("const",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}},Lt=class extends Mt{get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get schema(){throw new D("schema keyword from Hyper-Schema vocabulary has been renamed to submissionSchema.")}set schema(e){throw new D("schema keyword from Hyper-Schema vocabulary has been renamed to submissionSchema.")}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}get method(){throw new D("method keyword from Hyper-Schema vocabulary has been removed.")}set method(e){throw new D("method keyword from Hyper-Schema vocabulary has been removed.")}get encType(){throw new D("encType keyword from Hyper-Schema vocabulary has been renamed to submissionEncType.")}set encType(e){throw new D("encType keyword from Hyper-Schema vocabulary has been renamed to submissionEncType.")}get submissionEncType(){return this.get("submissionEncType")}set submissionEncType(e){this.set("submissionEncType",e)}};const bu={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft6",Jt),e.register("jSONReference",tt),e.register("media",At),e.register("linkDescription",Lt),e}},yu={JSONSchemaDraft6Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...xe};let Yn=class extends Hn{constructor(e){super(e),this.element=new Jt}get defaultDialectIdentifier(){return"http://json-schema.org/draft-06/schema#"}BooleanElement(e){const s=this.enter(e);return this.element.classes.push("boolean-json-schema"),s}handleSchemaIdentifier(e,s="$id"){return super.handleSchemaIdentifier(e,s)}},xu=class extends zn{BooleanElement(e){return this.element=this.toRefractedElement(["document","objects","JSONSchema"],e),k}};class Su extends C{ArrayElement(e){const s=this.enter(e);return this.element.classes.push("json-schema-examples"),s}}let _n=class extends Wn{constructor(e){super(e),this.element=new Lt}};const ne=Ge(b(["visitors","document","objects","JSONSchema","$visitor"],Yn),he(["visitors","document","objects","JSONSchema","fixedFields","id"]),b(["visitors","document","objects","JSONSchema","fixedFields","$id"],ae.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","contains"],ae.visitors.JSONSchemaOrJSONReferenceVisitor),b(["visitors","document","objects","JSONSchema","fixedFields","items"],xu),b(["visitors","document","objects","JSONSchema","fixedFields","propertyNames"],ae.visitors.JSONSchemaOrJSONReferenceVisitor),b(["visitors","document","objects","JSONSchema","fixedFields","const"],ae.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","examples"],Su),b(["visitors","document","objects","LinkDescription","$visitor"],_n),b(["visitors","document","objects","LinkDescription","fixedFields","hrefSchema"],ae.visitors.JSONSchemaOrJSONReferenceVisitor),he(["visitors","document","objects","LinkDescription","fixedFields","schema"]),b(["visitors","document","objects","LinkDescription","fixedFields","submissionSchema"],ae.visitors.JSONSchemaOrJSONReferenceVisitor),he(["visitors","document","objects","LinkDescription","fixedFields","method"]),he(["visitors","document","objects","LinkDescription","fixedFields","encType"]),b(["visitors","document","objects","LinkDescription","fixedFields","submissionEncType"],ae.visitors.value))(ae),ju=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Jt||t(r)&&e("JSONSchemaDraft6",r)&&s("object",r)),Eu=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Lt||t(r)&&e("linkDescription",r)&&s("object",r)),Ou=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:Mi,isJSONSchemaElement:ju,isLinkDescriptionElement:Eu,isMediaElement:Un},Symbol.toStringTag,{value:"Module"})),$u=()=>{const t=Re(bu);return{predicates:{...Ou,isStringElement:F},namespace:t}},wu=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:s=[],specificationObj:r=ne}={})=>{const i=c.refract(t),n=Fe(r),o=ue(e,n),l=new o({specObj:n});return se(i,l),Oe(l.element,s,{toolboxCreator:$u,visitorOptions:{keyMap:yu,nodeTypeGetter:It}})},eo=t=>(e,s={})=>wu(e,{specPath:t,...s});Jt.refract=eo(["visitors","document","objects","JSONSchema","$visitor"]);Lt.refract=eo(["visitors","document","objects","LinkDescription","$visitor"]);let qt=class extends Jt{constructor(e,s,r){super(e,s,r),this.element="JSONSchemaDraft7"}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get contentEncoding(){return this.get("contentEncoding")}set contentEncoding(e){this.set("contentEncoding",e)}get contentMediaType(){return this.get("contentMediaType")}set contentMediaType(e){this.set("contentMediaType",e)}get media(){throw new D('media keyword from Hyper-Schema vocabulary has been moved to validation vocabulary as "contentMediaType" / "contentEncoding"')}set media(e){throw new D('media keyword from Hyper-Schema vocabulary has been moved to validation vocabulary as "contentMediaType" / "contentEncoding"')}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}},Bt=class extends Lt{get anchor(){return this.get("anchor")}set anchor(e){this.set("anchor",e)}get anchorPointer(){return this.get("anchorPointer")}set anchorPointer(e){this.set("anchorPointer",e)}get templatePointers(){return this.get("templatePointers")}set templatePointers(e){this.set("templatePointers",e)}get templateRequired(){return this.get("templateRequired")}set templateRequired(e){this.set("templateRequired",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){throw new D("mediaType keyword from Hyper-Schema vocabulary has been renamed to targetMediaType.")}set mediaType(e){throw new D("mediaType keyword from Hyper-Schema vocabulary has been renamed to targetMediaType.")}get targetMediaType(){return this.get("targetMediaType")}set targetMediaType(e){this.set("targetMediaType",e)}get targetHints(){return this.get("targetHints")}set targetHints(e){this.set("targetHints",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get headerSchema(){return this.get("headerSchema")}set headerSchema(e){this.set("headerSchema",e)}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}get submissionEncType(){throw new D("submissionEncType keyword from Hyper-Schema vocabulary has been renamed to submissionMediaType.")}set submissionEncType(e){throw new D("submissionEncType keyword from Hyper-Schema vocabulary has been renamed to submissionMediaType.")}get submissionMediaType(){return this.get("submissionMediaType")}set submissionMediaType(e){this.set("submissionMediaType",e)}};const Pu={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft7",qt),e.register("jSONReference",tt),e.register("linkDescription",Bt),e}},Vu={JSONSchemaDraft7Element:["content"],JSONReferenceElement:["content"],LinkDescriptionElement:["content"],...xe};let to=class extends Yn{constructor(e){super(e),this.element=new qt}get defaultDialectIdentifier(){return"http://json-schema.org/draft-07/schema#"}},so=class extends _n{constructor(e){super(e),this.element=new Bt}};const Pe=Ge(b(["visitors","document","objects","JSONSchema","$visitor"],to),b(["visitors","document","objects","JSONSchema","fixedFields","$comment"],ne.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","if"],ne.visitors.JSONSchemaOrJSONReferenceVisitor),b(["visitors","document","objects","JSONSchema","fixedFields","then"],ne.visitors.JSONSchemaOrJSONReferenceVisitor),b(["visitors","document","objects","JSONSchema","fixedFields","else"],ne.visitors.JSONSchemaOrJSONReferenceVisitor),he(["visitors","document","objects","JSONSchema","fixedFields","media"]),b(["visitors","document","objects","JSONSchema","fixedFields","contentEncoding"],ne.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","contentMediaType"],ne.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","writeOnly"],ne.visitors.value),b(["visitors","document","objects","LinkDescription","$visitor"],so),b(["visitors","document","objects","LinkDescription","fixedFields","anchor"],ne.visitors.value),b(["visitors","document","objects","LinkDescription","fixedFields","anchorPointer"],ne.visitors.value),he(["visitors","document","objects","LinkDescription","fixedFields","mediaType"]),b(["visitors","document","objects","LinkDescription","fixedFields","targetMediaType"],ne.visitors.value),b(["visitors","document","objects","LinkDescription","fixedFields","targetHints"],ne.visitors.value),b(["visitors","document","objects","LinkDescription","fixedFields","description"],ne.visitors.value),b(["visitors","document","objects","LinkDescription","fixedFields","$comment"],ne.visitors.value),b(["visitors","document","objects","LinkDescription","fixedFields","headerSchema"],ne.visitors.JSONSchemaOrJSONReferenceVisitor),he(["visitors","document","objects","LinkDescription","fixedFields","submissionEncType"]),b(["visitors","document","objects","LinkDescription","fixedFields","submissionMediaType"],ne.visitors.value))(ne),Ru=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof qt||t(r)&&e("JSONSchemaDraft7",r)&&s("object",r)),Fu=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Bt||t(r)&&e("linkDescription",r)&&s("object",r)),Au=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:Mi,isJSONSchemaElement:Ru,isLinkDescriptionElement:Fu},Symbol.toStringTag,{value:"Module"})),Mu=()=>{const t=Re(Pu);return{predicates:{...Au,isStringElement:F},namespace:t}},Iu=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:s=[],specificationObj:r=Pe}={})=>{const i=c.refract(t),n=Fe(r),o=ue(e,n),l=new o({specObj:n});return se(i,l),Oe(l.element,s,{toolboxCreator:Mu,visitorOptions:{keyMap:Vu,nodeTypeGetter:It}})},ro=t=>(e,s={})=>Iu(e,{specPath:t,...s});qt.refract=ro(["visitors","document","objects","JSONSchema","$visitor"]);Bt.refract=ro(["visitors","document","objects","LinkDescription","$visitor"]);let Ut=class extends qt{constructor(e,s,r){super(e,s,r),this.element="JSONSchema201909"}get $vocabulary(){return this.get("$vocabulary")}set $vocabulary(e){this.set("$vocabulary",e)}get $anchor(){return this.get("$anchor")}set $anchor(e){this.set("$anchor",e)}get $recursiveAnchor(){return this.get("$recursiveAnchor")}set $recursiveAnchor(e){this.set("$recursiveAnchor",e)}get $recursiveRef(){return this.get("$recursiveRef")}set $recursiveRef(e){this.set("$recursiveRef",e)}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get $defs(){return this.get("$defs")}set $defs(e){this.set("$defs",e)}get definitions(){throw new D("definitions keyword from Validation vocabulary has been renamed to $defs.")}set definitions(e){throw new D("definitions keyword from Validation vocabulary has been renamed to $defs.")}get not(){return this.get("not")}set not(e){this.set("not",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get dependentSchemas(){return this.get("dependentSchemas")}set dependentSchemas(e){this.set("dependentSchemas",e)}get dependencies(){throw new D("dependencies keyword from Validation vocabulary has been renamed to dependentSchemas.")}set dependencies(e){throw new D("dependencies keyword from Validation vocabulary has been renamed to dependentSchemas.")}get items(){return this.get("items")}set items(e){this.set("items",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get unevaluatedItems(){return this.get("unevaluatedItems")}set unevaluatedItems(e){this.set("unevaluatedItems",e)}get unevaluatedProperties(){return this.get("unevaluatedProperties")}set unevaluatedProperties(e){this.set("unevaluatedProperties",e)}get maxContains(){return this.get("maxContains")}set maxContains(e){this.set("maxContains",e)}get minContains(){return this.get("minContains")}set minContains(e){this.set("minContains",e)}get dependentRequired(){return this.get("dependentRequired")}set dependentRequired(e){this.set("dependentRequired",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}get contentSchema(){return this.get("contentSchema")}set contentSchema(e){this.set("contentSchema",e)}},Ht=class extends Bt{get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get headerSchema(){return this.get("headerSchema")}set headerSchema(e){this.set("headerSchema",e)}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}};const Nu={namespace:t=>{const{base:e}=t;return e.register("jSONSchema201909",Ut),e.register("linkDescription",Ht),e}},Du={JSONSchema201909Element:["content"],LinkDescriptionElement:["content"],...xe};let oe=class extends to{constructor(e){super(e),this.element=new Ut}get defaultDialectIdentifier(){return"https://json-schema.org/draft/2019-09/schema"}ObjectElement(e){this.handleDialectIdentifier(e),this.handleSchemaIdentifier(e),this.parent=this.element;const s=Ne.prototype.ObjectElement.call(this,e);return F(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),s}};class ku extends C{ObjectElement(e){const s=super.enter(e);return this.element.classes.push("json-schema-$vocabulary"),s}}class Cu extends C{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}}let io=class extends f(Ae,G,C){constructor(e){super(e),this.element=new c.ObjectElement,this.element.classes.push("json-schema-$defs"),this.specPath=R(["document","objects","JSONSchema"])}},no=class extends f(me,G,C){constructor(e){super(e),this.element=new c.ArrayElement,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","JSONSchema"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),k}},oo=class extends f(me,G,C){constructor(e){super(e),this.element=new c.ArrayElement,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","JSONSchema"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),k}},co=class extends f(me,G,C){constructor(e){super(e),this.element=new c.ArrayElement,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","JSONSchema"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),k}},ao=class extends f(Ae,G,C){constructor(e){super(e),this.element=new c.ObjectElement,this.element.classes.push("json-schema-dependentSchemas"),this.specPath=R(["document","objects","JSONSchema"])}};class Tu extends f(me,G,C){ObjectElement(e){return this.element=this.toRefractedElement(["document","objects","JSONSchema"],e),k}ArrayElement(e){return this.element=new c.ArrayElement,this.element.classes.push("json-schema-items"),e.forEach(s=>{const r=this.toRefractedElement(["document","objects","JSONSchema"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),k}BooleanElement(e){return this.element=this.toRefractedElement(["document","objects","JSONSchema"],e),k}}let lo=class extends f(Ae,G,C){constructor(e){super(e),this.element=new c.ObjectElement,this.element.classes.push("json-schema-properties"),this.specPath=R(["document","objects","JSONSchema"])}},uo=class extends f(Ae,G,C){constructor(e){super(e),this.element=new c.ObjectElement,this.element.classes.push("json-schema-patternProperties"),this.specPath=R(["document","objects","JSONSchema"])}};class Ju extends C{ObjectElement(e){const s=super.enter(e);return this.element.classes.push("json-schema-dependentRequired"),s}}let ho=class extends so{constructor(e){super(e),this.element=new Ht}};const Zt=Ge(b(["visitors","document","objects","JSONSchema","$visitor"],oe),b(["visitors","document","objects","JSONSchema","fixedFields","$vocabulary"],ku),b(["visitors","document","objects","JSONSchema","fixedFields","$anchor"],Pe.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","$recursiveAnchor"],Pe.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","$recursiveRef"],Pe.visitors.value),he(["visitors","document","objects","JSONReference","$visitor"]),b(["visitors","document","objects","JSONSchema","fixedFields","$ref"],Cu),he(["visitors","document","objects","JSONSchema","fixedFields","definitions"]),b(["visitors","document","objects","JSONSchema","fixedFields","$defs"],io),b(["visitors","document","objects","JSONSchema","fixedFields","allOf"],no),b(["visitors","document","objects","JSONSchema","fixedFields","anyOf"],oo),b(["visitors","document","objects","JSONSchema","fixedFields","oneOf"],co),b(["visitors","document","objects","JSONSchema","fixedFields","not"],oe),b(["visitors","document","objects","JSONSchema","fixedFields","if"],oe),b(["visitors","document","objects","JSONSchema","fixedFields","then"],oe),b(["visitors","document","objects","JSONSchema","fixedFields","else"],oe),he(["visitors","document","objects","JSONSchema","fixedFields","dependencies"]),b(["visitors","document","objects","JSONSchema","fixedFields","dependentSchemas"],ao),b(["visitors","document","objects","JSONSchema","fixedFields","items"],Tu),b(["visitors","document","objects","JSONSchema","fixedFields","contains"],oe),b(["visitors","document","objects","JSONSchema","fixedFields","properties"],lo),b(["visitors","document","objects","JSONSchema","fixedFields","patternProperties"],uo),b(["visitors","document","objects","JSONSchema","fixedFields","additionalProperties"],oe),b(["visitors","document","objects","JSONSchema","fixedFields","additionalItems"],oe),b(["visitors","document","objects","JSONSchema","fixedFields","propertyNames"],oe),b(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedItems"],oe),b(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedProperties"],oe),b(["visitors","document","objects","JSONSchema","fixedFields","maxContains"],Pe.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","minContains"],Pe.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","dependentRequired"],Ju),b(["visitors","document","objects","JSONSchema","fixedFields","deprecated"],Pe.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","contentSchema"],oe),b(["visitors","document","objects","LinkDescription","$visitor"],ho),b(["visitors","document","objects","LinkDescription","fixedFields","targetSchema"],oe),b(["visitors","document","objects","LinkDescription","fixedFields","hrefSchema"],oe),b(["visitors","document","objects","LinkDescription","fixedFields","headerSchema"],oe),b(["visitors","document","objects","LinkDescription","fixedFields","submissionSchema"],oe))(Pe),Lu=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Ut||t(r)&&e("JSONSchema201909",r)&&s("object",r)),qu=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Ht||t(r)&&e("linkDescription",r)&&s("object",r)),Bu=Object.freeze(Object.defineProperty({__proto__:null,isJSONSchemaElement:Lu,isLinkDescriptionElement:qu},Symbol.toStringTag,{value:"Module"})),Uu=()=>{const t=Re(Nu);return{predicates:{...Bu,isStringElement:F},namespace:t}},Hu=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:s=[],specificationObj:r=Zt}={})=>{const i=c.refract(t),n=Fe(r),o=ue(e,n),l=new o({specObj:n});return se(i,l),Oe(l.element,s,{toolboxCreator:Uu,visitorOptions:{keyMap:Du,nodeTypeGetter:It}})},mo=t=>(e,s={})=>Hu(e,{specPath:t,...s});Ut.refract=mo(["visitors","document","objects","JSONSchema","$visitor"]);Ht.refract=mo(["visitors","document","objects","LinkDescription","$visitor"]);class zt extends Ut{constructor(e,s,r){super(e,s,r),this.element="JSONSchema202012"}get $dynamicAnchor(){return this.get("$dynamicAnchor")}set $dynamicAnchor(e){this.set("$dynamicAnchor",e)}get $recursiveAnchor(){throw new D("$recursiveAnchor keyword from Core vocabulary has been renamed to $dynamicAnchor.")}set $recursiveAnchor(e){throw new D("$recursiveAnchor keyword from Core vocabulary has been renamed to $dynamicAnchor.")}get $dynamicRef(){return this.get("$dynamicRef")}set $dynamicRef(e){this.set("$dynamicRef",e)}get $recursiveRef(){throw new D("$recursiveRef keyword from Core vocabulary has been renamed to $dynamicRef.")}set $recursiveRef(e){throw new D("$recursiveRef keyword from Core vocabulary has been renamed to $dynamicRef.")}get prefixItems(){return this.get("prefixItems")}set prefixItems(e){this.set("prefixItems",e)}}class Or extends Ht{get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get headerSchema(){return this.get("headerSchema")}set headerSchema(e){this.set("headerSchema",e)}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}}const zu={namespace:t=>{const{base:e}=t;return e.register("jSONSchema202012",zt),e.register("linkDescription",Or),e}},Wu={JSONSchema202012Element:["content"],LinkDescriptionElement:["content"],...xe};let Y=class extends oe{constructor(e){super(e),this.element=new zt}get defaultDialectIdentifier(){return"https://json-schema.org/draft/2020-12/schema"}},po=class extends f(me,G,C){constructor(e){super(e),this.element=new c.ArrayElement,this.element.classes.push("json-schema-prefixItems")}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","JSONSchema"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),k}},Ku=class extends ho{constructor(e){super(e),this.element=new Or}};const fo=Ge(b(["visitors","document","objects","JSONSchema","$visitor"],Y),he(["visitors","document","objects","JSONSchema","fixedFields","$recursiveAnchor"]),b(["visitors","document","objects","JSONSchema","fixedFields","$dynamicAnchor"],Zt.visitors.value),he(["visitors","document","objects","JSONSchema","fixedFields","$recursiveRef"]),b(["visitors","document","objects","JSONSchema","fixedFields","$dynamicRef"],Zt.visitors.value),b(["visitors","document","objects","JSONSchema","fixedFields","not"],Y),b(["visitors","document","objects","JSONSchema","fixedFields","if"],Y),b(["visitors","document","objects","JSONSchema","fixedFields","then"],Y),b(["visitors","document","objects","JSONSchema","fixedFields","else"],Y),b(["visitors","document","objects","JSONSchema","fixedFields","prefixItems"],po),b(["visitors","document","objects","JSONSchema","fixedFields","items"],Y),b(["visitors","document","objects","JSONSchema","fixedFields","contains"],Y),b(["visitors","document","objects","JSONSchema","fixedFields","additionalProperties"],Y),he(["visitors","document","objects","JSONSchema","fixedFields","additionalItems"]),b(["visitors","document","objects","JSONSchema","fixedFields","propertyNames"],Y),b(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedItems"],Y),b(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedProperties"],Y),b(["visitors","document","objects","JSONSchema","fixedFields","contentSchema"],Y),b(["visitors","document","objects","LinkDescription","$visitor"],Ku),b(["visitors","document","objects","LinkDescription","fixedFields","targetSchema"],Y),b(["visitors","document","objects","LinkDescription","fixedFields","hrefSchema"],Y),b(["visitors","document","objects","LinkDescription","fixedFields","headerSchema"],Y),b(["visitors","document","objects","LinkDescription","fixedFields","submissionSchema"],Y))(Zt),Xu=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof zt||t(r)&&e("JSONSchema202012",r)&&s("object",r)),Gu=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Or||t(r)&&e("linkDescription",r)&&s("object",r)),Zu=Object.freeze(Object.defineProperty({__proto__:null,isJSONSchemaElement:Xu,isLinkDescriptionElement:Gu},Symbol.toStringTag,{value:"Module"})),Qu=()=>{const t=Re(zu);return{predicates:{...Zu,isStringElement:F},namespace:t}},Yu=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:s=[],specificationObj:r=fo}={})=>{const i=c.refract(t),n=Fe(r),o=ue(e,n),l=new o({specObj:n});return se(i,l),Oe(l.element,s,{toolboxCreator:Qu,visitorOptions:{keyMap:Wu,nodeTypeGetter:It}})},vo=t=>(e,s={})=>Yu(e,{specPath:t,...s});zt.refract=vo(["visitors","document","objects","JSONSchema","$visitor"]);Or.refract=vo(["visitors","document","objects","LinkDescription","$visitor"]);class ke extends zt{constructor(e,s,r){super(e,s,r),this.element="schema"}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}}class $r extends Nt{}class wr extends Dt{}class Pr extends kt{}class Vr extends Ct{}class qi extends rr{}class Bi extends ir{}const go={namespace:t=>{const{base:e}=t;return e.register("callback",ar),e.register("components",lr),e.register("contact",ur),e.register("discriminator",ki),e.register("encoding",Ci),e.register("example",dr),e.register("externalDocumentation",hr),e.register("header",mr),e.register("info",pr),e.register("jsonSchemaDialect",De),e.register("license",fr),e.register("link",vr),e.register("mediaType",gr),e.register("oAuthFlow",Ti),e.register("oAuthFlows",Ji),e.register("openapi",Li),e.register("openApi3_1",br),e.register("operation",Tt),e.register("parameter",yr),e.register("pathItem",Xe),e.register("paths",xr),e.register("reference",Te),e.register("requestBody",Sr),e.register("response",jr),e.register("responses",Er),e.register("schema",ke),e.register("securityRequirement",$r),e.register("securityScheme",wr),e.register("server",Pr),e.register("serverVariable",Vr),e.register("tag",qi),e.register("xml",Bi),e}},Ws=class Ws extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Ws.primaryClass)}};u(Ws,"primaryClass","components-path-items");let ui=Ws;const Ks=class Ks extends c.ObjectElement{constructor(e,s,r){super(e,s,r),this.classes.push(Ks.primaryClass)}};u(Ks,"primaryClass","webhooks");let di=Ks;const Ue=t=>{if(X(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},He={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_1Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...xe};class Wt{constructor(e,s,r){u(this,"internalStore");this.storageElement=e,this.storageField=s,this.storageSubField=r}get store(){if(!this.internalStore){let e=this.storageElement.get(this.storageField);z(e)||(e=new c.ObjectElement,this.storageElement.set(this.storageField,e));let s=e.get(this.storageSubField);fe(s)||(s=new c.ArrayElement,e.set(this.storageSubField,s)),this.internalStore=s}return this.internalStore}append(e){this.includes(e)||this.store.push(e)}includes(e){return this.store.includes(e)}}const Lf=({storageField:t="x-normalized"}={})=>e=>{const{predicates:s,ancestorLineageToJSONPointer:r}=e,i=(l,p)=>!s.isParameterElement(l)||!s.isParameterElement(p)||!s.isStringElement(l.name)||!s.isStringElement(l.in)||!s.isStringElement(p.name)||!s.isStringElement(p.in)?!1:g(l.name)===g(p.name)&&g(l.in)===g(p.in),n=[];let o;return{visitor:{OpenApi3_1Element:{enter(l){o=new Wt(l,t,"parameters")},leave(){o=void 0}},PathItemElement:{enter(l,p,E,y,v){if(v.some(s.isComponentsElement))return;const{parameters:j}=l;s.isArrayElement(j)?n.push([...j.content]):n.push([])},leave(){n.pop()}},OperationElement:{leave(l,p,E,y,v){const j=Xs(n);if(!Array.isArray(j)||j.length===0)return;const A=r([...v,E,l]);if(o.includes(A))return;const w=ln([],["parameters","content"],l),m=To(i,[...w,...j]);l.parameters=new as(m),o.append(A)}}}}},qf=({storageField:t="x-normalized"}={})=>e=>{const{predicates:s,ancestorLineageToJSONPointer:r}=e;let i,n;return{visitor:{OpenApi3_1Element:{enter(o){n=new Wt(o,t,"security-requirements"),s.isArrayElement(o.security)&&(i=o.security)},leave(){n=void 0,i=void 0}},OperationElement:{leave(o,l,p,E,y){if(y.some(s.isComponentsElement))return;const v=r([...y,p,o]);if(n.includes(v))return;if(typeof o.security>"u"&&typeof i<"u"){var w;o.security=new ls((w=i)===null||w===void 0?void 0:w.content),n.append(v)}}}}}},hi=t=>t.replace(/\s/g,""),mi=t=>t.replace(/\W/gi,"_"),_u=(t,e)=>{const s=mi(hi(e.toLowerCase())),r=mi(hi(t));return`${s}${r}`},ed=(t,e,s)=>{const r=hi(t);return r.length>0?mi(r):_u(e,s)},Bf=({storageField:t="x-normalized",operationIdNormalizer:e=ed}={})=>s=>{const{predicates:r,ancestorLineageToJSONPointer:i,namespace:n}=s,o=[],l=[],p=[];let E;return{visitor:{OpenApi3_1Element:{enter(y){E=new Wt(y,t,"operation-ids")},leave(){const y=Jo(v=>g(v.operationId),l);Object.entries(y).forEach(([v,j])=>{Array.isArray(j)&&(j.length<=1||j.forEach((A,w)=>{const m=`${v}${w+1}`;A.operationId=new n.elements.String(m)}))}),p.forEach(v=>{if(typeof v.operationId>"u")return;const j=String(g(v.operationId)),A=l.find(w=>g(w.meta.get("originalOperationId"))===j);typeof A>"u"||(v.operationId=V.safe(A.operationId),v.meta.set("originalOperationId",j),v.set("__originalOperationId",j))}),l.length=0,p.length=0,E=void 0}},PathItemElement:{enter(y){const v=_t("path",g(y.meta.get("path")));o.push(v)},leave(){o.pop()}},OperationElement:{enter(y,v,j,A,w){if(typeof y.operationId>"u")return;const m=i([...w,j,y]);if(E.includes(m))return;const P=String(g(y.operationId)),O=Xs(o),d=_t("method",g(y.meta.get("http-method"))),$=e(P,O,d);P!==$&&(y.operationId=new n.elements.String($),y.set("__originalOperationId",P),y.meta.set("originalOperationId",P),l.push(y),E.append(m))}},LinkElement:{leave(y){r.isLinkElement(y)&&(typeof y.operationId>"u"||p.push(y))}}}}},Uf=({storageField:t="x-normalized"}={})=>e=>{const{predicates:s,ancestorLineageToJSONPointer:r}=e;let i;return{visitor:{OpenApi3_1Element:{enter(n){i=new Wt(n,t,"parameter-examples")},leave(){i=void 0}},ParameterElement:{leave(n,o,l,p,E){var y,v;if(E.some(s.isComponentsElement)||typeof n.schema>"u"||!s.isSchemaElement(n.schema)||typeof((y=n.schema)===null||y===void 0?void 0:y.example)>"u"&&typeof((v=n.schema)===null||v===void 0?void 0:v.examples)>"u")return;const j=r([...E,l,n]);if(!i.includes(j)){if(typeof n.examples<"u"&&s.isObjectElement(n.examples)){const A=n.examples.map(w=>V.safe(w.value));typeof n.schema.examples<"u"&&(n.schema.set("examples",A),i.append(j)),typeof n.schema.example<"u"&&(n.schema.set("example",A[0]),i.append(j));return}typeof n.example<"u"&&(typeof n.schema.examples<"u"&&(n.schema.set("examples",[V(n.example)]),i.append(j)),typeof n.schema.example<"u"&&(n.schema.set("example",V(n.example)),i.append(j)))}}}}}},Hf=({storageField:t="x-normalized"}={})=>e=>{const{predicates:s,ancestorLineageToJSONPointer:r}=e;let i;return{visitor:{OpenApi3_1Element:{enter(n){i=new Wt(n,t,"header-examples")},leave(){i=void 0}},HeaderElement:{leave(n,o,l,p,E){var y,v;if(E.some(s.isComponentsElement)||typeof n.schema>"u"||!s.isSchemaElement(n.schema)||typeof((y=n.schema)===null||y===void 0?void 0:y.example)>"u"&&typeof((v=n.schema)===null||v===void 0?void 0:v.examples)>"u")return;const j=r([...E,l,n]);if(!i.includes(j)){if(typeof n.examples<"u"&&s.isObjectElement(n.examples)){const A=n.examples.map(w=>V.safe(w.value));typeof n.schema.examples<"u"&&(n.schema.set("examples",A),i.append(j)),typeof n.schema.example<"u"&&(n.schema.set("example",A[0]),i.append(j));return}typeof n.example<"u"&&(typeof n.schema.examples<"u"&&(n.schema.set("examples",[V(n.example)]),i.append(j)),typeof n.schema.example<"u"&&(n.schema.set("example",V(n.example)),i.append(j)))}}}}}},td=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ar||t(r)&&e("callback",r)&&s("object",r)),sd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof lr||t(r)&&e("components",r)&&s("object",r)),rd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ur||t(r)&&e("contact",r)&&s("object",r)),id=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof dr||t(r)&&e("example",r)&&s("object",r)),nd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof hr||t(r)&&e("externalDocumentation",r)&&s("object",r)),od=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof mr||t(r)&&e("header",r)&&s("object",r)),cd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof pr||t(r)&&e("info",r)&&s("object",r)),bo=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof De||t(r)&&e("jsonSchemaDialect",r)&&s("string",r)),ad=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof fr||t(r)&&e("license",r)&&s("object",r)),ld=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof vr||t(r)&&e("link",r)&&s("object",r)),ud=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Li||t(r)&&e("openapi",r)&&s("string",r)),yo=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>i=>i instanceof br||t(i)&&e("openApi3_1",i)&&s("object",i)&&r("api",i)),xo=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Tt||t(r)&&e("operation",r)&&s("object",r)),dd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof yr||t(r)&&e("parameter",r)&&s("object",r)),lt=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Xe||t(r)&&e("pathItem",r)&&s("object",r)),hd=t=>{if(!lt(t)||!F(t.$ref))return!1;const e=g(t.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},md=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof xr||t(r)&&e("paths",r)&&s("object",r)),rt=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Te||t(r)&&e("reference",r)&&s("object",r)),pd=t=>{if(!rt(t)||!F(t.$ref))return!1;const e=g(t.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},fd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Sr||t(r)&&e("requestBody",r)&&s("object",r)),vd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof jr||t(r)&&e("response",r)&&s("object",r)),gd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Er||t(r)&&e("responses",r)&&s("object",r)),Ve=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ke||t(r)&&e("schema",r)&&s("object",r)),So=t=>dt(t)&&t.classes.includes("boolean-json-schema"),bd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof $r||t(r)&&e("securityRequirement",r)&&s("object",r)),yd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof wr||t(r)&&e("securityScheme",r)&&s("object",r)),xd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Pr||t(r)&&e("server",r)&&s("object",r)),Sd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Vr||t(r)&&e("serverVariable",r)&&s("object",r)),jd=x(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof gr||t(r)&&e("mediaType",r)&&s("object",r)),Ed=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:So,isCallbackElement:td,isComponentsElement:sd,isContactElement:rd,isExampleElement:id,isExternalDocumentationElement:nd,isHeaderElement:od,isInfoElement:cd,isJsonSchemaDialectElement:bo,isLicenseElement:ad,isLinkElement:ld,isMediaTypeElement:jd,isOpenApi3_1Element:yo,isOpenapiElement:ud,isOperationElement:xo,isParameterElement:dd,isPathItemElement:lt,isPathItemElementExternal:hd,isPathsElement:md,isReferenceElement:rt,isReferenceElementExternal:pd,isRequestBodyElement:fd,isResponseElement:vd,isResponsesElement:gd,isSchemaElement:Ve,isSecurityRequirementElement:bd,isSecuritySchemeElement:yd,isServerElement:xd,isServerVariableElement:Sd},Symbol.toStringTag,{value:"Module"})),Od=t=>{const e=t.reduce((s,r,i)=>{if(Ee(r)){const n=String(g(r.key));s.push(n)}else if(fe(t[i-2])){const n=String(t[i-2].content.indexOf(r));s.push(n)}return s},[]);return qo(e)},$d=()=>{const t=Re(go);return{predicates:{...Ed,isElement:X,isStringElement:F,isArrayElement:fe,isObjectElement:z,isMemberElement:Ee,isServersElement:Zn,includesClasses:wi,hasElementSourceMap:Ze},ancestorLineageToJSONPointer:Od,namespace:t}};class wd extends f(N,S){constructor(e){super(e),this.element=new br,this.specPath=R(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0,this.openApiSemanticElement=this.element}ObjectElement(e){return this.openApiGenericElement=e,N.prototype.ObjectElement.call(this,e)}}const Pd=a.visitors.document.objects.Info.$visitor;class Vd extends Pd{constructor(e){super(e),this.element=new pr}}const Rd=a.visitors.document.objects.Contact.$visitor;class Fd extends Rd{constructor(e){super(e),this.element=new ur}}const Ad=a.visitors.document.objects.License.$visitor;class Md extends Ad{constructor(e){super(e),this.element=new fr}}const Id=a.visitors.document.objects.Link.$visitor;class Nd extends Id{constructor(e){super(e),this.element=new vr}}class Dd extends f(ge,S){StringElement(e){const s=new De(g(e));return this.copyMetaAndAttributes(e,s),this.element=s,k}}const kd=a.visitors.document.objects.Server.$visitor;class Cd extends kd{constructor(e){super(e),this.element=new Pr}}const Td=a.visitors.document.objects.ServerVariable.$visitor;class Jd extends Td{constructor(e){super(e),this.element=new Vr}}const Ld=a.visitors.document.objects.MediaType.$visitor;class qd extends Ld{constructor(e){super(e),this.element=new gr}}const Bd=a.visitors.document.objects.SecurityRequirement.$visitor;class Ud extends Bd{constructor(e){super(e),this.element=new $r}}const Hd=a.visitors.document.objects.Components.$visitor;class zd extends Hd{constructor(e){super(e),this.element=new lr}}const Wd=a.visitors.document.objects.Tag.$visitor;class Kd extends Wd{constructor(e){super(e),this.element=new qi}}const Xd=a.visitors.document.objects.Reference.$visitor;class Gd extends Xd{constructor(e){super(e),this.element=new Te}}const Zd=a.visitors.document.objects.Parameter.$visitor;class Qd extends Zd{constructor(e){super(e),this.element=new yr}}const Yd=a.visitors.document.objects.Header.$visitor;class _d extends Yd{constructor(e){super(e),this.element=new mr}}class eh extends f(N,G,S){constructor(e){super(e),this.element=new ke,this.specPath=R(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0,this.jsonSchemaDefaultDialect=De.default,this.passingOptionsNames.push("parent")}ObjectElement(e){this.handleDialectIdentifier(e),this.handleSchemaIdentifier(e),this.parent=this.element;const s=N.prototype.ObjectElement.call(this,e);return F(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),s}BooleanElement(e){return Y.prototype.BooleanElement.call(this,e)}get defaultDialectIdentifier(){let e;return this.openApiSemanticElement!==void 0&&bo(this.openApiSemanticElement.jsonSchemaDialect)?e=g(this.openApiSemanticElement.jsonSchemaDialect):this.openApiGenericElement!==void 0&&F(this.openApiGenericElement.get("jsonSchemaDialect"))?e=g(this.openApiGenericElement.get("jsonSchemaDialect")):e=g(this.jsonSchemaDefaultDialect),e}handleDialectIdentifier(e){return Y.prototype.handleDialectIdentifier.call(this,e)}handleSchemaIdentifier(e){return Y.prototype.handleSchemaIdentifier.call(this,e)}}class th extends io{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class sh extends no{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class rh extends oo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class ih extends co{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class nh extends ao{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class oh extends po{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class ch extends lo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class ah extends uo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}const lh=a.visitors.document.objects.Discriminator.$visitor;class uh extends lh{constructor(e){super(e),this.element=new ki,this.canSupportSpecificationExtensions=!0}}const dh=a.visitors.document.objects.XML.$visitor;class hh extends dh{constructor(e){super(e),this.element=new Bi}}class mh extends f(I,S){constructor(e){super(e),this.element=new cs,this.specPath=R(["document","objects","Schema"])}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(Ve).forEach((r,i)=>{r.setMetaProperty("schemaName",g(i))}),s}}class ph extends f(I,S){constructor(e){super(e),this.element=new ui,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(rt).forEach(r=>{r.setMetaProperty("referenced-element","pathItem")}),s}}const fh=a.visitors.document.objects.Example.$visitor;class vh extends fh{constructor(e){super(e),this.element=new dr}}const gh=a.visitors.document.objects.ExternalDocumentation.$visitor;class bh extends gh{constructor(e){super(e),this.element=new hr}}const yh=a.visitors.document.objects.Encoding.$visitor;class xh extends yh{constructor(e){super(e),this.element=new Ci}}const Sh=a.visitors.document.objects.Paths.$visitor;class jh extends Sh{constructor(e){super(e),this.element=new xr}}const Eh=a.visitors.document.objects.RequestBody.$visitor;class Oh extends Eh{constructor(e){super(e),this.element=new Sr}}const _i=a.visitors.document.objects.Callback.$visitor;class $h extends _i{constructor(e){super(e),this.element=new ar,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const s=_i.prototype.ObjectElement.call(this,e);return this.element.filter(rt).forEach(r=>{r.setMetaProperty("referenced-element","pathItem")}),s}}const wh=a.visitors.document.objects.Response.$visitor;class Ph extends wh{constructor(e){super(e),this.element=new jr}}const Vh=a.visitors.document.objects.Responses.$visitor;class Rh extends Vh{constructor(e){super(e),this.element=new Er}}const Fh=a.visitors.document.objects.Operation.$visitor;class Ah extends Fh{constructor(e){super(e),this.element=new Tt}}const Mh=a.visitors.document.objects.PathItem.$visitor;class Ih extends Mh{constructor(e){super(e),this.element=new Xe}}const Nh=a.visitors.document.objects.SecurityScheme.$visitor;class Dh extends Nh{constructor(e){super(e),this.element=new wr}}const kh=a.visitors.document.objects.OAuthFlows.$visitor;class Ch extends kh{constructor(e){super(e),this.element=new Ji}}const Th=a.visitors.document.objects.OAuthFlow.$visitor;class Jh extends Th{constructor(e){super(e),this.element=new Ti}}class Lh extends f(I,S){constructor(e){super(e),this.element=new di,this.specPath=s=>W(s)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const s=I.prototype.ObjectElement.call(this,e);return this.element.filter(rt).forEach(r=>{r.setMetaProperty("referenced-element","pathItem")}),this.element.filter(lt).forEach((r,i)=>{r.setMetaProperty("webhook-name",g(i))}),s}}const{JSONSchema:qh,LinkDescription:Bh}=fo.visitors.document.objects,Uh={visitors:{value:a.visitors.value,document:{objects:{OpenApi:{$visitor:wd,fixedFields:{openapi:a.visitors.document.objects.OpenApi.fixedFields.openapi,info:{$ref:"#/visitors/document/objects/Info"},jsonSchemaDialect:Dd,servers:a.visitors.document.objects.OpenApi.fixedFields.servers,paths:{$ref:"#/visitors/document/objects/Paths"},webhooks:Lh,components:{$ref:"#/visitors/document/objects/Components"},security:a.visitors.document.objects.OpenApi.fixedFields.security,tags:a.visitors.document.objects.OpenApi.fixedFields.tags,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:Vd,fixedFields:{title:a.visitors.document.objects.Info.fixedFields.title,description:a.visitors.document.objects.Info.fixedFields.description,summary:{$ref:"#/visitors/value"},termsOfService:a.visitors.document.objects.Info.fixedFields.termsOfService,contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:a.visitors.document.objects.Info.fixedFields.version}},Contact:{$visitor:Fd,fixedFields:{name:a.visitors.document.objects.Contact.fixedFields.name,url:a.visitors.document.objects.Contact.fixedFields.url,email:a.visitors.document.objects.Contact.fixedFields.email}},License:{$visitor:Md,fixedFields:{name:a.visitors.document.objects.License.fixedFields.name,identifier:{$ref:"#/visitors/value"},url:a.visitors.document.objects.License.fixedFields.url}},Server:{$visitor:Cd,fixedFields:{url:a.visitors.document.objects.Server.fixedFields.url,description:a.visitors.document.objects.Server.fixedFields.description,variables:a.visitors.document.objects.Server.fixedFields.variables}},ServerVariable:{$visitor:Jd,fixedFields:{enum:a.visitors.document.objects.ServerVariable.fixedFields.enum,default:a.visitors.document.objects.ServerVariable.fixedFields.default,description:a.visitors.document.objects.ServerVariable.fixedFields.description}},Components:{$visitor:zd,fixedFields:{schemas:mh,responses:a.visitors.document.objects.Components.fixedFields.responses,parameters:a.visitors.document.objects.Components.fixedFields.parameters,examples:a.visitors.document.objects.Components.fixedFields.examples,requestBodies:a.visitors.document.objects.Components.fixedFields.requestBodies,headers:a.visitors.document.objects.Components.fixedFields.headers,securitySchemes:a.visitors.document.objects.Components.fixedFields.securitySchemes,links:a.visitors.document.objects.Components.fixedFields.links,callbacks:a.visitors.document.objects.Components.fixedFields.callbacks,pathItems:ph}},Paths:{$visitor:jh},PathItem:{$visitor:Ih,fixedFields:{$ref:a.visitors.document.objects.PathItem.fixedFields.$ref,summary:a.visitors.document.objects.PathItem.fixedFields.summary,description:a.visitors.document.objects.PathItem.fixedFields.description,get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:a.visitors.document.objects.PathItem.fixedFields.servers,parameters:a.visitors.document.objects.PathItem.fixedFields.parameters}},Operation:{$visitor:Ah,fixedFields:{tags:a.visitors.document.objects.Operation.fixedFields.tags,summary:a.visitors.document.objects.Operation.fixedFields.summary,description:a.visitors.document.objects.Operation.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:a.visitors.document.objects.Operation.fixedFields.operationId,parameters:a.visitors.document.objects.Operation.fixedFields.parameters,requestBody:a.visitors.document.objects.Operation.fixedFields.requestBody,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:a.visitors.document.objects.Operation.fixedFields.callbacks,deprecated:a.visitors.document.objects.Operation.fixedFields.deprecated,security:a.visitors.document.objects.Operation.fixedFields.security,servers:a.visitors.document.objects.Operation.fixedFields.servers}},ExternalDocumentation:{$visitor:bh,fixedFields:{description:a.visitors.document.objects.ExternalDocumentation.fixedFields.description,url:a.visitors.document.objects.ExternalDocumentation.fixedFields.url}},Parameter:{$visitor:Qd,fixedFields:{name:a.visitors.document.objects.Parameter.fixedFields.name,in:a.visitors.document.objects.Parameter.fixedFields.in,description:a.visitors.document.objects.Parameter.fixedFields.description,required:a.visitors.document.objects.Parameter.fixedFields.required,deprecated:a.visitors.document.objects.Parameter.fixedFields.deprecated,allowEmptyValue:a.visitors.document.objects.Parameter.fixedFields.allowEmptyValue,style:a.visitors.document.objects.Parameter.fixedFields.style,explode:a.visitors.document.objects.Parameter.fixedFields.explode,allowReserved:a.visitors.document.objects.Parameter.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:a.visitors.document.objects.Parameter.fixedFields.example,examples:a.visitors.document.objects.Parameter.fixedFields.examples,content:a.visitors.document.objects.Parameter.fixedFields.content}},RequestBody:{$visitor:Oh,fixedFields:{description:a.visitors.document.objects.RequestBody.fixedFields.description,content:a.visitors.document.objects.RequestBody.fixedFields.content,required:a.visitors.document.objects.RequestBody.fixedFields.required}},MediaType:{$visitor:qd,fixedFields:{schema:{$ref:"#/visitors/document/objects/Schema"},example:a.visitors.document.objects.MediaType.fixedFields.example,examples:a.visitors.document.objects.MediaType.fixedFields.examples,encoding:a.visitors.document.objects.MediaType.fixedFields.encoding}},Encoding:{$visitor:xh,fixedFields:{contentType:a.visitors.document.objects.Encoding.fixedFields.contentType,headers:a.visitors.document.objects.Encoding.fixedFields.headers,style:a.visitors.document.objects.Encoding.fixedFields.style,explode:a.visitors.document.objects.Encoding.fixedFields.explode,allowReserved:a.visitors.document.objects.Encoding.fixedFields.allowReserved}},Responses:{$visitor:Rh,fixedFields:{default:a.visitors.document.objects.Responses.fixedFields.default}},Response:{$visitor:Ph,fixedFields:{description:a.visitors.document.objects.Response.fixedFields.description,headers:a.visitors.document.objects.Response.fixedFields.headers,content:a.visitors.document.objects.Response.fixedFields.content,links:a.visitors.document.objects.Response.fixedFields.links}},Callback:{$visitor:$h},Example:{$visitor:vh,fixedFields:{summary:a.visitors.document.objects.Example.fixedFields.summary,description:a.visitors.document.objects.Example.fixedFields.description,value:a.visitors.document.objects.Example.fixedFields.value,externalValue:a.visitors.document.objects.Example.fixedFields.externalValue}},Link:{$visitor:Nd,fixedFields:{operationRef:a.visitors.document.objects.Link.fixedFields.operationRef,operationId:a.visitors.document.objects.Link.fixedFields.operationId,parameters:a.visitors.document.objects.Link.fixedFields.parameters,requestBody:a.visitors.document.objects.Link.fixedFields.requestBody,description:a.visitors.document.objects.Link.fixedFields.description,server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:_d,fixedFields:{description:a.visitors.document.objects.Header.fixedFields.description,required:a.visitors.document.objects.Header.fixedFields.required,deprecated:a.visitors.document.objects.Header.fixedFields.deprecated,allowEmptyValue:a.visitors.document.objects.Header.fixedFields.allowEmptyValue,style:a.visitors.document.objects.Header.fixedFields.style,explode:a.visitors.document.objects.Header.fixedFields.explode,allowReserved:a.visitors.document.objects.Header.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:a.visitors.document.objects.Header.fixedFields.example,examples:a.visitors.document.objects.Header.fixedFields.examples,content:a.visitors.document.objects.Header.fixedFields.content}},Tag:{$visitor:Kd,fixedFields:{name:a.visitors.document.objects.Tag.fixedFields.name,description:a.visitors.document.objects.Tag.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:Gd,fixedFields:{$ref:a.visitors.document.objects.Reference.fixedFields.$ref,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},LinkDescription:{...Bh},Schema:{$visitor:eh,fixedFields:{...qh.fixedFields,$defs:th,allOf:sh,anyOf:rh,oneOf:ih,not:{$ref:"#/visitors/document/objects/Schema"},if:{$ref:"#/visitors/document/objects/Schema"},then:{$ref:"#/visitors/document/objects/Schema"},else:{$ref:"#/visitors/document/objects/Schema"},dependentSchemas:nh,prefixItems:oh,items:{$ref:"#/visitors/document/objects/Schema"},contains:{$ref:"#/visitors/document/objects/Schema"},properties:ch,patternProperties:ah,additionalProperties:{$ref:"#/visitors/document/objects/Schema"},propertyNames:{$ref:"#/visitors/document/objects/Schema"},unevaluatedItems:{$ref:"#/visitors/document/objects/Schema"},unevaluatedProperties:{$ref:"#/visitors/document/objects/Schema"},contentSchema:{$ref:"#/visitors/document/objects/Schema"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:uh,fixedFields:{propertyName:a.visitors.document.objects.Discriminator.fixedFields.propertyName,mapping:a.visitors.document.objects.Discriminator.fixedFields.mapping}},XML:{$visitor:hh,fixedFields:{name:a.visitors.document.objects.XML.fixedFields.name,namespace:a.visitors.document.objects.XML.fixedFields.namespace,prefix:a.visitors.document.objects.XML.fixedFields.prefix,attribute:a.visitors.document.objects.XML.fixedFields.attribute,wrapped:a.visitors.document.objects.XML.fixedFields.wrapped}},SecurityScheme:{$visitor:Dh,fixedFields:{type:a.visitors.document.objects.SecurityScheme.fixedFields.type,description:a.visitors.document.objects.SecurityScheme.fixedFields.description,name:a.visitors.document.objects.SecurityScheme.fixedFields.name,in:a.visitors.document.objects.SecurityScheme.fixedFields.in,scheme:a.visitors.document.objects.SecurityScheme.fixedFields.scheme,bearerFormat:a.visitors.document.objects.SecurityScheme.fixedFields.bearerFormat,flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:a.visitors.document.objects.SecurityScheme.fixedFields.openIdConnectUrl}},OAuthFlows:{$visitor:Ch,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:Jh,fixedFields:{authorizationUrl:a.visitors.document.objects.OAuthFlow.fixedFields.authorizationUrl,tokenUrl:a.visitors.document.objects.OAuthFlow.fixedFields.tokenUrl,refreshUrl:a.visitors.document.objects.OAuthFlow.fixedFields.refreshUrl,scopes:a.visitors.document.objects.OAuthFlow.fixedFields.scopes}},SecurityRequirement:{$visitor:Ud}},extension:{$visitor:a.visitors.document.extension.$visitor}}}},Hh=(t,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:s=[]}={})=>{const r=c.refract(t),i=Fe(Uh),n=ue(e,i),o=new n({specObj:i});return se(r,o),Oe(o.element,s,{toolboxCreator:$d,visitorOptions:{keyMap:He,nodeTypeGetter:Ue}})},T=t=>(e,s={})=>Hh(e,{specPath:t,...s});ar.refract=T(["visitors","document","objects","Callback","$visitor"]);lr.refract=T(["visitors","document","objects","Components","$visitor"]);ur.refract=T(["visitors","document","objects","Contact","$visitor"]);dr.refract=T(["visitors","document","objects","Example","$visitor"]);ki.refract=T(["visitors","document","objects","Discriminator","$visitor"]);Ci.refract=T(["visitors","document","objects","Encoding","$visitor"]);hr.refract=T(["visitors","document","objects","ExternalDocumentation","$visitor"]);mr.refract=T(["visitors","document","objects","Header","$visitor"]);pr.refract=T(["visitors","document","objects","Info","$visitor"]);De.refract=T(["visitors","document","objects","OpenApi","fixedFields","jsonSchemaDialect"]);fr.refract=T(["visitors","document","objects","License","$visitor"]);vr.refract=T(["visitors","document","objects","Link","$visitor"]);gr.refract=T(["visitors","document","objects","MediaType","$visitor"]);Ti.refract=T(["visitors","document","objects","OAuthFlow","$visitor"]);Ji.refract=T(["visitors","document","objects","OAuthFlows","$visitor"]);Li.refract=T(["visitors","document","objects","OpenApi","fixedFields","openapi"]);br.refract=T(["visitors","document","objects","OpenApi","$visitor"]);Tt.refract=T(["visitors","document","objects","Operation","$visitor"]);yr.refract=T(["visitors","document","objects","Parameter","$visitor"]);Xe.refract=T(["visitors","document","objects","PathItem","$visitor"]);xr.refract=T(["visitors","document","objects","Paths","$visitor"]);Te.refract=T(["visitors","document","objects","Reference","$visitor"]);Sr.refract=T(["visitors","document","objects","RequestBody","$visitor"]);jr.refract=T(["visitors","document","objects","Response","$visitor"]);Er.refract=T(["visitors","document","objects","Responses","$visitor"]);ke.refract=T(["visitors","document","objects","Schema","$visitor"]);$r.refract=T(["visitors","document","objects","SecurityRequirement","$visitor"]);wr.refract=T(["visitors","document","objects","SecurityScheme","$visitor"]);Pr.refract=T(["visitors","document","objects","Server","$visitor"]);Vr.refract=T(["visitors","document","objects","ServerVariable","$visitor"]);qi.refract=T(["visitors","document","objects","Tag","$visitor"]);Bi.refract=T(["visitors","document","objects","XML","$visitor"]);class zf extends Nc{constructor(e){super({...e??{},name:"binary"})}canParse(e){return this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension)}parse(e){try{const s=unescape(encodeURIComponent(e.toString())),r=btoa(s),i=new We;if(r.length!==0){const n=new c.StringElement(r);n.classes.push("result"),i.push(n)}return i}catch(s){throw new Bc(`Error parsing "${e.uri}"`,{cause:s})}}}class Wf extends kc{constructor(e){super({...e??{},name:"openapi-3-1"})}canResolve(e,s){const r=s.dereference.strategies.find(i=>i.name==="openapi-3-1");return r===void 0?!1:r.canDereference(e,s)}async resolve(e,s){const r=s.dereference.strategies.find(o=>o.name==="openapi-3-1");if(r===void 0)throw new Tn('"openapi-3-1" dereference strategy is not available.');const i=new Mr,n=gn(s,{resolve:{internal:!1},dereference:{refSet:i}});return await r.dereference(e,n),i}}const Ui=t=>/^[A-Za-z_][A-Za-z_0-9.-]*$/.test(t),us=t=>{const e=vn(t);return sn("#",e)},zh=t=>{if(!Ui(t))throw new Lc(t);return t},jo=(t,e)=>{const s=zh(t),r=Nn(i=>Ve(i)&&g(i.$anchor)===s,e);if(Ce(r))throw new Tc(`Evaluation failed on token: "${s}"`);return r},Wh=(t,e)=>{if(typeof e.$ref>"u")return;const s=vn(g(e.$ref)),r=g(e.meta.get("ancestorsSchemaIdentifiers"));return`${hn((n,o)=>it(n,Gs(te(o))),t,[...r,g(e.$ref)])}${s==="#"?"":s}`},Kh=(t,e)=>{if(typeof e.$id>"u")return;const s=g(e.meta.get("ancestorsSchemaIdentifiers"));return hn((r,i)=>it(r,Gs(te(i))),t,s)},ct=t=>{if(ct.cache.has(t))return ct.cache.get(t);const e=ke.refract(t);return ct.cache.set(t,e),e};ct.cache=new WeakMap;const $e=t=>nt(t)?ct(t):t,Hi=(t,e)=>{const{cache:s}=Hi,r=te(t),i=o=>Ve(o)&&typeof o.$id<"u";if(!s.has(e)){const o=xc(i,e);s.set(e,Array.from(o))}const n=s.get(e).find(o=>Kh(r,o)===r);if(Ce(n))throw new Ln(`Evaluation failed on URI: "${t}"`);return Ui(us(t))?jo(us(t),n):qe(n,Be(t))};Hi.cache=new WeakMap;const Xt=se[Symbol.for("nodejs.util.promisify.custom")],ie=new In,pe=(t,e,s,r)=>{Ee(r)?r.value=t:Array.isArray(r)&&(r[s]=t)};class ze{constructor({reference:e,namespace:s,options:r,indirections:i=[],ancestors:n=new Fr,refractCache:o=new Map,allOfDiscriminatorMapping:l=new Map}){u(this,"indirections");u(this,"namespace");u(this,"reference");u(this,"options");u(this,"ancestors");u(this,"refractCache");u(this,"allOfDiscriminatorMapping");u(this,"OpenApi3_1Element",{leave:(e,s,r,i,n,o)=>{var l;if(!((l=this.options.dereference.strategyOpts["openapi-3-1"])!==null&&l!==void 0&&l.dereferenceDiscriminatorMapping))return;const p=le(e);return p.setMetaProperty("allOfDiscriminatorMapping",Object.fromEntries(this.allOfDiscriminatorMapping)),o.replaceWith(p,pe),r?void 0:p}});this.indirections=i,this.namespace=s,this.reference=e,this.options=r,this.ancestors=new Fr(...n),this.refractCache=o,this.allOfDiscriminatorMapping=l}toBaseURI(e){return it(this.reference.uri,Gs(te(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new qc(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const s=this.toBaseURI(e),{refSet:r}=this.reference;if(r.has(s))return r.find(mn(s,"uri"));const i=await sc(Je(s),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),n=new ot({uri:s,value:V(i),depth:this.reference.depth+1});if(r.add(n),this.options.dereference.immutable){const o=new ot({uri:`immutable://${s}`,value:i,depth:this.reference.depth+1});r.add(o)}return n}toAncestorLineage(e){const s=new Set(e.filter(X));return[new Fr(...this.ancestors,s),s]}async ReferenceElement(e,s,r,i,n,o){if(this.indirections.includes(e))return!1;const[l,p]=this.toAncestorLineage([...n,r]),E=this.toBaseURI(g(e.$ref)),y=te(this.reference.uri)===E,v=!y;if(!this.options.resolve.internal&&y||!this.options.resolve.external&&v)return!1;const j=await this.toReference(g(e.$ref)),A=it(E,g(e.$ref));this.indirections.push(e);const w=Be(A);let m=qe(j.value.result,w);if(m.id=ie.identify(m),nt(m)){const q=g(e.meta.get("referenced-element")),B=`${q}-${g(ie.identify(m))}`;this.refractCache.has(B)?m=this.refractCache.get(B):W(m)?(m=Te.refract(m),m.setMetaProperty("referenced-element",q),this.refractCache.set(B,m)):(m=this.namespace.getElementClass(q).refract(m),this.refractCache.set(B,m))}if(e===m)throw new ce("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new Ar(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(m)){if(j.refSet.circular=!0,this.options.dereference.circular==="error")throw new ce("Circular reference detected");if(this.options.dereference.circular==="replace"){var P,O;const q=new c.RefElement(m.id,{type:"reference",uri:j.uri,$ref:g(e.$ref)}),re=((P=(O=this.options.dereference.strategyOpts["openapi-3-1"])===null||O===void 0?void 0:O.circularReplacer)!==null&&P!==void 0?P:this.options.dereference.circularReplacer)(q);return o.replaceWith(re,pe),r?!1:re}}const d=te(j.refSet.rootRef.uri)!==j.uri,$=["error","replace"].includes(this.options.dereference.circular);if((v||d||rt(m)||$)&&!l.includesCycle(m)){p.add(e);const q=new ze({reference:j,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l,allOfDiscriminatorMapping:this.allOfDiscriminatorMapping});m=await Xt(m,q,{keyMap:He,nodeTypeGetter:Ue}),p.delete(e)}this.indirections.pop();const h=le(m);return h.setMetaProperty("id",ie.generateId()),h.setMetaProperty("ref-fields",{$ref:g(e.$ref),description:g(e.description),summary:g(e.summary)}),h.setMetaProperty("ref-origin",j.uri),h.setMetaProperty("ref-referencing-element-id",V(ie.identify(e))),z(m)&&z(h)&&(e.hasKey("description")&&"description"in m&&(h.remove("description"),h.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in m&&(h.remove("summary"),h.set("summary",e.get("summary")))),o.replaceWith(h,pe),r?!1:h}async PathItemElement(e,s,r,i,n,o){if(!F(e.$ref))return;if(this.indirections.includes(e))return!1;const[l,p]=this.toAncestorLineage([...n,r]),E=this.toBaseURI(g(e.$ref)),y=te(this.reference.uri)===E,v=!y;if(!this.options.resolve.internal&&y||!this.options.resolve.external&&v)return;const j=await this.toReference(g(e.$ref)),A=it(E,g(e.$ref));this.indirections.push(e);const w=Be(A);let m=qe(j.value.result,w);if(m.id=ie.identify(m),nt(m)){const h=`path-item-${g(ie.identify(m))}`;this.refractCache.has(h)?m=this.refractCache.get(h):(m=Xe.refract(m),this.refractCache.set(h,m))}if(e===m)throw new ce("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new Ar(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(m)){if(j.refSet.circular=!0,this.options.dereference.circular==="error")throw new ce("Circular reference detected");if(this.options.dereference.circular==="replace"){var P,O;const h=new c.RefElement(m.id,{type:"path-item",uri:j.uri,$ref:g(e.$ref)}),B=((P=(O=this.options.dereference.strategyOpts["openapi-3-1"])===null||O===void 0?void 0:O.circularReplacer)!==null&&P!==void 0?P:this.options.dereference.circularReplacer)(h);return o.replaceWith(B,pe),r?!1:B}}const d=te(j.refSet.rootRef.uri)!==j.uri,$=["error","replace"].includes(this.options.dereference.circular);if((v||d||lt(m)&&F(m.$ref)||$)&&!l.includesCycle(m)){p.add(e);const h=new ze({reference:j,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l,allOfDiscriminatorMapping:this.allOfDiscriminatorMapping});m=await Xt(m,h,{keyMap:He,nodeTypeGetter:Ue}),p.delete(e)}if(this.indirections.pop(),lt(m)){const h=new Xe([...m.content],V(m.meta),V(m.attributes));h.setMetaProperty("id",ie.generateId()),e.forEach((q,B,re)=>{h.remove(g(B)),h.content.push(re)}),h.remove("$ref"),h.setMetaProperty("ref-fields",{$ref:g(e.$ref)}),h.setMetaProperty("ref-origin",j.uri),h.setMetaProperty("ref-referencing-element-id",V(ie.identify(e))),m=h}return o.replaceWith(m,pe),r?void 0:m}async LinkElement(e,s,r,i,n,o){if(!F(e.operationRef)&&!F(e.operationId))return;if(F(e.operationRef)&&F(e.operationId))throw new ce("LinkElement operationRef and operationId fields are mutually exclusive.");let l;if(F(e.operationRef)){var p;const y=Be(g(e.operationRef)),v=this.toBaseURI(g(e.operationRef)),j=te(this.reference.uri)===v,A=!j;if(!this.options.resolve.internal&&j||!this.options.resolve.external&&A)return;const w=await this.toReference(g(e.operationRef));if(l=qe(w.value.result,y),nt(l)){const P=`operation-${g(ie.identify(l))}`;this.refractCache.has(P)?l=this.refractCache.get(P):(l=Tt.refract(l),this.refractCache.set(P,l))}l=le(l),l.setMetaProperty("ref-origin",w.uri);const m=le(e);return(p=m.operationRef)===null||p===void 0||p.meta.set("operation",l),o.replaceWith(m,pe),r?void 0:m}if(F(e.operationId)){var E;const y=g(e.operationId),v=await this.toReference(Je(this.reference.uri));if(l=Nn(A=>xo(A)&&X(A.operationId)&&A.operationId.equals(y),v.value.result),Ce(l))throw new ce(`OperationElement(operationId=${y}) not found.`);const j=le(e);return(E=j.operationId)===null||E===void 0||E.meta.set("operation",l),o.replaceWith(j,pe),r?void 0:j}}async ExampleElement(e,s,r,i,n,o){if(!F(e.externalValue))return;if(e.hasKey("value")&&F(e.externalValue))throw new ce("ExampleElement value and externalValue fields are mutually exclusive.");const l=this.toBaseURI(g(e.externalValue)),p=te(this.reference.uri)===l,E=!p;if(!this.options.resolve.internal&&p||!this.options.resolve.external&&E)return;const y=await this.toReference(g(e.externalValue)),v=le(y.value.result);v.setMetaProperty("ref-origin",y.uri);const j=le(e);return j.value=v,o.replaceWith(j,pe),r?void 0:j}async MemberElement(e,s,r,i,n,o){var l;const p=n[n.length-1];if(!z(p)||!p.classes.contains("discriminator-mapping"))return;if(!((l=this.options.dereference.strategyOpts["openapi-3-1"])!==null&&l!==void 0&&l.dereferenceDiscriminatorMapping)||!F(e.key)||!F(e.value)||this.indirections.includes(e))return!1;this.indirections.push(e);const[E,y]=this.toAncestorLineage([...n,r]),v=[...y].findLast(Ve),j=V(v.getMetaProperty("ancestorsSchemaIdentifiers")),A=g(e.value),m=/^[a-zA-Z0-9\\.\\-_]+$/.test(A)?`#/components/schemas/${A}`:A,P=new ke({$ref:m});P.setMetaProperty("ancestorsSchemaIdentifiers",j),y.add(P);const O=new ze({reference:this.reference,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:E,allOfDiscriminatorMapping:this.allOfDiscriminatorMapping}),d=await Xt(P,O,{keyMap:He,nodeTypeGetter:Ue});y.delete(P),this.indirections.pop();const $=le(e);return $.value.setMetaProperty("ref-schema",d),o.replaceWith($,pe),r?void 0:$}async SchemaElement(e,s,r,i,n,o){if(!F(e.$ref))return;if(this.indirections.includes(e))return!1;const[l,p]=this.toAncestorLineage([...n,r]);let E=await this.toReference(Je(this.reference.uri)),{uri:y}=E;const v=Wh(y,e),j=te(v),A=new ts({uri:j}),w=Lo(M=>M.canRead(A),this.options.resolve.resolvers),m=!w;let P=te(this.reference.uri)===v,O=!P;this.indirections.push(e);let d;try{if(w||m){y=this.toBaseURI(v);const M=v,H=$e(E.value.result);if(d=Hi(M,H),d=$e(d),d.id=ie.identify(d),!this.options.resolve.internal&&P||!this.options.resolve.external&&O)return}else{if(y=this.toBaseURI(v),P=te(this.reference.uri)===y,O=!P,!this.options.resolve.internal&&P||!this.options.resolve.external&&O)return;E=await this.toReference(Je(v));const M=Be(v),H=$e(E.value.result);d=qe(H,M),d=$e(d),d.id=ie.identify(d)}}catch(M){if(m&&M instanceof Ln)if(Ui(us(v))){if(P=te(this.reference.uri)===y,O=!P,!this.options.resolve.internal&&P||!this.options.resolve.external&&O)return;E=await this.toReference(Je(v));const H=us(v),J=$e(E.value.result);d=jo(H,J),d=$e(d),d.id=ie.identify(d)}else{if(y=this.toBaseURI(v),P=te(this.reference.uri)===y,O=!P,!this.options.resolve.internal&&P||!this.options.resolve.external&&O)return;E=await this.toReference(Je(v));const H=Be(v),J=$e(E.value.result);d=qe(J,H),d=$e(d),d.id=ie.identify(d)}else throw M}if(e===d)throw new ce("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new Ar(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(d)){if(E.refSet.circular=!0,this.options.dereference.circular==="error")throw new ce("Circular reference detected");if(this.options.dereference.circular==="replace"){var $,h;const M=new c.RefElement(d.id,{type:"json-schema",uri:E.uri,$ref:g(e.$ref)}),J=(($=(h=this.options.dereference.strategyOpts["openapi-3-1"])===null||h===void 0?void 0:h.circularReplacer)!==null&&$!==void 0?$:this.options.dereference.circularReplacer)(M);return o.replaceWith(J,pe),r?!1:J}}const q=te(E.refSet.rootRef.uri)!==E.uri,B=["error","replace"].includes(this.options.dereference.circular);if((O||q||Ve(d)&&F(d.$ref)||B)&&!l.includesCycle(d)){p.add(e);const M=new ze({reference:E,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l,allOfDiscriminatorMapping:this.allOfDiscriminatorMapping});d=await Xt(d,M,{keyMap:He,nodeTypeGetter:Ue}),p.delete(e)}if(this.indirections.pop(),So(d)){const M=V(d);return M.setMetaProperty("id",ie.generateId()),M.setMetaProperty("ref-fields",{$ref:g(e.$ref),$refBaseURI:v}),M.setMetaProperty("ref-origin",E.uri),M.setMetaProperty("ref-referencing-element-id",V(ie.identify(e))),o.replaceWith(M,pe),r?!1:M}if(Ve(d)){var re;const M=new ke([...d.content],V(d.meta),V(d.attributes));if(M.setMetaProperty("id",ie.generateId()),e.forEach((H,J,_)=>{M.remove(g(J)),M.content.push(_)}),M.remove("$ref"),M.setMetaProperty("ref-fields",{$ref:g(e.$ref),$refBaseURI:v}),M.setMetaProperty("ref-origin",E.uri),M.setMetaProperty("ref-referencing-element-id",V(ie.identify(e))),(re=this.options.dereference.strategyOpts["openapi-3-1"])!==null&&re!==void 0&&re.dereferenceDiscriminatorMapping){var de;const H=n[n.length-1],J=[...p].findLast(Ve),_=J==null?void 0:J.getMetaProperty("schemaName"),ee=g(M.getMetaProperty("schemaName"));if(ee&&_&&H!==null&&H!==void 0&&(de=H.classes)!==null&&de!==void 0&&de.contains("json-schema-allOf")){var K;const Z=(K=this.allOfDiscriminatorMapping.get(ee))!==null&&K!==void 0?K:[];Z.push(J),this.allOfDiscriminatorMapping.set(ee,Z)}}d=M}return o.replaceWith(d,pe),r?void 0:d}}const Xh=se[Symbol.for("nodejs.util.promisify.custom")];class Kf extends Cc{constructor(e){super({...e??{},name:"openapi-3-1"})}canDereference(e){var s;return e.mediaType!=="text/plain"?Hc.includes(e.mediaType):yo((s=e.parseResult)===null||s===void 0?void 0:s.result)}async dereference(e,s){var r;const i=Re(go),n=(r=s.dereference.refSet)!==null&&r!==void 0?r:new Mr,o=new Mr;let l=n,p;n.has(e.uri)?p=n.find(mn(e.uri,"uri")):(p=new ot({uri:e.uri,value:e.parseResult}),n.add(p)),s.dereference.immutable&&(n.refs.map(v=>new ot({...v,value:V(v.value)})).forEach(v=>o.add(v)),p=o.find(v=>v.uri===e.uri),l=o);const E=new ze({reference:p,namespace:i,options:s}),y=await Xh(l.rootRef.value,E,{keyMap:He,nodeTypeGetter:Ue});return s.dereference.immutable&&o.refs.filter(v=>v.uri.startsWith("immutable://")).map(v=>new ot({...v,uri:v.uri.replace(/^immutable:\/\//,"")})).forEach(v=>n.add(v)),s.dereference.refSet===null&&n.clean(),o.clean(),y}}export{Xo as $,Ie as A,F as B,Xe as C,lt as D,Je as E,Wh as F,ts as G,cm as H,In as I,$e as J,Hi as K,Ln as L,Ar as M,Ui as N,Uc as O,Nc as P,us as Q,_o as R,jo as S,So as T,ke as U,Vi as V,Kf as W,Re as X,Mr as Y,ot as Z,go as _,z as a,lm as a0,Go as a1,zf as a2,Wf as a3,im as a4,Bf as a5,Lf as a6,qf as a7,Uf as a8,Hf as a9,Oe as aa,$d as ab,X as ac,Wo as b,Bc as c,We as d,br as e,nm as f,Ee as g,Ve as h,fe as i,Se as j,wi as k,le as l,Hc as m,ze as n,te as o,nt as p,W as q,it as r,g as s,Te as t,ce as u,rt as v,se as w,Ue as x,He as y,V as z};
