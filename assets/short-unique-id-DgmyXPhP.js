import{g as A}from"./@babel-DKJoG5s4.js";var b={exports:{}},q;function T(){return q||(q=1,function(S){var f=(()=>{var p=Object.defineProperty,C=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,m=(h,r,a)=>r in h?p(h,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):h[r]=a,v=(h,r)=>{for(var a in r||(r={}))D.call(r,a)&&m(h,a,r[a]);if(w)for(var a of w(r))$.call(r,a)&&m(h,a,r[a]);return h},O=(h,r)=>{for(var a in r)p(h,a,{get:r[a],enumerable:!0})},B=(h,r,a,g)=>{if(r&&typeof r=="object"||typeof r=="function")for(let d of P(r))!D.call(h,d)&&d!==a&&p(h,d,{get:()=>r[d],enumerable:!(g=C(r,d))||g.enumerable});return h},L=h=>B(p({},"__esModule",{value:!0}),h),i=(h,r,a)=>(m(h,typeof r!="symbol"?r+"":r,a),a),x={};O(x,{DEFAULT_OPTIONS:()=>y,DEFAULT_UUID_LENGTH:()=>c,default:()=>E});var M="5.2.0",c=6,y={dictionary:"alphanum",shuffle:!0,debug:!1,length:c,counter:0},U=class{constructor(r={}){i(this,"counter"),i(this,"debug"),i(this,"dict"),i(this,"version"),i(this,"dictIndex",0),i(this,"dictRange",[]),i(this,"lowerBound",0),i(this,"upperBound",0),i(this,"dictLength",0),i(this,"uuidLength"),i(this,"_digit_first_ascii",48),i(this,"_digit_last_ascii",58),i(this,"_alpha_lower_first_ascii",97),i(this,"_alpha_lower_last_ascii",123),i(this,"_hex_last_ascii",103),i(this,"_alpha_upper_first_ascii",65),i(this,"_alpha_upper_last_ascii",91),i(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),i(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),i(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),i(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),i(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),i(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),i(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),i(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),i(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),i(this,"log",(...t)=>{const s=[...t];if(s[0]=`[short-unique-id] ${t[0]}`,this.debug===!0&&typeof console<"u"&&console!==null)return console.log(...s)}),i(this,"_normalizeDictionary",(t,s)=>{let e;if(t&&Array.isArray(t)&&t.length>1)e=t;else{e=[];let n;this.dictIndex=n=0;const o=`_${t}_dict_ranges`,_=this._dict_ranges[o];Object.keys(_).forEach(l=>{const I=l;for(this.dictRange=_[I],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=n=this.lowerBound;this.lowerBound<=this.upperBound?n<this.upperBound:n>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?n+=1:n-=1)e.push(String.fromCharCode(this.dictIndex))})}return s&&(e=e.sort(()=>Math.random()-.5)),e}),i(this,"setDictionary",(t,s)=>{this.dict=this._normalizeDictionary(t,s),this.dictLength=this.dict.length,this.setCounter(0)}),i(this,"seq",()=>this.sequentialUUID()),i(this,"sequentialUUID",()=>{let t,s,e="";t=this.counter;do s=t%this.dictLength,t=Math.trunc(t/this.dictLength),e+=this.dict[s];while(t!==0);return this.counter+=1,e}),i(this,"rnd",(t=this.uuidLength||c)=>this.randomUUID(t)),i(this,"randomUUID",(t=this.uuidLength||c)=>{let s,e,n;if(t===null||typeof t>"u"||t<1)throw new Error("Invalid UUID Length Provided");for(s="",n=0;n<t;n+=1)e=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,s+=this.dict[e];return s}),i(this,"fmt",(t,s)=>this.formattedUUID(t,s)),i(this,"formattedUUID",(t,s)=>{const e={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return t.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,o=>{const _=o.slice(0,2),l=parseInt(o.slice(2),10);return _==="$s"?e[_]().padStart(l,"0"):_==="$t"&&s?e[_](l,s):e[_](l)})}),i(this,"availableUUIDs",(t=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,t).toFixed(0))),i(this,"approxMaxBeforeCollision",(t=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*t).toFixed(20))),i(this,"collisionProbability",(t=this.availableUUIDs(this.uuidLength),s=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(t)/this.availableUUIDs(s)).toFixed(20))),i(this,"uniqueness",(t=this.availableUUIDs(this.uuidLength))=>{const s=parseFloat((1-this.approxMaxBeforeCollision(t)/t).toFixed(20));return s>1?1:s<0?0:s}),i(this,"getVersion",()=>this.version),i(this,"stamp",(t,s)=>{const e=Math.floor(+(s||new Date)/1e3).toString(16);if(typeof t=="number"&&t===0)return e;if(typeof t!="number"||t<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join(`
`));const n=t-9,o=Math.round(Math.random()*(n>15?15:n)),_=this.randomUUID(n);return`${_.substring(0,o)}${e}${_.substring(o)}${o.toString(16)}`}),i(this,"parseStamp",(t,s)=>{if(s&&!/t0|t[1-9]\d{1,}/.test(s))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");const e=s?s.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,o=>{const _={$r:u=>[...Array(u)].map(()=>"r").join(""),$s:u=>[...Array(u)].map(()=>"s").join(""),$t:u=>[...Array(u)].map(()=>"t").join("")},l=o.slice(0,2),I=parseInt(o.slice(2),10);return _[l](I)}).replace(/^(.*?)(t{8,})(.*)$/g,(o,_,l)=>t.substring(_.length,_.length+l.length)):t;if(e.length===8)return new Date(parseInt(e,16)*1e3);if(e.length<10)throw new Error("Stamp length invalid");const n=parseInt(e.substring(e.length-1),16);return new Date(parseInt(e.substring(n,n+8),16)*1e3)}),i(this,"setCounter",t=>{this.counter=t}),i(this,"validate",(t,s)=>{const e=s?this._normalizeDictionary(s):this.dict;return t.split("").every(n=>e.includes(n))});const a=v(v({},y),r);this.counter=0,this.debug=!1,this.dict=[],this.version=M;const{dictionary:g,shuffle:d,length:F,counter:j}=a;return this.uuidLength=F,this.setDictionary(g,d),this.setCounter(j),this.debug=a.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength} and counter set to ${this.counter}`),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this),this}};i(U,"default",U);var E=U;return L(x)})();S.exports=f.default,typeof window<"u"&&(f=f.default)}(b)),b.exports}var N=T();const V=A(N);export{V as S};
