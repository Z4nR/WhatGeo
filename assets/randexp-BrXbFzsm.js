import{g}from"./@babel-DhV5f2z5.js";import{r as R}from"./ret-DwskdoAr.js";import{r as p}from"./drange-CZsyvxLZ.js";var f,c;function _(){if(c)return f;c=1;const h=R(),l=p(),s=h.types;return f=class d{constructor(t,e){if(this._setDefaults(t),t instanceof RegExp)this.ignoreCase=t.ignoreCase,this.multiline=t.multiline,t=t.source;else if(typeof t=="string")this.ignoreCase=e&&e.indexOf("i")!==-1,this.multiline=e&&e.indexOf("m")!==-1;else throw new Error("Expected a regexp or string");this.tokens=h(t)}_setDefaults(t){this.max=t.max!=null?t.max:d.prototype.max!=null?d.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(t,e){var r,n,i,a,u;switch(t.type){case s.ROOT:case s.GROUP:if(t.followedBy||t.notFollowedBy)return"";for(t.remember&&t.groupNumber===void 0&&(t.groupNumber=e.push(null)-1),r=t.options?this._randSelect(t.options):t.stack,n="",a=0,u=r.length;a<u;a++)n+=this._gen(r[a],e);return t.remember&&(e[t.groupNumber]=n),n;case s.POSITION:return"";case s.SET:var o=this._expand(t);return o.length?String.fromCharCode(this._randSelect(o)):"";case s.REPETITION:for(i=this.randInt(t.min,t.max===1/0?t.min+this.max:t.max),n="",a=0;a<i;a++)n+=this._gen(t.value,e);return n;case s.REFERENCE:return e[t.value-1]||"";case s.CHAR:var m=this.ignoreCase&&this._randBool()?this._toOtherCase(t.value):t.value;return String.fromCharCode(m)}}_toOtherCase(t){return t+(97<=t&&t<=122?-32:65<=t&&t<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(t){return t instanceof l?t.index(this.randInt(0,t.length-1)):t[this.randInt(0,t.length-1)]}_expand(t){if(t.type===h.types.CHAR)return new l(t.value);if(t.type===h.types.RANGE)return new l(t.from,t.to);{let e=new l;for(let r=0;r<t.set.length;r++){let n=this._expand(t.set[r]);if(e.add(n),this.ignoreCase)for(let i=0;i<n.length;i++){let a=n.index(i),u=this._toOtherCase(a);a!==u&&e.add(u)}}return t.not?this.defaultRange.clone().subtract(e):this.defaultRange.clone().intersect(e)}}randInt(t,e){return t+Math.floor(Math.random()*(1+e-t))}get defaultRange(){return this._range=this._range||new l(32,126)}set defaultRange(t){this._range=t}static randexp(t,e){var r;return typeof t=="string"&&(t=new RegExp(t,e)),t._randexp===void 0?(r=new d(t,e),t._randexp=r):(r=t._randexp,r._setDefaults(t)),r.gen()}static sugar(){RegExp.prototype.gen=function(){return d.randexp(this)}}},f}var C=_();const I=g(C);export{I as r};
