import{g as d,c as C}from"./@babel-405a847c.js";import{r as k}from"./requires-port-e72b6d28.js";import{q as S}from"./querystringify-32e314c6.js";var b=k,c=S,A=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,x=/[\n\r\t]/g,L=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,I=/:\d+$/,j=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,z=/^[a-zA-Z]:/;function g(o){return(o||"").toString().replace(A,"")}var w=[["#","hash"],["?","query"],function(n,t){return h(t.protocol)?n.replace(/\\/g,"/"):n},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],q={hash:1,query:1};function R(o){var n;typeof window<"u"?n=window:typeof C<"u"?n=C:typeof self<"u"?n=self:n={};var t=n.location||{};o=o||t;var e={},i=typeof o,r;if(o.protocol==="blob:")e=new l(unescape(o.pathname),{});else if(i==="string"){e=new l(o,{});for(r in q)delete e[r]}else if(i==="object"){for(r in o)r in q||(e[r]=o[r]);e.slashes===void 0&&(e.slashes=L.test(o.href))}return e}function h(o){return o==="file:"||o==="ftp:"||o==="http:"||o==="https:"||o==="ws:"||o==="wss:"}function U(o,n){o=g(o),o=o.replace(x,""),n=n||{};var t=j.exec(o),e=t[1]?t[1].toLowerCase():"",i=!!t[2],r=!!t[3],p=0,f;return i?r?(f=t[2]+t[3]+t[4],p=t[2].length+t[3].length):(f=t[2]+t[4],p=t[2].length):r?(f=t[3]+t[4],p=t[3].length):f=t[4],e==="file:"?p>=2&&(f=f.slice(2)):h(e)?f=t[4]:e?i&&(f=f.slice(2)):p>=2&&h(n.protocol)&&(f=t[4]),{protocol:e,slashes:i||h(e),slashesCount:p,rest:f}}function O(o,n){if(o==="")return n;for(var t=(n||"/").split("/").slice(0,-1).concat(o.split("/")),e=t.length,i=t[e-1],r=!1,p=0;e--;)t[e]==="."?t.splice(e,1):t[e]===".."?(t.splice(e,1),p++):p&&(e===0&&(r=!0),t.splice(e,1),p--);return r&&t.unshift(""),(i==="."||i==="..")&&t.push(""),t.join("/")}function l(o,n,t){if(o=g(o),o=o.replace(x,""),!(this instanceof l))return new l(o,n,t);var e,i,r,p,f,a,u=w.slice(),y=typeof n,s=this,m=0;for(y!=="object"&&y!=="string"&&(t=n,n=null),t&&typeof t!="function"&&(t=c.parse),n=R(n),i=U(o||"",n),e=!i.protocol&&!i.slashes,s.slashes=i.slashes||e&&n.slashes,s.protocol=i.protocol||n.protocol||"",o=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||z.test(o))||!i.slashes&&(i.protocol||i.slashesCount<2||!h(s.protocol)))&&(u[3]=[/(.*)/,"pathname"]);m<u.length;m++){if(p=u[m],typeof p=="function"){o=p(o,s);continue}r=p[0],a=p[1],r!==r?s[a]=o:typeof r=="string"?(f=r==="@"?o.lastIndexOf(r):o.indexOf(r),~f&&(typeof p[2]=="number"?(s[a]=o.slice(0,f),o=o.slice(f+p[2])):(s[a]=o.slice(f),o=o.slice(0,f)))):(f=r.exec(o))&&(s[a]=f[1],o=o.slice(0,f.index)),s[a]=s[a]||e&&p[3]&&n[a]||"",p[4]&&(s[a]=s[a].toLowerCase())}t&&(s.query=t(s.query)),e&&n.slashes&&s.pathname.charAt(0)!=="/"&&(s.pathname!==""||n.pathname!=="")&&(s.pathname=O(s.pathname,n.pathname)),s.pathname.charAt(0)!=="/"&&h(s.protocol)&&(s.pathname="/"+s.pathname),b(s.port,s.protocol)||(s.host=s.hostname,s.port=""),s.username=s.password="",s.auth&&(f=s.auth.indexOf(":"),~f?(s.username=s.auth.slice(0,f),s.username=encodeURIComponent(decodeURIComponent(s.username)),s.password=s.auth.slice(f+1),s.password=encodeURIComponent(decodeURIComponent(s.password))):s.username=encodeURIComponent(decodeURIComponent(s.auth)),s.auth=s.password?s.username+":"+s.password:s.username),s.origin=s.protocol!=="file:"&&h(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString()}function N(o,n,t){var e=this;switch(o){case"query":typeof n=="string"&&n.length&&(n=(t||c.parse)(n)),e[o]=n;break;case"port":e[o]=n,b(n,e.protocol)?n&&(e.host=e.hostname+":"+n):(e.host=e.hostname,e[o]="");break;case"hostname":e[o]=n,e.port&&(n+=":"+e.port),e.host=n;break;case"host":e[o]=n,I.test(n)?(n=n.split(":"),e.port=n.pop(),e.hostname=n.join(":")):(e.hostname=n,e.port="");break;case"protocol":e.protocol=n.toLowerCase(),e.slashes=!t;break;case"pathname":case"hash":if(n){var i=o==="pathname"?"/":"#";e[o]=n.charAt(0)!==i?i+n:n}else e[o]=n;break;case"username":case"password":e[o]=encodeURIComponent(n);break;case"auth":var r=n.indexOf(":");~r?(e.username=n.slice(0,r),e.username=encodeURIComponent(decodeURIComponent(e.username)),e.password=n.slice(r+1),e.password=encodeURIComponent(decodeURIComponent(e.password))):e.username=encodeURIComponent(decodeURIComponent(n))}for(var p=0;p<w.length;p++){var f=w[p];f[4]&&(e[f[1]]=e[f[1]].toLowerCase())}return e.auth=e.password?e.username+":"+e.password:e.username,e.origin=e.protocol!=="file:"&&h(e.protocol)&&e.host?e.protocol+"//"+e.host:"null",e.href=e.toString(),e}function P(o){(!o||typeof o!="function")&&(o=c.stringify);var n,t=this,e=t.host,i=t.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var r=i+(t.protocol&&t.slashes||h(t.protocol)?"//":"");return t.username?(r+=t.username,t.password&&(r+=":"+t.password),r+="@"):t.password?(r+=":"+t.password,r+="@"):t.protocol!=="file:"&&h(t.protocol)&&!e&&t.pathname!=="/"&&(r+="@"),(e[e.length-1]===":"||I.test(t.hostname)&&!t.port)&&(e+=":"),r+=e+t.pathname,n=typeof t.query=="object"?o(t.query):t.query,n&&(r+=n.charAt(0)!=="?"?"?"+n:n),t.hash&&(r+=t.hash),r}l.prototype={set:N,toString:P};l.extractProtocol=U;l.location=R;l.trimLeft=g;l.qs=c;var Z=l;const E=d(Z);export{E as i};
