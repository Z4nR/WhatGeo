import{r as p,R as P}from"./react-C96LbKGD.js";import{l as m}from"./leaflet-BbEr5_9R.js";import{c as b,a as C,e as g,b as G,L as T,d as h,f as J,u as N,w as M}from"./@react-leaflet-wfXnmi4G.js";import"./react-dom-C8omzJEL.js";const U=b(function({data:a,...e},n){const t=new m.GeoJSON(a,e);return C(t,g(n,{overlayContainer:t}))},function(a,e,n){e.style!==n.style&&(e.style==null?a.resetStyle():a.setStyle(e.style))});function y(){return y=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])}return o},y.apply(this,arguments)}function R({bounds:o,boundsOptions:a,center:e,children:n,className:t,id:d,placeholder:u,style:i,whenReady:s,zoom:l,...f},L){const[O]=p.useState({className:t,id:d,style:i}),[r,S]=p.useState(null);p.useImperativeHandle(L,()=>(r==null?void 0:r.map)??null,[r]);const w=p.useCallback(v=>{if(v!==null&&r===null){const c=new m.Map(v,f);e!=null&&l!=null?c.setView(e,l):o!=null&&c.fitBounds(o,a),s!=null&&c.whenReady(s),S(G(c))}},[]);p.useEffect(()=>()=>{r==null||r.map.remove()},[r]);const E=r?P.createElement(T,{value:r},n):u??null;return P.createElement("div",y({},O,{ref:w}),E)}const V=p.forwardRef(R),_=h(function(a,e){const n=new m.Popup(a,e.overlayContainer);return C(n,e)},function(a,e,{position:n},t){p.useEffect(function(){const{instance:u}=a;function i(l){l.popup===u&&(u.update(),t(!0))}function s(l){l.popup===u&&t(!1)}return e.map.on({popupopen:i,popupclose:s}),e.overlayContainer==null?(n!=null&&u.setLatLng(n),u.openOn(e.map)):e.overlayContainer.bindPopup(u),function(){var f;e.map.off({popupopen:i,popupclose:s}),(f=e.overlayContainer)==null||f.unbindPopup(),e.map.removeLayer(u)}},[a,e,t,n])}),q=J(function({url:a,...e},n){const t=new m.TileLayer(a,M(e,n));return C(t,n)},function(a,e,n){N(a,e,n);const{url:t}=e;t!=null&&t!==n.url&&a.setUrl(t)});export{U as G,V as M,_ as P,q as T};
