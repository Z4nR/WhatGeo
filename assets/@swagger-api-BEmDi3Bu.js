var Ro=Object.defineProperty;var Fo=(t,e,r)=>e in t?Ro(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var u=(t,e,r)=>Fo(t,typeof e!="symbol"?e+"":e,r);import{t as Ao,i as ke,r as Mo,a as nn,b as at,c as on,d as nt,e as cn,f as Gt,g as vi,h as Io,j as an,k as gi,s as ln,l as un}from"./ramda-adjunct-2tfa14YL.js";import{l as Xs,p as bi,t as No,a as Zt,b as Se,c as ko,i as Do,m as yi,o as Co,d as To,e as oe,f as v,g as xi,h as dn,F as Si,j as hn,T as je,k as Qt,n as Jo,q as mn,r as Lo,s as Yt,u as pn,v as qo,w as Bo,x as Uo,y as fn,z as F,A as vn,B as Ho,C as zo,D as de,E as Wo,G as Ko,H as gn,I as bn,J as Xo}from"./ramda-CNCrST_l.js";import{m as o}from"./minim-2ZQN76Kp.js";import{p as _t}from"./process-Xw-WFofp.js";import{_ as Go}from"./@babel-DhV5f2z5.js";import{M as p}from"./ts-mixer-DR1IXZCf.js";import{S as Zo}from"./short-unique-id-DgIDKg67.js";class Qo extends Go{constructor(e,r,s){if(super(e,r,s),this.name=this.constructor.name,typeof r=="string"&&(this.message=r),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(r).stack,s!=null&&typeof s=="object"&&Object.hasOwn(s,"cause")&&!("cause"in this)){const{cause:i}=s;this.cause=i,i instanceof Error&&"stack"in i&&(this.stack=`${this.stack}
CAUSE: ${i.stack}`)}}}class re extends Error{static[Symbol.hasInstance](e){return super[Symbol.hasInstance](e)||Function.prototype[Symbol.hasInstance].call(Qo,e)}constructor(e,r){if(super(e,r),this.name=this.constructor.name,typeof e=="string"&&(this.message=e),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,r!=null&&typeof r=="object"&&Object.hasOwn(r,"cause")&&!("cause"in this)){const{cause:s}=r;this.cause=s,s instanceof Error&&"stack"in s&&(this.stack=`${this.stack}
CAUSE: ${s.stack}`)}}}class Ve extends re{constructor(e,r){if(super(e,r),r!=null&&typeof r=="object"){const{cause:s,...i}=r;Object.assign(this,i)}}}class k extends re{}class Fr extends k{}const ji=()=>bi(No(/^win/),["platform"],_t),Ei=t=>{try{const e=new URL(t);return Ao(":",e.protocol)}catch{return}};Se(Ei,nn);const Yo=t=>{const e=t.lastIndexOf(".");return e>=0?t.substring(e).toLowerCase():""},yn=t=>{if(_t.browser)return!1;const e=Ei(t);return ke(e)||e==="file"||/^[a-zA-Z]$/.test(e)},_o=t=>{const e=Ei(t);return e==="http"||e==="https"},xn=(t,e)=>{const r=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],s=Zt(!1,"keepFileProtocol",e),i=Zt(ji,"isWindows",e);let n=decodeURI(t);for(let l=0;l<r.length;l+=2)n=n.replace(r[l],r[l+1]);let c=n.substring(0,7).toLowerCase()==="file://";return c&&(n=n[7]==="/"?n.substring(8):n.substring(7),i()&&n[1]==="/"&&(n=`${n[0]}:${n.substring(1)}`),s?n=`file:///${n}`:(c=!1,n=i()?n:`/${n}`)),i()&&!c&&(n=Mo("/","\\",n),n.substring(1,3)===":\\"&&(n=n[0].toUpperCase()+n.substring(1))),n},ec=t=>{const e=[/\?/g,"%3F",/#/g,"%23"];let r=t;ji()&&(r=r.replace(/\\/g,"/")),r=encodeURI(r);for(let s=0;s<e.length;s+=2)r=r.replace(e[s],e[s+1]);return r},Sn=t=>{const e=t.indexOf("#");return e!==-1?t.substring(e):"#"},Q=t=>{const e=t.indexOf("#");let r=t;return e>=0&&(r=t.substring(0,e)),r},tc=()=>{if(_t.browser)return Q(globalThis.location.href);const t=_t.cwd(),e=Xs(t);return["/","\\"].includes(e)?t:t+(ji()?"\\":"/")},Ye=(t,e)=>{const r=new URL(e,new URL(t,"resolve://"));if(r.protocol==="resolve:"){const{pathname:s,search:i,hash:n}=r;return s+i+n}return r.toString()},Gs=t=>{if(yn(t))return ec(xn(t));try{return new URL(t).toString()}catch{return encodeURI(decodeURI(t)).replace(/%5B/g,"[").replace(/%5D/g,"]")}},Ce=t=>yn(t)?xn(t):decodeURI(t);class es{constructor({uri:e,mediaType:r="text/plain",data:s,parseResult:i}){u(this,"uri");u(this,"mediaType");u(this,"data");u(this,"parseResult");this.uri=e,this.mediaType=r,this.data=s,this.parseResult=i}get extension(){return at(this.uri)?Yo(this.uri):""}toString(){return typeof this.data=="string"?this.data:this.data instanceof ArrayBuffer||["ArrayBuffer"].includes(ko(this.data))||ArrayBuffer.isView(this.data)?new TextDecoder("utf-8").decode(this.data):String(this.data)}}class Nr{constructor({refs:e=[],circular:r=!1}={}){u(this,"rootRef");u(this,"refs");u(this,"circular");this.refs=[],this.circular=r,e.forEach(this.add.bind(this))}get size(){return this.refs.length}add(e){return this.has(e)||(this.refs.push(e),this.rootRef=this.rootRef===void 0?e:this.rootRef,e.refSet=this),this}merge(e){for(const r of e.values())this.add(r);return this}has(e){const r=at(e)?e:e.uri;return nn(this.find(s=>s.uri===r))}find(e){return this.refs.find(e)}*values(){yield*this.refs}clean(){this.refs.forEach(e=>{e.refSet=void 0}),this.rootRef=void 0,this.refs.length=0}}const sc={parse:{mediaType:"text/plain",parsers:[],parserOpts:{}},resolve:{baseURI:"",resolvers:[],resolverOpts:{},strategies:[],strategyOpts:{},internal:!0,external:!0,maxDepth:1/0},dereference:{strategies:[],strategyOpts:{},refSet:null,maxDepth:1/0,circular:"ignore",circularReplacer:Do,immutable:!0},bundle:{strategies:[],refSet:null,maxDepth:1/0}},rc=To(oe(["resolve","baseURI"]),v(["resolve","baseURI"])),ic=t=>on(t)?tc():t,jn=(t,e)=>{const r=yi(t,e);return Co(rc,ic,r)};class nc extends re{constructor(r,s){super(r,{cause:s.cause});u(this,"plugin");this.plugin=s.plugin}}const Oi=async(t,e,r)=>{const s=await Promise.all(r.map(nt([t],e)));return r.filter((i,n)=>s[n])},$i=async(t,e,r)=>{let s;for(const i of r)try{const n=await i[t].call(i,...e);return{plugin:i,result:n}}catch(n){s=new nc("Error while running plugin",{cause:n,plugin:i})}return Promise.reject(s)};class kr extends re{}class wi extends re{}class oc extends wi{}class En extends oc{}const cc=async(t,e)=>{const r=e.resolve.resolvers.map(i=>{const n=Object.create(i);return Object.assign(n,e.resolve.resolverOpts)}),s=await Oi("canRead",[t,e],r);if(xi(s))throw new En(t.uri);try{const{result:i}=await $i("read",[t],s);return i}catch(i){throw new wi(`Error while reading file "${t.uri}"`,{cause:i})}},ac=async(t,e)=>{const r=e.parse.parsers.map(i=>{const n=Object.create(i);return Object.assign(n,e.parse.parserOpts)}),s=await Oi("canParse",[t,e],r);if(xi(s))throw new En(t.uri);try{const{plugin:i,result:n}=await $i("parse",[t,e],s);return!i.allowEmpty&&n.isEmpty?Promise.reject(new kr(`Error while parsing file "${t.uri}". File is empty.`)):n}catch(i){throw new kr(`Error while parsing file "${t.uri}"`,{cause:i})}},lc=async(t,e)=>{const r=new es({uri:Gs(Q(t)),mediaType:e.parse.mediaType}),s=await cc(r,e);return ac(new es({...r,data:s}),e)};class ts extends o.StringElement{constructor(e,r,s){super(e,r,s),this.element="annotation"}get code(){return this.attributes.get("code")}set code(e){this.attributes.set("code",e)}}class ss extends o.StringElement{constructor(e,r,s){super(e,r,s),this.element="comment"}}class qe extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.element="parseResult"}get api(){return this.children.filter(e=>e.classes.contains("api")).first}get results(){return this.children.filter(e=>e.classes.contains("result"))}get result(){return this.results.first}get annotations(){return this.children.filter(e=>e.element==="annotation")}get warnings(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("warning"))}get errors(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("error"))}get isEmpty(){return this.children.reject(e=>e.element==="annotation").isEmpty}replaceResult(e){const{result:r}=this;if(ke(r))return!1;const s=this.content.findIndex(i=>i===r);return s===-1?!1:(this.content[s]=e,!0)}}class rs extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.element="sourceMap"}get positionStart(){return this.children.filter(e=>e.classes.contains("position")).get(0)}get positionEnd(){return this.children.filter(e=>e.classes.contains("position")).get(1)}set position(e){if(typeof e>"u")return;const r=new o.ArrayElement([e.start.row,e.start.column,e.start.char]),s=new o.ArrayElement([e.end.row,e.end.column,e.end.char]);r.classes.push("position"),s.classes.push("position"),this.push(r).push(s)}}const uc=(t,e)=>typeof e=="object"&&e!==null&&t in e&&typeof e[t]=="function",dc=t=>typeof t=="object"&&t!=null&&"_storedElement"in t&&typeof t._storedElement=="string"&&"_content"in t,hc=(t,e)=>typeof e=="object"&&e!==null&&"primitive"in e?typeof e.primitive=="function"&&e.primitive()===t:!1,mc=(t,e)=>typeof e=="object"&&e!==null&&"classes"in e&&(Array.isArray(e.classes)||e.classes instanceof o.ArrayElement)&&e.classes.includes(t),we=(t,e)=>typeof e=="object"&&e!==null&&"element"in e&&e.element===t,y=t=>t({hasMethod:uc,hasBasicElementProps:dc,primitiveEq:hc,isElementType:we,hasClass:mc}),Z=y(({hasBasicElementProps:t,primitiveEq:e})=>r=>r instanceof o.Element||t(r)&&e(void 0,r)),M=y(({hasBasicElementProps:t,primitiveEq:e})=>r=>r instanceof o.StringElement||t(r)&&e("string",r)),Pi=y(({hasBasicElementProps:t,primitiveEq:e})=>r=>r instanceof o.NumberElement||t(r)&&e("number",r)),Vi=y(({hasBasicElementProps:t,primitiveEq:e})=>r=>r instanceof o.NullElement||t(r)&&e("null",r)),lt=y(({hasBasicElementProps:t,primitiveEq:e})=>r=>r instanceof o.BooleanElement||t(r)&&e("boolean",r)),U=y(({hasBasicElementProps:t,primitiveEq:e,hasMethod:r})=>s=>s instanceof o.ObjectElement||t(s)&&e("object",s)&&r("keys",s)&&r("values",s)&&r("items",s)),he=y(({hasBasicElementProps:t,primitiveEq:e,hasMethod:r})=>s=>s instanceof o.ArrayElement&&!(s instanceof o.ObjectElement)||t(s)&&e("array",s)&&r("push",s)&&r("unshift",s)&&r("map",s)&&r("reduce",s)),Ee=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof o.MemberElement||t(s)&&e("member",s)&&r(void 0,s)),On=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof o.LinkElement||t(s)&&e("link",s)&&r(void 0,s)),$n=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof o.RefElement||t(s)&&e("ref",s)&&r(void 0,s)),pc=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof ts||t(s)&&e("annotation",s)&&r("array",s)),fc=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof ss||t(s)&&e("comment",s)&&r("string",s)),wn=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof qe||t(s)&&e("parseResult",s)&&r("array",s)),Pn=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof rs||t(s)&&e("sourceMap",s)&&r("array",s)),_e=t=>we("object",t)||we("array",t)||we("boolean",t)||we("number",t)||we("string",t)||we("null",t)||we("member",t),ut=t=>Pn(t.meta.get("sourceMap")),vc=(t,e)=>{if(t.length===0)return!0;const r=e.attributes.get("symbols");return he(r)?dn(cn(r.toValue()),t):!1},Ri=(t,e)=>t.length===0?!0:dn(cn(e.classes.toValue()),t),gc=Object.freeze(Object.defineProperty({__proto__:null,hasElementSourceMap:ut,includesClasses:Ri,includesSymbols:vc,isAnnotationElement:pc,isArrayElement:he,isBooleanElement:lt,isCommentElement:fc,isElement:Z,isLinkElement:On,isMemberElement:Ee,isNullElement:Vi,isNumberElement:Pi,isObjectElement:U,isParseResultElement:wn,isPrimitiveElement:_e,isRefElement:$n,isSourceMapElement:Pn,isStringElement:M},Symbol.toStringTag,{value:"Module"}));class Vn extends o.Namespace{constructor(){super(),this.register("annotation",ts),this.register("comment",ss),this.register("parseResult",qe),this.register("sourceMap",rs)}}const Rn=new Vn,Re=t=>{const e=new Vn;return Gt(t)&&e.use(t),e},Fn=()=>({predicates:{...gc},namespace:Rn}),Zs=(t,e,r)=>{const s=t[e];if(s!=null){if(!r&&typeof s=="function")return s;const i=r?s.leave:s.enter;if(typeof i=="function")return i}else{const i=r?t.leave:t.enter;if(i!=null){if(typeof i=="function")return i;const n=i[e];if(typeof n=="function")return n}}return null},D={},dt=t=>t==null?void 0:t.type,An=t=>typeof dt(t)=="string",Fi=t=>Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),Ai=(t,{visitFnGetter:e=Zs,nodeTypeGetter:r=dt,breakSymbol:s=D,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:c=!1}={})=>{const l=Symbol("skip"),m=new Array(t.length).fill(l);return{enter(E,S,b,O,P,R){let h=E,V=!1;const j={...R,replaceWith(d,f){R.replaceWith(d,f),h=d}};for(let d=0;d<t.length;d+=1)if(m[d]===l){const f=e(t[d],r(h),!1);if(typeof f=="function"){const $=f.call(t[d],h,S,b,O,P,j);if(typeof($==null?void 0:$.then)=="function")throw new Ve("Async visitor not supported in sync mode",{visitor:t[d],visitFn:f});if($===n)m[d]=h;else if($===s)m[d]=s;else{if($===i)return $;if($!==void 0)if(c)h=$,V=!0;else return $}}}return V?h:void 0},leave(E,S,b,O,P,R){let h=E;const V={...R,replaceWith(j,d){R.replaceWith(j,d),h=j}};for(let j=0;j<t.length;j+=1)if(m[j]===l){const d=e(t[j],r(h),!0);if(typeof d=="function"){const f=d.call(t[j],h,S,b,O,P,V);if(typeof(f==null?void 0:f.then)=="function")throw new Ve("Async visitor not supported in sync mode",{visitor:t[j],visitFn:d});if(f===s)m[j]=s;else if(f!==void 0&&f!==n)return f}}else m[j]===h&&(m[j]=l)}}},bc=(t,{visitFnGetter:e=Zs,nodeTypeGetter:r=dt,breakSymbol:s=D,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:c=!1}={})=>{const l=Symbol("skip"),m=new Array(t.length).fill(l);return{async enter(E,S,b,O,P,R){let h=E,V=!1;const j={...R,replaceWith(d,f){R.replaceWith(d,f),h=d}};for(let d=0;d<t.length;d+=1)if(m[d]===l){const f=e(t[d],r(h),!1);if(typeof f=="function"){const $=await f.call(t[d],h,S,b,O,P,j);if($===n)m[d]=h;else if($===s)m[d]=s;else{if($===i)return $;if($!==void 0)if(c)h=$,V=!0;else return $}}}return V?h:void 0},async leave(E,S,b,O,P,R){let h=E;const V={...R,replaceWith(j,d){R.replaceWith(j,d),h=j}};for(let j=0;j<t.length;j+=1)if(m[j]===l){const d=e(t[j],r(h),!0);if(typeof d=="function"){const f=await d.call(t[j],h,S,b,O,P,V);if(f===s)m[j]=s;else if(f!==void 0&&f!==n)return f}}else m[j]===h&&(m[j]=l)}}};Ai[Symbol.for("nodejs.util.promisify.custom")]=bc;const Mi=(t,e,{keyMap:r=null,state:s={},breakSymbol:i=D,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:c=!1,visitFnGetter:l=Zs,nodeTypeGetter:m=dt,nodePredicate:E=An,nodeCloneFn:S=Fi,detectCycles:b=!0}={})=>{const O=r||{};let P,R=Array.isArray(t),h=[t],V=-1,j,d=[],f=t;const $=[],B=[];do{V+=1;const q=V===h.length;let z;const ue=q&&d.length!==0;if(q){if(z=B.length===0?void 0:$.pop(),f=j,j=B.pop(),ue)if(R){f=f.slice();let ce=0;for(const[ae,ne]of d){const Me=ae-ce;ne===n?(f.splice(Me,1),ce+=1):f[Me]=ne}}else{f=S(f);for(const[ce,ae]of d)f[ce]=ae}V=P.index,h=P.keys,d=P.edits,R=P.inArray,P=P.prev}else if(j!==n&&j!==void 0){if(z=R?V:h[V],f=j[z],f===n||f===void 0)continue;$.push(z)}let _;if(!Array.isArray(f)){var W;if(!E(f))throw new Ve(`Invalid AST Node:  ${String(f)}`,{node:f});if(b&&B.includes(f)){$.pop();continue}const ce=l(e,m(f),q);if(ce){for(const[ne,Me]of Object.entries(s))e[ne]=Me;const ae={replaceWith(ne,Me){typeof Me=="function"?Me(ne,f,z,j,$,B):j&&(j[z]=ne),q||(f=ne)}};_=ce.call(e,f,z,j,$,B,ae)}if(typeof((W=_)===null||W===void 0?void 0:W.then)=="function")throw new Ve("Async visitor not supported in sync mode",{visitor:e,visitFn:ce});if(_===i)break;if(_===c){if(!q){$.pop();continue}}else if(_!==void 0&&(d.push([z,_]),!q))if(E(_))f=_;else{$.pop();continue}}if(_===void 0&&ue&&d.push([z,f]),!q){var A;P={inArray:R,index:V,keys:h,edits:d,prev:P},R=Array.isArray(f),h=R?f:(A=O[m(f)])!==null&&A!==void 0?A:[],V=-1,d=[],j!==n&&j!==void 0&&B.push(j),j=f}}while(P!==void 0);return d.length!==0?d[d.length-1][1]:t};Mi[Symbol.for("nodejs.util.promisify.custom")]=async(t,e,{keyMap:r=null,state:s={},breakSymbol:i=D,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:c=!1,visitFnGetter:l=Zs,nodeTypeGetter:m=dt,nodePredicate:E=An,nodeCloneFn:S=Fi,detectCycles:b=!0}={})=>{const O=r||{};let P,R=Array.isArray(t),h=[t],V=-1,j,d=[],f=t;const $=[],B=[];do{V+=1;const A=V===h.length;let q;const z=A&&d.length!==0;if(A){if(q=B.length===0?void 0:$.pop(),f=j,j=B.pop(),z)if(R){f=f.slice();let _=0;for(const[ce,ae]of d){const ne=ce-_;ae===n?(f.splice(ne,1),_+=1):f[ne]=ae}}else{f=S(f);for(const[_,ce]of d)f[_]=ce}V=P.index,h=P.keys,d=P.edits,R=P.inArray,P=P.prev}else if(j!==n&&j!==void 0){if(q=R?V:h[V],f=j[q],f===n||f===void 0)continue;$.push(q)}let ue;if(!Array.isArray(f)){if(!E(f))throw new Ve(`Invalid AST Node: ${String(f)}`,{node:f});if(b&&B.includes(f)){$.pop();continue}const _=l(e,m(f),A);if(_){for(const[ae,ne]of Object.entries(s))e[ae]=ne;const ce={replaceWith(ae,ne){typeof ne=="function"?ne(ae,f,q,j,$,B):j&&(j[q]=ae),A||(f=ae)}};ue=await _.call(e,f,q,j,$,B,ce)}if(ue===i)break;if(ue===c){if(!A){$.pop();continue}}else if(ue!==void 0&&(d.push([q,ue]),!A))if(E(ue))f=ue;else{$.pop();continue}}if(ue===void 0&&z&&d.push([q,f]),!A){var W;P={inArray:R,index:V,keys:h,edits:d,prev:P},R=Array.isArray(f),h=R?f:(W=O[m(f)])!==null&&W!==void 0?W:[],V=-1,d=[],j!==n&&j!==void 0&&B.push(j),j=f}}while(P!==void 0);return d.length!==0?d[d.length-1][1]:t};class Mn extends Ve{constructor(r,s){super(r,s);u(this,"value");typeof s<"u"&&(this.value=s.value)}}class yc extends Mn{}class xc extends Mn{}const w=(t,e={})=>{const{visited:r=new WeakMap}=e,s={...e,visited:r};if(r.has(t))return r.get(t);if(t instanceof o.KeyValuePair){const{key:i,value:n}=t,c=Z(i)?w(i,s):i,l=Z(n)?w(n,s):n,m=new o.KeyValuePair(c,l);return r.set(t,m),m}if(t instanceof o.ObjectSlice){const i=l=>w(l,s),n=[...t].map(i),c=new o.ObjectSlice(n);return r.set(t,c),c}if(t instanceof o.ArraySlice){const i=l=>w(l,s),n=[...t].map(i),c=new o.ArraySlice(n);return r.set(t,c),c}if(Z(t)){const i=le(t);if(r.set(t,i),t.content)if(Z(t.content))i.content=w(t.content,s);else if(t.content instanceof o.KeyValuePair)i.content=w(t.content,s);else if(Array.isArray(t.content)){const n=c=>w(c,s);i.content=t.content.map(n)}else i.content=t.content;else i.content=t.content;return i}throw new yc("Value provided to cloneDeep function couldn't be cloned",{value:t})};w.safe=t=>{try{return w(t)}catch{return t}};const In=t=>{const{key:e,value:r}=t;return new o.KeyValuePair(e,r)},Sc=t=>{const e=[...t];return new o.ArraySlice(e)},jc=t=>{const e=[...t];return new o.ObjectSlice(e)},Nn=t=>{const e=new t.constructor;if(e.element=t.element,t.meta.length>0&&(e._meta=w(t.meta)),t.attributes.length>0&&(e._attributes=w(t.attributes)),Z(t.content)){const r=t.content;e.content=Nn(r)}else Array.isArray(t.content)?e.content=[...t.content]:t.content instanceof o.KeyValuePair?e.content=In(t.content):e.content=t.content;return e},le=t=>{if(t instanceof o.KeyValuePair)return In(t);if(t instanceof o.ObjectSlice)return jc(t);if(t instanceof o.ArraySlice)return Sc(t);if(Z(t))return Nn(t);throw new xc("Value provided to cloneShallow function couldn't be cloned",{value:t})};le.safe=t=>{try{return le(t)}catch{return t}};const He=t=>U(t)?"ObjectElement":he(t)?"ArrayElement":Ee(t)?"MemberElement":M(t)?"StringElement":lt(t)?"BooleanElement":Pi(t)?"NumberElement":Vi(t)?"NullElement":On(t)?"LinkElement":$n(t)?"RefElement":void 0,kn=t=>Z(t)?le(t):Fi(t),Dn=Se(He,at),ye={ObjectElement:["content"],ArrayElement:["content"],MemberElement:["key","value"],StringElement:[],BooleanElement:[],NumberElement:[],NullElement:[],RefElement:[],LinkElement:[],Annotation:[],Comment:[],ParseResultElement:["content"],SourceMap:["content"]};class Cn{constructor({predicate:e=Si,returnOnTrue:r,returnOnFalse:s}={}){u(this,"result");u(this,"predicate");u(this,"returnOnTrue");u(this,"returnOnFalse");this.result=[],this.predicate=e,this.returnOnTrue=r,this.returnOnFalse=s}enter(e){return this.predicate(e)?(this.result.push(e),this.returnOnTrue):this.returnOnFalse}}const Y=(t,e,{keyMap:r=ye,...s}={})=>Mi(t,e,{keyMap:r,nodeTypeGetter:He,nodePredicate:Dn,nodeCloneFn:kn,...s});Y[Symbol.for("nodejs.util.promisify.custom")]=async(t,e,{keyMap:r=ye,...s}={})=>Mi[Symbol.for("nodejs.util.promisify.custom")](t,e,{keyMap:r,nodeTypeGetter:He,nodePredicate:Dn,nodeCloneFn:kn,...s});const Tn={toolboxCreator:Fn,visitorOptions:{nodeTypeGetter:He,exposeEdits:!0}},Oe=(t,e,r={})=>{if(e.length===0)return t;const s=yi(Tn,r),{toolboxCreator:i,visitorOptions:n}=s,c=i(),l=e.map(S=>S(c)),m=Ai(l.map(Zt({},"visitor")),{...n});l.forEach(nt(["pre"],[]));const E=Y(t,m,n);return l.forEach(nt(["post"],[])),E},Ec=async(t,e,r={})=>{if(e.length===0)return t;const s=yi(Tn,r),{toolboxCreator:i,visitorOptions:n}=s,c=i(),l=e.map(O=>O(c)),m=Ai[Symbol.for("nodejs.util.promisify.custom")],E=Y[Symbol.for("nodejs.util.promisify.custom")],S=m(l.map(Zt({},"visitor")),{...n});await Promise.allSettled(l.map(nt(["pre"],[])));const b=await E(t,S,n);return await Promise.allSettled(l.map(nt(["post"],[]))),b};Oe[Symbol.for("nodejs.util.promisify.custom")]=Ec;class Oc extends Ve{constructor(r,s){super(r,s);u(this,"value");typeof s<"u"&&(this.value=s.value)}}class Jn{constructor({length:e=6}={}){u(this,"uuid");u(this,"identityMap");this.uuid=new Zo({length:e}),this.identityMap=new WeakMap}identify(e){if(!Z(e))throw new Oc("Cannot not identify the element. `element` is neither structurally compatible nor a subclass of an Element class.",{value:e});if(e.meta.hasKey("id")&&M(e.meta.get("id"))&&!e.meta.get("id").equals(""))return e.id;if(this.identityMap.has(e))return this.identityMap.get(e);const r=new o.StringElement(this.generateId());return this.identityMap.set(e,r),r}forget(e){return this.identityMap.has(e)?(this.identityMap.delete(e),!0):!1}generateId(){return this.uuid.randomUUID()}}new Jn;class $c extends Array{constructor(){super(...arguments);u(this,"unknownMediaType","application/octet-stream")}filterByFormat(){throw new Fr("filterByFormat method in MediaTypes class is not yet implemented.")}findBy(){throw new Fr("findBy method in MediaTypes class is not yet implemented.")}latest(){throw new Fr("latest method in MediaTypes class is not yet implemented.")}}const wc=(t,{Type:e,plugins:r=[]})=>{const s=new e(t);return Z(t)&&(t.meta.length>0&&(s.meta=w(t.meta)),t.attributes.length>0&&(s.attributes=w(t.attributes))),Oe(s,r,{toolboxCreator:Fn,visitorOptions:{nodeTypeGetter:He}})},pe=t=>(e,r={})=>wc(e,{...r,Type:t});o.ObjectElement.refract=pe(o.ObjectElement);o.ArrayElement.refract=pe(o.ArrayElement);o.StringElement.refract=pe(o.StringElement);o.BooleanElement.refract=pe(o.BooleanElement);o.NullElement.refract=pe(o.NullElement);o.NumberElement.refract=pe(o.NumberElement);o.LinkElement.refract=pe(o.LinkElement);o.RefElement.refract=pe(o.RefElement);ts.refract=pe(ts);ss.refract=pe(ss);qe.refract=pe(qe);rs.refract=pe(rs);const Pc=(t,e)=>{const r=new Cn({predicate:t});return Y(e,r),new o.ArraySlice(r.result)},Ln=(t,e)=>{const r=new Cn({predicate:t,returnOnTrue:D});return Y(e,r),hn(void 0,[0],r.result)},qn=t=>typeof(t==null?void 0:t.type)=="string"?t.type:He(t),Bn={EphemeralObject:["content"],EphemeralArray:["content"],...ye},Un=(t,e,{keyMap:r=Bn,...s}={})=>Y(t,e,{keyMap:r,nodeTypeGetter:qn,nodePredicate:je,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...s});Un[Symbol.for("nodejs.util.promisify.custom")]=async(t,{keyMap:e=Bn,...r}={})=>Y[Symbol.for("nodejs.util.promisify.custom")](t,visitor,{keyMap:e,nodeTypeGetter:qn,nodePredicate:je,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...r});class Vc{constructor(e){u(this,"type","EphemeralArray");u(this,"content",[]);u(this,"reference");this.content=e,this.reference=[]}toReference(){return this.reference}toArray(){return this.reference.push(...this.content),this.reference}}class Rc{constructor(e){u(this,"type","EphemeralObject");u(this,"content",[]);u(this,"reference");this.content=e,this.reference={}}toReference(){return this.reference}toObject(){return Object.assign(this.reference,Object.fromEntries(this.content))}}let Fc=class{constructor(){u(this,"ObjectElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const r=new Rc(e.content);return this.references.set(e,r),r}});u(this,"EphemeralObject",{leave:e=>e.toObject()});u(this,"MemberElement",{enter:e=>[e.key,e.value]});u(this,"ArrayElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const r=new Vc(e.content);return this.references.set(e,r),r}});u(this,"EphemeralArray",{leave:e=>e.toArray()});u(this,"references",new WeakMap)}BooleanElement(e){return e.toValue()}NumberElement(e){return e.toValue()}StringElement(e){return e.toValue()}NullElement(){return null}RefElement(e,...r){var s;const i=r[3];return((s=i[i.length-1])===null||s===void 0?void 0:s.type)==="EphemeralObject"?Symbol.for("delete-node"):String(e.toValue())}LinkElement(e){return M(e.href)?e.href.toValue():""}};const g=t=>Z(t)?M(t)||Pi(t)||lt(t)||Vi(t)?t.toValue():Un(t,new Fc):t,Kt=(t,e=new WeakMap)=>(Ee(t)?(e.set(t.key,t),Kt(t.key,e),e.set(t.value,t),Kt(t.value,e)):t.children.forEach(r=>{e.set(r,t),Kt(r,e)}),e),Ac=(t,e,r)=>{const s=r.get(t);Ee(s)&&(s.key===t&&(s.key=e,r.delete(t),r.set(e,s)),s.value===t&&(s.value=e,r.delete(t),r.set(e,s)))},Mc=(t,e,r)=>{const s=r.get(t);U(s)&&(s.content=s.map((i,n,c)=>c===t?(r.delete(t),r.set(e,s),e):c))},Ic=(t,e,r)=>{const s=r.get(t);he(s)&&(s.content=s.map(i=>i===t?(r.delete(t),r.set(e,s),e):i))};class Nc{constructor({element:e}){u(this,"element");u(this,"edges");this.element=e}transclude(e,r){var s;if(e===this.element)return r;if(e===r)return this.element;this.edges=(s=this.edges)!==null&&s!==void 0?s:Kt(this.element);const i=this.edges.get(e);if(!ke(i))return U(i)?Mc(e,r,this.edges):he(i)?Ic(e,r,this.edges):Ee(i)&&Ac(e,r,this.edges),this.element}}const gm=(t,e,r)=>new Nc({element:r}).transclude(t,e),Fe=(t,e)=>{const r=Qt(t,e);return Jo(s=>{if(Gt(s)&&mn("$ref",s)&&Lo(at,"$ref",s)){const i=oe(["$ref"],s),n=vi("#/",i);return oe(n.split("/"),r)}return Gt(s)?Fe(s,r):s},t)},bm=(t,e=Rn)=>{if(at(t))try{return e.fromRefract(JSON.parse(t))}catch{}return Gt(t)&&mn("element",t)?e.fromRefract(t):e.toElement(t)},is=t=>{const e=t.meta.length>0?w(t.meta):void 0,r=t.attributes.length>0?w(t.attributes):void 0;return new t.constructor(void 0,e,r)},ns=(t,e)=>e.clone&&e.isMergeableElement(t)?xe(is(t),t,e):t,kc=(t,e)=>{if(typeof e.customMerge!="function")return xe;const r=e.customMerge(t,e);return typeof r=="function"?r:xe},Dc=t=>typeof t.customMetaMerge!="function"?e=>w(e):t.customMetaMerge,Cc=t=>typeof t.customAttributesMerge!="function"?e=>w(e):t.customAttributesMerge,Tc=(t,e,r)=>t.concat(e)["fantasy-land/map"](s=>ns(s,r)),Jc=(t,e,r)=>{const s=U(t)?is(t):is(e);return U(t)&&t.forEach((i,n,c)=>{const l=le(c);l.value=ns(i,r),s.content.push(l)}),e.forEach((i,n,c)=>{const l=g(n);let m;if(U(t)&&t.hasKey(l)&&r.isMergeableElement(i)){const E=t.get(l);m=le(c),m.value=kc(n,r)(E,i)}else m=le(c),m.value=ns(i,r);s.remove(l),s.content.push(m)}),s},zt={clone:!0,isMergeableElement:t=>U(t)||he(t),arrayElementMerge:Tc,objectElementMerge:Jc,customMerge:void 0,customMetaMerge:void 0,customAttributesMerge:void 0},xe=(t,e,r)=>{var s,i,n;const c={...zt,...r};c.isMergeableElement=(s=c.isMergeableElement)!==null&&s!==void 0?s:zt.isMergeableElement,c.arrayElementMerge=(i=c.arrayElementMerge)!==null&&i!==void 0?i:zt.arrayElementMerge,c.objectElementMerge=(n=c.objectElementMerge)!==null&&n!==void 0?n:zt.objectElementMerge;const l=he(e),m=he(t);if(!(l===m))return ns(e,c);const S=l&&typeof c.arrayElementMerge=="function"?c.arrayElementMerge(t,e,c):c.objectElementMerge(t,e,c);return S.meta=Dc(c)(t.meta,e.meta),S.attributes=Cc(c)(t.attributes,e.attributes),S};xe.all=(t,e)=>{if(!Array.isArray(t))throw new TypeError("First argument of deepmerge should be an array.");return t.length===0?new o.ObjectElement:t.reduce((r,s)=>xe(r,s,e),is(t[0]))};class Ii extends re{}class Hn extends Ii{}const Lc=async(t,e)=>{let r=t,s=!1;if(!wn(t)){const c=le(t);c.classes.push("result"),r=new qe([c]),s=!0}const i=new es({uri:e.resolve.baseURI,parseResult:r,mediaType:e.parse.mediaType}),n=await Oi("canDereference",[i,e],e.dereference.strategies);if(xi(n))throw new Hn(i.uri);try{const{result:c}=await $i("dereference",[i,e],n);return s?c.get(0):c}catch(c){throw new Ii(`Error while dereferencing file "${i.uri}"`,{cause:c})}};class qc{constructor({name:e,allowEmpty:r=!0,sourceMap:s=!1,fileExtensions:i=[],mediaTypes:n=[]}){u(this,"name");u(this,"allowEmpty");u(this,"sourceMap");u(this,"fileExtensions");u(this,"mediaTypes");this.name=e,this.allowEmpty=r,this.sourceMap=s,this.fileExtensions=i,this.mediaTypes=n}}class Bc{constructor({name:e}){u(this,"name");this.name=e}}class ym extends Bc{constructor(r){const{name:s="http-resolver",timeout:i=5e3,redirects:n=5,withCredentials:c=!1}=r??{};super({name:s});u(this,"timeout");u(this,"redirects");u(this,"withCredentials");this.timeout=i,this.redirects=n,this.withCredentials=c}canRead(r){return _o(r.uri)}}class Uc{constructor({name:e}){u(this,"name");this.name=e}}class Hc{constructor({name:e}){u(this,"name");this.name=e}}class Ar extends Array{includesCycle(e){return this.filter(r=>r.has(e)).length>1}includes(e,r){return e instanceof Set?super.includes(e,r):this.some(s=>s.has(e))}findItem(e){for(const r of this)for(const s of r)if(Z(s)&&e(s))return s}}let et=class{constructor({uri:e,depth:r=0,refSet:s,value:i}){u(this,"uri");u(this,"depth");u(this,"value");u(this,"refSet");u(this,"errors");this.uri=e,this.value=i,this.depth=r,this.refSet=s,this.errors=[]}};class zn extends re{}class zc extends zn{}class Wc extends re{}class Wn extends Wc{}class Kc extends zn{constructor(e){super(`Invalid JSON Schema $anchor "${e}".`)}}class Mr extends Ii{}class Xc extends wi{}class Gc extends kr{}const Sm=async(t,e={})=>{const r=jn(sc,e);return Lc(t,r)};class Ni extends Ve{}class Xi extends Ni{constructor(r,s){super(r,s);u(this,"pointer");typeof s<"u"&&(this.pointer=s.pointer)}}class Zc extends Ni{constructor(r,s){super(r,s);u(this,"tokens");typeof s<"u"&&(this.tokens=[...s.tokens])}}class Wt extends Ni{constructor(r,s){super(r,s);u(this,"pointer");u(this,"tokens");u(this,"failedToken");u(this,"failedTokenPosition");u(this,"element");typeof s<"u"&&(this.pointer=s.pointer,Array.isArray(s.tokens)&&(this.tokens=[...s.tokens]),this.failedToken=s.failedToken,this.failedTokenPosition=s.failedTokenPosition,this.element=s.element)}}const Qc=Se(Yt(/~/g,"~0"),Yt(/\//g,"~1"),encodeURIComponent),Yc=t=>{try{return decodeURIComponent(t)}catch{return t}},_c=Se(Yt(/~1/g,"/"),Yt(/~0/g,"~"),Yc),ea=t=>{if(on(t))return[];if(!pn("/",t))throw new Xi(`Invalid JSON Pointer "${t}". JSON Pointers must begin with "/"`,{pointer:t});try{const e=Se(qo("/"),Bo(_c))(t);return Uo(e)}catch(e){throw new Xi(`JSON Pointer parsing of "${t}" encountered an error.`,{pointer:t,cause:e})}},ta=t=>{const e=t.indexOf("#");return e!==-1?t.substring(e):"#"},Je=t=>{const e=ta(t);return vi("#",e)},sa=t=>{try{return t.length===0?"":`/${t.map(Qc).join("/")}`}catch(e){throw new Zc("JSON Pointer compilation of tokens encountered an error.",{tokens:t,cause:e})}},Le=(t,e)=>{let r;try{r=ea(t)}catch(s){throw new Wt(`JSON Pointer evaluation failed while parsing the pointer "${t}".`,{pointer:t,element:w(e),cause:s})}return r.reduce((s,i,n)=>{if(U(s)){if(!s.hasKey(i))throw new Wt(`JSON Pointer evaluation failed while evaluating token "${i}" against an ObjectElement`,{pointer:t,tokens:r,failedToken:i,failedTokenPosition:n,element:w(s)});return s.get(i)}if(he(s)){if(!(i in s.content)||!Io(Number(i)))throw new Wt(`JSON Pointer evaluation failed while evaluating token "${i}" against an ArrayElement`,{pointer:t,tokens:r,failedToken:i,failedTokenPosition:n,element:w(s)});return s.get(Number(i))}throw new Wt(`JSON Pointer evaluation failed while evaluating token "${i}" against an unexpected Element`,{pointer:t,tokens:r,failedToken:i,failedTokenPosition:n,element:w(s)})},e)};class ra extends $c{filterByFormat(e="generic"){const r=e==="generic"?"openapi;version":e;return this.filter(s=>s.includes(r))}findBy(e="3.1.0",r="generic"){const s=r==="generic"?`vnd.oai.openapi;version=${e}`:`vnd.oai.openapi+${r};version=${e}`;return this.find(n=>n.includes(s))||this.unknownMediaType}latest(e="generic"){return Xs(this.filterByFormat(e))}}const ia=new ra("application/vnd.oai.openapi;version=3.1.0","application/vnd.oai.openapi+json;version=3.1.0","application/vnd.oai.openapi+yaml;version=3.1.0");let ht=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="callback"}},mt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="components"}get schemas(){return this.get("schemas")}set schemas(e){this.set("schemas",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get requestBodies(){return this.get("requestBodies")}set requestBodies(e){this.set("requestBodies",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get securitySchemes(){return this.get("securitySchemes")}set securitySchemes(e){this.set("securitySchemes",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}},pt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="contact"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get email(){return this.get("email")}set email(e){this.set("email",e)}},Qs=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="discriminator"}get propertyName(){return this.get("propertyName")}set propertyName(e){this.set("propertyName",e)}get mapping(){return this.get("mapping")}set mapping(e){this.set("mapping",e)}},Ys=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="encoding"}get contentType(){return this.get("contentType")}set contentType(e){this.set("contentType",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowedReserved(){return this.get("allowedReserved")}set allowedReserved(e){this.set("allowedReserved",e)}},ft=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="example"}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get value(){return this.get("value")}set value(e){this.set("value",e)}get externalValue(){return this.get("externalValue")}set externalValue(e){this.set("externalValue",e)}},vt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="externalDocumentation"}get description(){return this.get("description")}set description(e){this.set("description",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},ze=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="header"}get required(){return this.hasKey("required")?this.get("required"):new o.BooleanElement(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new o.BooleanElement(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(ze.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});let gt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get termsOfService(){return this.get("termsOfService")}set termsOfService(e){this.set("termsOfService",e)}get contact(){return this.get("contact")}set contact(e){this.set("contact",e)}get license(){return this.get("license")}set license(e){this.set("license",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}},bt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="license"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},yt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="link"}get operationRef(){return this.get("operationRef")}set operationRef(e){this.set("operationRef",e)}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get operation(){if(M(this.operationRef)){var e;return(e=this.operationRef)===null||e===void 0?void 0:e.meta.get("operation")}if(M(this.operationId)){var r;return(r=this.operationId)===null||r===void 0?void 0:r.meta.get("operation")}}set operation(e){this.set("operation",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get server(){return this.get("server")}set server(e){this.set("server",e)}},xt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="mediaType"}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get encoding(){return this.get("encoding")}set encoding(e){this.set("encoding",e)}},_s=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="oAuthFlow"}get authorizationUrl(){return this.get("authorizationUrl")}set authorizationUrl(e){this.set("authorizationUrl",e)}get tokenUrl(){return this.get("tokenUrl")}set tokenUrl(e){this.set("tokenUrl",e)}get refreshUrl(){return this.get("refreshUrl")}set refreshUrl(e){this.set("refreshUrl",e)}get scopes(){return this.get("scopes")}set scopes(e){this.set("scopes",e)}},er=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="oAuthFlows"}get implicit(){return this.get("implicit")}set implicit(e){this.set("implicit",e)}get password(){return this.get("password")}set password(e){this.set("password",e)}get clientCredentials(){return this.get("clientCredentials")}set clientCredentials(e){this.set("clientCredentials",e)}get authorizationCode(){return this.get("authorizationCode")}set authorizationCode(e){this.set("authorizationCode",e)}},St=class extends o.StringElement{constructor(e,r,s){super(e,r,s),this.element="openapi",this.classes.push("spec-version"),this.classes.push("version")}};class tr extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="openApi3_0",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}let jt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="operation"}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}set externalDocs(e){this.set("externalDocs",e)}get externalDocs(){return this.get("externalDocs")}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new o.BooleanElement(!1)}set deprecated(e){this.set("deprecated",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get servers(){return this.get("severs")}set servers(e){this.set("servers",e)}},We=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="parameter"}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get required(){return this.hasKey("required")?this.get("required"):new o.BooleanElement(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new o.BooleanElement(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(We.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});let Et=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="pathItem"}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}},Ot=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="paths"}},$t=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="reference",this.classes.push("openapi-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}},wt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="requestBody"}get description(){return this.get("description")}set description(e){this.set("description",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get required(){return this.hasKey("required")?this.get("required"):new o.BooleanElement(!1)}set required(e){this.set("required",e)}},Pt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="response"}get description(){return this.get("description")}set description(e){this.set("description",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}},Vt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="responses"}get default(){return this.get("default")}set default(e){this.set("default",e)}},Ke=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="JSONSchemaDraft4"}get idProp(){return this.get("id")}set idProp(e){this.set("id",e)}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get dependencies(){return this.get("dependencies")}set dependencies(e){this.set("dependencies",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){return this.get("definitions")}set definitions(e){this.set("definitions",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get base(){return this.get("base")}set base(e){this.set("base",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get media(){return this.get("media")}set media(e){this.set("media",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}};class Xe extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="JSONReference",this.classes.push("json-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}}class Rt extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="media"}get binaryEncoding(){return this.get("binaryEncoding")}set binaryEncoding(e){this.set("binaryEncoding",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}}let Ft=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="linkDescription"}get href(){return this.get("href")}set href(e){this.set("href",e)}get rel(){return this.get("rel")}set rel(e){this.set("rel",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){return this.get("mediaType")}set mediaType(e){this.set("mediaType",e)}get method(){return this.get("method")}set method(e){this.set("method",e)}get encType(){return this.get("encType")}set encType(e){this.set("encType",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}};const na={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft4",Ke),e.register("jSONReference",Xe),e.register("media",Rt),e.register("linkDescription",Ft),e}},At=t=>{if(Z(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},oa={JSONSchemaDraft4Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...ye};let Kn=class{constructor(e){u(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,r){(e.meta.length>0||r.meta.length>0)&&(r.meta=xe(r.meta,e.meta),ut(e)&&r.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(r.attributes=xe(r.attributes,e.attributes))}},C=class extends Kn{enter(e){return this.element=w(e),D}},me=class extends Kn{constructor({specObj:r,...s}){super({...s});u(this,"specObj");u(this,"passingOptionsNames",["specObj","parent"]);this.specObj=r}retrievePassingOptions(){return fn(this.passingOptionsNames,this)}retrieveFixedFields(r){const s=oe(["visitors",...r,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(r){return bi(an,["visitors",...r],this.specObj)?oe(["visitors",...r],this.specObj):oe(["visitors",...r,"$visitor"],this.specObj)}retrieveVisitorInstance(r,s={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(r),c={...i,...s};return new n(c)}toRefractedElement(r,s,i={}){const n=this.retrieveVisitorInstance(r,i);return n instanceof C&&(n==null?void 0:n.constructor)===C?w(s):(Y(s,n,i),n.element)}},Ie=class extends me{constructor({specPath:r,ignoredFields:s,...i}){super({...i});u(this,"specPath");u(this,"ignoredFields");this.specPath=r,this.ignoredFields=s||[]}ObjectElement(r){const s=this.specPath(r),i=this.retrieveFixedFields(s);return r.forEach((n,c,l)=>{if(M(c)&&i.includes(g(c))&&!this.ignoredFields.includes(g(c))){const m=this.toRefractedElement([...s,"fixedFields",g(c)],n),E=new o.MemberElement(w(c),m);this.copyMetaAndAttributes(l,E),E.classes.push("fixed-field"),this.element.content.push(E)}else this.ignoredFields.includes(g(c))||this.element.content.push(w(l))}),this.copyMetaAndAttributes(r,this.element),D}};class K{constructor({parent:e}){u(this,"parent");this.parent=e}}const Xn=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ke||t(s)&&e("JSONSchemaDraft4",s)&&r("object",s)),ki=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Xe||t(s)&&e("JSONReference",s)&&r("object",s)),Gn=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Rt||t(s)&&e("media",s)&&r("object",s)),ca=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ft||t(s)&&e("linkDescription",s)&&r("object",s)),aa=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:ki,isJSONSchemaElement:Xn,isLinkDescriptionElement:ca,isMediaElement:Gn},Symbol.toStringTag,{value:"Module"}));let Zn=class extends p(Ie,K,C){constructor(e){super(e),this.element=new Ke,this.specPath=F(["document","objects","JSONSchema"])}get defaultDialectIdentifier(){return"http://json-schema.org/draft-04/schema#"}ObjectElement(e){return this.handleDialectIdentifier(e),this.handleSchemaIdentifier(e),this.parent=this.element,Ie.prototype.ObjectElement.call(this,e)}handleDialectIdentifier(e){if(ke(this.parent)&&!M(e.get("$schema")))this.element.setMetaProperty("inheritedDialectIdentifier",this.defaultDialectIdentifier);else if(Xn(this.parent)&&!M(e.get("$schema"))){const r=Qt(g(this.parent.meta.get("inheritedDialectIdentifier")),g(this.parent.$schema));this.element.setMetaProperty("inheritedDialectIdentifier",r)}}handleSchemaIdentifier(e,r="id"){const s=this.parent!==void 0?w(this.parent.getMetaProperty("ancestorsSchemaIdentifiers",[])):new o.ArrayElement,i=g(e.get(r));gi(i)&&s.push(i),this.element.setMetaProperty("ancestorsSchemaIdentifiers",s)}};const ge=t=>U(t)&&t.hasKey("$ref");let Qn=class extends p(me,K,C){ObjectElement(e){const r=ge(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"];return this.element=this.toRefractedElement(r,e),D}ArrayElement(e){return this.element=new o.ArrayElement,this.element.classes.push("json-schema-items"),e.forEach(r=>{const s=ge(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}};class la extends C{ArrayElement(e){const r=this.enter(e);return this.element.classes.push("json-schema-required"),r}}let ua=class extends me{constructor({specPath:r,ignoredFields:s,fieldPatternPredicate:i,...n}){super({...n});u(this,"specPath");u(this,"ignoredFields");u(this,"fieldPatternPredicate",Si);this.specPath=r,this.ignoredFields=s||[],typeof i=="function"&&(this.fieldPatternPredicate=i)}ObjectElement(r){return r.forEach((s,i,n)=>{if(!this.ignoredFields.includes(g(i))&&this.fieldPatternPredicate(g(i))){const c=this.specPath(s),l=this.toRefractedElement(c,s),m=new o.MemberElement(w(i),l);this.copyMetaAndAttributes(n,m),m.classes.push("patterned-field"),this.element.content.push(m)}else this.ignoredFields.includes(g(i))||this.element.content.push(w(n))}),this.copyMetaAndAttributes(r,this.element),D}},Ae=class extends ua{constructor(e){super(e),this.fieldPatternPredicate=gi}},da=class extends p(Ae,K,C){constructor(e){super(e),this.element=new o.ObjectElement,this.element.classes.push("json-schema-properties"),this.specPath=r=>ge(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}},ha=class extends p(Ae,K,C){constructor(e){super(e),this.element=new o.ObjectElement,this.element.classes.push("json-schema-patternProperties"),this.specPath=r=>ge(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}};class ma extends p(Ae,K,C){constructor(e){super(e),this.element=new o.ObjectElement,this.element.classes.push("json-schema-dependencies"),this.specPath=r=>ge(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}class pa extends C{ArrayElement(e){const r=this.enter(e);return this.element.classes.push("json-schema-enum"),r}}let fa=class extends C{StringElement(e){const r=this.enter(e);return this.element.classes.push("json-schema-type"),r}ArrayElement(e){const r=this.enter(e);return this.element.classes.push("json-schema-type"),r}},va=class extends p(me,K,C){constructor(e){super(e),this.element=new o.ArrayElement,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach(r=>{const s=ge(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}},ga=class extends p(me,K,C){constructor(e){super(e),this.element=new o.ArrayElement,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach(r=>{const s=ge(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}},ba=class extends p(me,K,C){constructor(e){super(e),this.element=new o.ArrayElement,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach(r=>{const s=ge(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}};class ya extends p(Ae,K,C){constructor(e){super(e),this.element=new o.ObjectElement,this.element.classes.push("json-schema-definitions"),this.specPath=r=>ge(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}let xa=class extends p(me,K,C){constructor(e){super(e),this.element=new o.ArrayElement,this.element.classes.push("json-schema-links")}ArrayElement(e){return e.forEach(r=>{const s=this.toRefractedElement(["document","objects","LinkDescription"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}};class Sa extends p(Ie,C){constructor(e){super(e),this.element=new Xe,this.specPath=F(["document","objects","JSONReference"])}ObjectElement(e){const r=Ie.prototype.ObjectElement.call(this,e);return M(this.element.$ref)&&this.element.classes.push("reference-element"),r}}let ja=class extends C{StringElement(e){const r=this.enter(e);return this.element.classes.push("reference-value"),r}},Ea=class extends me{constructor({alternator:r,...s}){super({...s});u(this,"alternator");this.alternator=r}enter(r){const s=this.alternator.map(({predicate:n,specPath:c})=>vn(n,F(c),ln)),i=un(s)(r);return this.element=this.toRefractedElement(i,r),D}},Te=class extends Ea{constructor(e){super(e),this.alternator=[{predicate:ge,specPath:["document","objects","JSONReference"]},{predicate:je,specPath:["document","objects","JSONSchema"]}]}};class Oa extends p(Ie,C){constructor(e){super(e),this.element=new Rt,this.specPath=F(["document","objects","Media"])}}let Yn=class extends p(Ie,C){constructor(e){super(e),this.element=new Ft,this.specPath=F(["document","objects","LinkDescription"])}};const ie={visitors:{value:C,JSONSchemaOrJSONReferenceVisitor:Te,document:{objects:{JSONSchema:{$visitor:Zn,fixedFields:{id:{$ref:"#/visitors/value"},$schema:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},additionalItems:Te,items:Qn,maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:la,properties:da,additionalProperties:Te,patternProperties:ha,dependencies:ma,enum:pa,type:fa,allOf:va,anyOf:ga,oneOf:ba,not:Te,definitions:ya,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},format:{$ref:"#/visitors/value"},base:{$ref:"#/visitors/value"},links:xa,media:{$ref:"#/visitors/document/objects/Media"},readOnly:{$ref:"#/visitors/value"}}},JSONReference:{$visitor:Sa,fixedFields:{$ref:ja}},Media:{$visitor:Oa,fixedFields:{binaryEncoding:{$ref:"#/visitors/value"},type:{$ref:"#/visitors/value"}}},LinkDescription:{$visitor:Yn,fixedFields:{href:{$ref:"#/visitors/value"},rel:{$ref:"#/visitors/value"},title:{$ref:"#/visitors/value"},targetSchema:Te,mediaType:{$ref:"#/visitors/value"},method:{$ref:"#/visitors/value"},encType:{$ref:"#/visitors/value"},schema:Te}}}}}},$a=()=>{const t=Re(na);return{predicates:{...aa,isStringElement:M},namespace:t}},wa=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=ie}={})=>{const i=o.refract(t),n=Fe(s),c=oe(e,n),l=new c({specObj:n});return Y(i,l),Oe(l.element,r,{toolboxCreator:$a,visitorOptions:{keyMap:oa,nodeTypeGetter:At}})},sr=t=>(e,r={})=>wa(e,{specPath:t,...r});Ke.refract=sr(["visitors","document","objects","JSONSchema","$visitor"]);Xe.refract=sr(["visitors","document","objects","JSONReference","$visitor"]);Rt.refract=sr(["visitors","document","objects","Media","$visitor"]);Ft.refract=sr(["visitors","document","objects","LinkDescription","$visitor"]);let rr=class extends Ke{constructor(e,r,s){super(e,r,s),this.element="schema",this.classes.push("json-schema-draft-4")}get idProp(){throw new k("idProp getter in Schema class is not not supported.")}set idProp(e){throw new k("idProp setter in Schema class is not not supported.")}get $schema(){throw new k("$schema getter in Schema class is not not supported.")}set $schema(e){throw new k("$schema setter in Schema class is not not supported.")}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){throw new k("patternProperties getter in Schema class is not not supported.")}set patternProperties(e){throw new k("patternProperties setter in Schema class is not not supported.")}get dependencies(){throw new k("dependencies getter in Schema class is not not supported.")}set dependencies(e){throw new k("dependencies setter in Schema class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){throw new k("definitions getter in Schema class is not not supported.")}set definitions(e){throw new k("definitions setter in Schema class is not not supported.")}get base(){throw new k("base getter in Schema class is not not supported.")}set base(e){throw new k("base setter in Schema class is not not supported.")}get links(){throw new k("links getter in Schema class is not not supported.")}set links(e){throw new k("links setter in Schema class is not not supported.")}get media(){throw new k("media getter in Schema class is not not supported.")}set media(e){throw new k("media setter in Schema class is not not supported.")}get nullable(){return this.get("nullable")}set nullable(e){this.set("nullable",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}},Mt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="securityRequirement"}},It=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="securityScheme"}get type(){return this.get("type")}set type(e){this.set("type",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get scheme(){return this.get("scheme")}set scheme(e){this.set("scheme",e)}get bearerFormat(){return this.get("bearerFormat")}set bearerFormat(e){this.set("bearerFormat",e)}get flows(){return this.get("flows")}set flows(e){this.set("flows",e)}get openIdConnectUrl(){return this.get("openIdConnectUrl")}set openIdConnectUrl(e){this.set("openIdConnectUrl",e)}},Nt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="server"}get url(){return this.get("url")}set url(e){this.set("url",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get variables(){return this.get("variables")}set variables(e){this.set("variables",e)}},kt=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="serverVariable"}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}},ir=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="tag"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}},nr=class extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="xml"}get name(){return this.get("name")}set name(e){this.set("name",e)}get namespace(){return this.get("namespace")}set namespace(e){this.set("namespace",e)}get prefix(){return this.get("prefix")}set prefix(e){this.set("prefix",e)}get attribute(){return this.get("attribute")}set attribute(e){this.set("attribute",e)}get wrapped(){return this.get("wrapped")}set wrapped(e){this.set("wrapped",e)}};const Pa={namespace:t=>{const{base:e}=t;return e.register("callback",ht),e.register("components",mt),e.register("contact",pt),e.register("discriminator",Qs),e.register("encoding",Ys),e.register("example",ft),e.register("externalDocumentation",vt),e.register("header",ze),e.register("info",gt),e.register("license",bt),e.register("link",yt),e.register("mediaType",xt),e.register("oAuthFlow",_s),e.register("oAuthFlows",er),e.register("openapi",St),e.register("openApi3_0",tr),e.register("operation",jt),e.register("parameter",We),e.register("pathItem",Et),e.register("paths",Ot),e.register("reference",$t),e.register("requestBody",wt),e.register("response",Pt),e.register("responses",Vt),e.register("schema",rr),e.register("securityRequirement",Mt),e.register("securityScheme",It),e.register("server",Nt),e.register("serverVariable",kt),e.register("tag",ir),e.register("xml",nr),e}},ds=class ds extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.classes.push(ds.primaryClass)}};u(ds,"primaryClass","servers");let os=ds;const hs=class hs extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.classes.push(hs.primaryClass)}};u(hs,"primaryClass","security");let Dr=hs;const ms=class ms extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.classes.push(ms.primaryClass)}};u(ms,"primaryClass","tags");let Cr=ms;const ps=class ps extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(ps.primaryClass)}};u(ps,"primaryClass","server-variables");let Tr=ps;const fs=class fs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(fs.primaryClass)}};u(fs,"primaryClass","components-schemas");let cs=fs;const vs=class vs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(vs.primaryClass)}};u(vs,"primaryClass","components-responses");let Jr=vs;const gs=class gs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(gs.primaryClass),this.classes.push("parameters")}};u(gs,"primaryClass","components-parameters");let Lr=gs;const bs=class bs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(bs.primaryClass),this.classes.push("examples")}};u(bs,"primaryClass","components-examples");let qr=bs;const ys=class ys extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(ys.primaryClass)}};u(ys,"primaryClass","components-request-bodies");let Br=ys;const xs=class xs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(xs.primaryClass)}};u(xs,"primaryClass","components-headers");let Ur=xs;const Ss=class Ss extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Ss.primaryClass)}};u(Ss,"primaryClass","components-security-schemes");let Hr=Ss;const js=class js extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(js.primaryClass)}};u(js,"primaryClass","components-links");let zr=js;const Es=class Es extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Es.primaryClass)}};u(Es,"primaryClass","components-callbacks");let Wr=Es;const Os=class Os extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.classes.push(Os.primaryClass),this.classes.push("servers")}};u(Os,"primaryClass","path-item-servers");let Kr=Os;const $s=class $s extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.classes.push($s.primaryClass),this.classes.push("parameters")}};u($s,"primaryClass","path-item-parameters");let Xr=$s;const ws=class ws extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.classes.push(ws.primaryClass),this.classes.push("parameters")}};u(ws,"primaryClass","operation-parameters");let as=ws;const Ps=class Ps extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Ps.primaryClass),this.classes.push("examples")}};u(Ps,"primaryClass","parameter-examples");let Gr=Ps;const Vs=class Vs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Vs.primaryClass),this.classes.push("content")}};u(Vs,"primaryClass","parameter-content");let Zr=Vs;const Rs=class Rs extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.classes.push(Rs.primaryClass)}};u(Rs,"primaryClass","operation-tags");let Qr=Rs;const Fs=class Fs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Fs.primaryClass)}};u(Fs,"primaryClass","operation-callbacks");let Yr=Fs;const As=class As extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.classes.push(As.primaryClass),this.classes.push("security")}};u(As,"primaryClass","operation-security");let ls=As;const Ms=class Ms extends o.ArrayElement{constructor(e,r,s){super(e,r,s),this.classes.push(Ms.primaryClass),this.classes.push("servers")}};u(Ms,"primaryClass","operation-servers");let _r=Ms;const Is=class Is extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Is.primaryClass),this.classes.push("content")}};u(Is,"primaryClass","request-body-content");let ei=Is;const Ns=class Ns extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Ns.primaryClass),this.classes.push("examples")}};u(Ns,"primaryClass","media-type-examples");let ti=Ns;const ks=class ks extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(ks.primaryClass)}};u(ks,"primaryClass","media-type-encoding");let si=ks;const Ds=class Ds extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Ds.primaryClass)}};u(Ds,"primaryClass","encoding-headers");let ri=Ds;const Cs=class Cs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Cs.primaryClass)}};u(Cs,"primaryClass","response-headers");let ii=Cs;const Ts=class Ts extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Ts.primaryClass),this.classes.push("content")}};u(Ts,"primaryClass","response-content");let ni=Ts;const Js=class Js extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Js.primaryClass)}};u(Js,"primaryClass","response-links");let oi=Js;const Ls=class Ls extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Ls.primaryClass)}};u(Ls,"primaryClass","discriminator-mapping");let ci=Ls;const qs=class qs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(qs.primaryClass)}};u(qs,"primaryClass","oauth-flow-scopes");let ai=qs;const Bs=class Bs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Bs.primaryClass)}};u(Bs,"primaryClass","link-parameters");let li=Bs;const Us=class Us extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Us.primaryClass),this.classes.push("examples")}};u(Us,"primaryClass","header-examples");let ui=Us;const Hs=class Hs extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Hs.primaryClass),this.classes.push("content")}};u(Hs,"primaryClass","header-content");let di=Hs;const Va=t=>{if(Z(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},Ra={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_0Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...ye};class _n{constructor(e={}){u(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,r){(e.meta.length>0||r.meta.length>0)&&(r.meta=xe(r.meta,e.meta),ut(e)&&r.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(r.attributes=xe(r.attributes,e.attributes))}}class x extends _n{enter(e){return this.element=w(e),D}}class fe extends _n{constructor({specObj:r,passingOptionsNames:s,openApiGenericElement:i,openApiSemanticElement:n,...c}){super({...c});u(this,"specObj");u(this,"passingOptionsNames",["specObj","openApiGenericElement","openApiSemanticElement"]);u(this,"openApiGenericElement");u(this,"openApiSemanticElement");this.specObj=r,this.openApiGenericElement=i,this.openApiSemanticElement=n,Array.isArray(s)&&(this.passingOptionsNames=s)}retrievePassingOptions(){return fn(this.passingOptionsNames,this)}retrieveFixedFields(r){const s=oe(["visitors",...r,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(r){return bi(an,["visitors",...r],this.specObj)?oe(["visitors",...r],this.specObj):oe(["visitors",...r,"$visitor"],this.specObj)}retrieveVisitorInstance(r,s={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(r),c={...i,...s};return new n(c)}toRefractedElement(r,s,i={}){const n=this.retrieveVisitorInstance(r,i);return n instanceof x&&(n==null?void 0:n.constructor)===x?w(s):(Y(s,n,i),n.element)}}const H=t=>U(t)&&t.hasKey("$ref"),Fa=U,Aa=U,eo=t=>M(t.key)&&pn("x-",g(t.key));class I extends fe{constructor({specPath:r,ignoredFields:s,canSupportSpecificationExtensions:i,specificationExtensionPredicate:n,...c}){super({...c});u(this,"specPath");u(this,"ignoredFields");u(this,"canSupportSpecificationExtensions",!0);u(this,"specificationExtensionPredicate",eo);this.specPath=r,this.ignoredFields=s||[],typeof i=="boolean"&&(this.canSupportSpecificationExtensions=i),typeof n=="function"&&(this.specificationExtensionPredicate=n)}ObjectElement(r){const s=this.specPath(r),i=this.retrieveFixedFields(s);return r.forEach((n,c,l)=>{if(M(c)&&i.includes(g(c))&&!this.ignoredFields.includes(g(c))){const m=this.toRefractedElement([...s,"fixedFields",g(c)],n),E=new o.MemberElement(w(c),m);this.copyMetaAndAttributes(l,E),E.classes.push("fixed-field"),this.element.content.push(E)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(l)){const m=this.toRefractedElement(["document","extension"],l);this.element.content.push(m)}else this.ignoredFields.includes(g(c))||this.element.content.push(w(l))}),this.copyMetaAndAttributes(r,this.element),D}}class Ma extends p(I,x){constructor(e){super(e),this.element=new tr,this.specPath=F(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){return I.prototype.ObjectElement.call(this,e)}}class Ia extends p(fe,x){StringElement(e){const r=new St(g(e));return this.copyMetaAndAttributes(e,r),this.element=r,D}}class Na extends fe{MemberElement(e){return this.element=w(e),this.element.classes.push("specification-extension"),D}}let ka=class extends p(I,x){constructor(e){super(e),this.element=new gt,this.specPath=F(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}};class Da extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("api-version"),this.element.classes.push("version"),r}}let Ca=class extends p(I,x){constructor(e){super(e),this.element=new pt,this.specPath=F(["document","objects","Contact"]),this.canSupportSpecificationExtensions=!0}},Ta=class extends p(I,x){constructor(e){super(e),this.element=new bt,this.specPath=F(["document","objects","License"]),this.canSupportSpecificationExtensions=!0}},Ja=class extends p(I,x){constructor(e){super(e),this.element=new yt,this.specPath=F(["document","objects","Link"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const r=I.prototype.ObjectElement.call(this,e);return(M(this.element.operationId)||M(this.element.operationRef))&&this.element.classes.push("reference-element"),r}};class La extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}}class qa extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}}class Be extends fe{constructor({specPath:r,ignoredFields:s,fieldPatternPredicate:i,canSupportSpecificationExtensions:n,specificationExtensionPredicate:c,...l}){super({...l});u(this,"specPath");u(this,"ignoredFields");u(this,"fieldPatternPredicate",Si);u(this,"canSupportSpecificationExtensions",!1);u(this,"specificationExtensionPredicate",eo);this.specPath=r,this.ignoredFields=s||[],typeof i=="function"&&(this.fieldPatternPredicate=i),typeof n=="boolean"&&(this.canSupportSpecificationExtensions=n),typeof c=="function"&&(this.specificationExtensionPredicate=c)}ObjectElement(r){return r.forEach((s,i,n)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const c=this.toRefractedElement(["document","extension"],n);this.element.content.push(c)}else if(!this.ignoredFields.includes(g(i))&&this.fieldPatternPredicate(g(i))){const c=this.specPath(s),l=this.toRefractedElement(c,s),m=new o.MemberElement(w(i),l);this.copyMetaAndAttributes(n,m),m.classes.push("patterned-field"),this.element.content.push(m)}else this.ignoredFields.includes(g(i))||this.element.content.push(w(n))}),this.copyMetaAndAttributes(r,this.element),D}}class N extends Be{constructor(e){super(e),this.fieldPatternPredicate=gi}}let Ba=class extends p(N,x){constructor(e){super(e),this.element=new li,this.specPath=F(["value"])}},Ua=class extends p(I,x){constructor(e){super(e),this.element=new Nt,this.specPath=F(["document","objects","Server"]),this.canSupportSpecificationExtensions=!0}};class Ha extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("server-url"),r}}let Di=class extends p(fe,x){constructor(e){super(e),this.element=new os}ArrayElement(e){return e.forEach(r=>{const s=Fa(r)?["document","objects","Server"]:["value"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}},za=class extends p(I,x){constructor(e){super(e),this.element=new kt,this.specPath=F(["document","objects","ServerVariable"]),this.canSupportSpecificationExtensions=!0}};class Wa extends p(N,x){constructor(e){super(e),this.element=new Tr,this.specPath=F(["document","objects","ServerVariable"])}}let Ka=class extends p(I,x){constructor(e){super(e),this.element=new xt,this.specPath=F(["document","objects","MediaType"]),this.canSupportSpecificationExtensions=!0}};class be extends fe{constructor({alternator:r,...s}){super({...s});u(this,"alternator");this.alternator=r||[]}enter(r){const s=this.alternator.map(({predicate:n,specPath:c})=>vn(n,F(c),ln)),i=un(s)(r);return this.element=this.toRefractedElement(i,r),D}}const Xa=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof ht||t(s)&&e("callback",s)&&r("object",s)),Ga=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof mt||t(s)&&e("components",s)&&r("object",s)),Za=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof pt||t(s)&&e("contact",s)&&r("object",s)),Qa=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof ft||t(s)&&e("example",s)&&r("object",s)),Ya=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof vt||t(s)&&e("externalDocumentation",s)&&r("object",s)),Ge=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof ze||t(s)&&e("header",s)&&r("object",s)),_a=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof gt||t(s)&&e("info",s)&&r("object",s)),el=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof bt||t(s)&&e("license",s)&&r("object",s)),tl=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof yt||t(s)&&e("link",s)&&r("object",s)),sl=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof St||t(s)&&e("openapi",s)&&r("string",s)),rl=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r,hasClass:s})=>i=>i instanceof tr||t(i)&&e("openApi3_0",i)&&r("object",i)&&s("api",i)),to=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof jt||t(s)&&e("operation",s)&&r("object",s)),il=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof We||t(s)&&e("parameter",s)&&r("object",s)),Ci=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Et||t(s)&&e("pathItem",s)&&r("object",s)),nl=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ot||t(s)&&e("paths",s)&&r("object",s)),L=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof $t||t(s)&&e("reference",s)&&r("object",s)),ol=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof wt||t(s)&&e("requestBody",s)&&r("object",s)),or=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Pt||t(s)&&e("response",s)&&r("object",s)),cl=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Vt||t(s)&&e("responses",s)&&r("object",s)),al=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof rr||t(s)&&e("schema",s)&&r("object",s)),ll=t=>lt(t)&&t.classes.includes("boolean-json-schema"),ul=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Mt||t(s)&&e("securityRequirement",s)&&r("object",s)),dl=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof It||t(s)&&e("securityScheme",s)&&r("object",s)),hl=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Nt||t(s)&&e("server",s)&&r("object",s)),ml=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof kt||t(s)&&e("serverVariable",s)&&r("object",s)),cr=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof xt||t(s)&&e("mediaType",s)&&r("object",s)),so=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r,hasClass:s})=>i=>i instanceof os||t(i)&&e("array",i)&&r("array",i)&&s("servers",i)),pl=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:ll,isCallbackElement:Xa,isComponentsElement:Ga,isContactElement:Za,isExampleElement:Qa,isExternalDocumentationElement:Ya,isHeaderElement:Ge,isInfoElement:_a,isLicenseElement:el,isLinkElement:tl,isMediaTypeElement:cr,isOpenApi3_0Element:rl,isOpenapiElement:sl,isOperationElement:to,isParameterElement:il,isPathItemElement:Ci,isPathsElement:nl,isReferenceElement:L,isRequestBodyElement:ol,isResponseElement:or,isResponsesElement:cl,isSchemaElement:al,isSecurityRequirementElement:ul,isSecuritySchemeElement:dl,isServerElement:hl,isServerVariableElement:ml,isServersElement:so},Symbol.toStringTag,{value:"Module"}));let fl=class extends p(be,x){constructor(e){super(e),this.alternator=[{predicate:H,specPath:["document","objects","Reference"]},{predicate:je,specPath:["document","objects","Schema"]}]}ObjectElement(e){const r=be.prototype.enter.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","schema"),r}},Ti=class extends p(N,x){constructor(e){super(e),this.element=new o.ObjectElement,this.element.classes.push("examples"),this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Example"],this.canSupportSpecificationExtensions=!0}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","example")}),r}},vl=class extends Ti{constructor(e){super(e),this.element=new ti}},gl=class extends p(N,x){constructor(e){super(e),this.element=new si,this.specPath=F(["document","objects","Encoding"])}},bl=class extends p(N,x){constructor(e){super(e),this.element=new Mt,this.specPath=F(["value"])}},yl=class extends p(fe,x){constructor(e){super(e),this.element=new Dr}ArrayElement(e){return e.forEach(r=>{if(U(r)){const s=this.toRefractedElement(["document","objects","SecurityRequirement"],r);this.element.push(s)}else this.element.push(w(r))}),this.copyMetaAndAttributes(e,this.element),D}},xl=class extends p(I,x){constructor(e){super(e),this.element=new mt,this.specPath=F(["document","objects","Components"]),this.canSupportSpecificationExtensions=!0}},Sl=class extends p(I,x){constructor(e){super(e),this.element=new ir,this.specPath=F(["document","objects","Tag"]),this.canSupportSpecificationExtensions=!0}},jl=class extends p(I,x){constructor(e){super(e),this.element=new $t,this.specPath=F(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const r=I.prototype.ObjectElement.call(this,e);return M(this.element.$ref)&&this.element.classes.push("reference-element"),r}},El=class extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}},Ol=class extends p(I,x){constructor(e){super(e),this.element=new We,this.specPath=F(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const r=I.prototype.ObjectElement.call(this,e);return U(this.element.contentProp)&&this.element.contentProp.filter(cr).forEach((s,i)=>{s.setMetaProperty("media-type",g(i))}),r}},$l=class extends p(be,x){constructor(e){super(e),this.alternator=[{predicate:H,specPath:["document","objects","Reference"]},{predicate:je,specPath:["document","objects","Schema"]}]}ObjectElement(e){const r=be.prototype.enter.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","schema"),r}},wl=class extends p(I,x){constructor(e){super(e),this.element=new ze,this.specPath=F(["document","objects","Header"]),this.canSupportSpecificationExtensions=!0}},Pl=class extends p(be,x){constructor(e){super(e),this.alternator=[{predicate:H,specPath:["document","objects","Reference"]},{predicate:je,specPath:["document","objects","Schema"]}]}ObjectElement(e){const r=be.prototype.enter.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","schema"),r}},Vl=class extends Ti{constructor(e){super(e),this.element=new ui}},ar=class extends p(N,x){constructor(e){super(e),this.element=new o.ObjectElement,this.element.classes.push("content"),this.specPath=F(["document","objects","MediaType"])}},Rl=class extends ar{constructor(e){super(e),this.element=new di}},Fl=class extends p(I,x){constructor(e){super(e),this.element=new rr,this.specPath=F(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0}};const Gi=ie.visitors.document.objects.JSONSchema.fixedFields.allOf;let Al=class extends Gi{ArrayElement(e){const r=Gi.prototype.ArrayElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),r}};const Zi=ie.visitors.document.objects.JSONSchema.fixedFields.anyOf;let Ml=class extends Zi{ArrayElement(e){const r=Zi.prototype.ArrayElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),r}};const Qi=ie.visitors.document.objects.JSONSchema.fixedFields.oneOf;let Il=class extends Qi{ArrayElement(e){const r=Qi.prototype.ArrayElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),r}};const Yi=ie.visitors.document.objects.JSONSchema.fixedFields.items;let Nl=class extends Yi{ObjectElement(e){const r=Yi.prototype.ObjectElement.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","schema"),r}ArrayElement(e){return this.enter(e)}};const _i=ie.visitors.document.objects.JSONSchema.fixedFields.properties;let kl=class extends _i{ObjectElement(e){const r=_i.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),r}};const Dl=ie.visitors.document.objects.JSONSchema.fixedFields.type;class Cl extends Dl{ArrayElement(e){return this.enter(e)}}const en=ie.visitors.JSONSchemaOrJSONReferenceVisitor;class tn extends en{ObjectElement(e){const r=en.prototype.enter.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","schema"),r}}let Tl=class extends p(I,x){constructor(e){super(e),this.element=new Qs,this.specPath=F(["document","objects","Discriminator"]),this.canSupportSpecificationExtensions=!1}};class Jl extends p(N,x){constructor(e){super(e),this.element=new ci,this.specPath=F(["value"])}}let Ll=class extends p(I,x){constructor(e){super(e),this.element=new nr,this.specPath=F(["document","objects","XML"]),this.canSupportSpecificationExtensions=!0}},ql=class extends Ti{constructor(e){super(e),this.element=new Gr}},Bl=class extends ar{constructor(e){super(e),this.element=new Zr}},Ul=class extends p(N,x){constructor(e){super(e),this.element=new cs,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Schema"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),r}},Hl=class extends p(N,x){constructor(e){super(e),this.element=new Jr,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Response"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","response")}),this.element.filter(or).forEach((s,i)=>{s.setMetaProperty("http-status-code",g(i))}),r}},zl=class extends p(N,x){constructor(e){super(e),this.element=new Lr,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Parameter"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","parameter")}),r}},Wl=class extends p(N,x){constructor(e){super(e),this.element=new qr,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Example"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","example")}),r}};class Kl extends p(N,x){constructor(e){super(e),this.element=new Br,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","RequestBody"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","requestBody")}),r}}let Xl=class extends p(N,x){constructor(e){super(e),this.element=new Ur,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.filter(Ge).forEach((s,i)=>{s.setMetaProperty("header-name",g(i))}),r}};class Gl extends p(N,x){constructor(e){super(e),this.element=new Hr,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","SecurityScheme"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","securityScheme")}),r}}let Zl=class extends p(N,x){constructor(e){super(e),this.element=new zr,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","link")}),r}},Ql=class extends p(N,x){constructor(e){super(e),this.element=new Wr,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","callback")}),r}},Yl=class extends p(I,x){constructor(e){super(e),this.element=new ft,this.specPath=F(["document","objects","Example"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const r=I.prototype.ObjectElement.call(this,e);return M(this.element.externalValue)&&this.element.classes.push("reference-element"),r}};class _l extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}}let eu=class extends p(I,x){constructor(e){super(e),this.element=new vt,this.specPath=F(["document","objects","ExternalDocumentation"]),this.canSupportSpecificationExtensions=!0}},tu=class extends p(I,x){constructor(e){super(e),this.element=new Ys,this.specPath=F(["document","objects","Encoding"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const r=I.prototype.ObjectElement.call(this,e);return U(this.element.headers)&&this.element.headers.filter(Ge).forEach((s,i)=>{s.setMetaProperty("header-name",g(i))}),r}},su=class extends p(N,x){constructor(e){super(e),this.element=new ri,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.forEach((s,i)=>{if(!Ge(s))return;const n=g(i);s.setMetaProperty("headerName",n)}),r}},ru=class extends p(Be,x){constructor(e){super(e),this.element=new Ot,this.specPath=F(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=je}ObjectElement(e){const r=Be.prototype.ObjectElement.call(this,e);return this.element.filter(Ci).forEach((s,i)=>{i.classes.push("openapi-path-template"),i.classes.push("path-template"),s.setMetaProperty("path",w(i))}),r}},iu=class extends p(I,x){constructor(e){super(e),this.element=new wt,this.specPath=F(["document","objects","RequestBody"])}ObjectElement(e){const r=I.prototype.ObjectElement.call(this,e);return U(this.element.contentProp)&&this.element.contentProp.filter(cr).forEach((s,i)=>{s.setMetaProperty("media-type",g(i))}),r}},nu=class extends ar{constructor(e){super(e),this.element=new ei}},ou=class extends p(Be,x){constructor(e){super(e),this.element=new ht,this.specPath=F(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=r=>/{(?<expression>[^}]{1,2083})}/.test(String(r))}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(Ci).forEach((s,i)=>{s.setMetaProperty("runtime-expression",g(i))}),r}},cu=class extends p(I,x){constructor(e){super(e),this.element=new Pt,this.specPath=F(["document","objects","Response"])}ObjectElement(e){const r=I.prototype.ObjectElement.call(this,e);return U(this.element.contentProp)&&this.element.contentProp.filter(cr).forEach((s,i)=>{s.setMetaProperty("media-type",g(i))}),U(this.element.headers)&&this.element.headers.filter(Ge).forEach((s,i)=>{s.setMetaProperty("header-name",g(i))}),r}};class au extends p(N,x){constructor(e){super(e),this.element=new ii,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.forEach((s,i)=>{if(!Ge(s))return;const n=g(i);s.setMetaProperty("header-name",n)}),r}}class lu extends ar{constructor(e){super(e),this.element=new ni}}class uu extends p(N,x){constructor(e){super(e),this.element=new oi,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","link")}),r}}class sn extends p(I,Be){constructor({specPathFixedFields:r,specPathPatternedFields:s,...i}){super({...i});u(this,"specPathFixedFields");u(this,"specPathPatternedFields");this.specPathFixedFields=r,this.specPathPatternedFields=s}ObjectElement(r){const{specPath:s,ignoredFields:i}=this;try{this.specPath=this.specPathFixedFields;const n=this.retrieveFixedFields(this.specPath(r));this.ignoredFields=[...i,...Ho(r.keys(),n)],I.prototype.ObjectElement.call(this,r),this.specPath=this.specPathPatternedFields,this.ignoredFields=n,Be.prototype.ObjectElement.call(this,r)}catch(n){throw this.specPath=s,n}return D}}let du=class extends p(sn,x){constructor(e){super(e),this.element=new Vt,this.specPathFixedFields=F(["document","objects","Responses"]),this.canSupportSpecificationExtensions=!0,this.specPathPatternedFields=r=>H(r)?["document","objects","Reference"]:["document","objects","Response"],this.fieldPatternPredicate=r=>new RegExp(`^(1XX|2XX|3XX|4XX|5XX|${zo(100,600).join("|")})$`).test(String(r))}ObjectElement(e){const r=sn.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(s=>{s.setMetaProperty("referenced-element","response")}),this.element.filter(or).forEach((s,i)=>{const n=w(i);this.fieldPatternPredicate(g(n))&&s.setMetaProperty("http-status-code",n)}),r}};class hu extends p(be,x){constructor(e){super(e),this.alternator=[{predicate:H,specPath:["document","objects","Reference"]},{predicate:je,specPath:["document","objects","Response"]}]}ObjectElement(e){const r=be.prototype.enter.call(this,e);return L(this.element)?this.element.setMetaProperty("referenced-element","response"):or(this.element)&&this.element.setMetaProperty("http-status-code","default"),r}}let mu=class extends p(I,x){constructor(e){super(e),this.element=new jt,this.specPath=F(["document","objects","Operation"])}},pu=class extends x{constructor(e){super(e),this.element=new Qr}ArrayElement(e){return this.element=this.element.concat(w(e)),D}},ro=class extends p(fe,x){constructor(e){super(e),this.element=new o.ArrayElement,this.element.classes.push("parameters")}ArrayElement(e){return e.forEach(r=>{const s=H(r)?["document","objects","Reference"]:["document","objects","Parameter"],i=this.toRefractedElement(s,r);L(i)&&i.setMetaProperty("referenced-element","parameter"),this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}},fu=class extends ro{constructor(e){super(e),this.element=new as}},vu=class extends be{constructor(e){super(e),this.alternator=[{predicate:H,specPath:["document","objects","Reference"]},{predicate:je,specPath:["document","objects","RequestBody"]}]}ObjectElement(e){const r=be.prototype.enter.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","requestBody"),r}};class gu extends p(N,x){constructor(r){super(r);u(this,"specPath");this.element=new Yr,this.specPath=s=>H(s)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(r){const s=N.prototype.ObjectElement.call(this,r);return this.element.filter(L).forEach(i=>{i.setMetaProperty("referenced-element","callback")}),s}}class bu extends p(fe,x){constructor(e){super(e),this.element=new ls}ArrayElement(e){return e.forEach(r=>{const s=U(r)?["document","objects","SecurityRequirement"]:["value"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}}let yu=class extends Di{constructor(e){super(e),this.element=new _r}},xu=class extends p(I,x){constructor(e){super(e),this.element=new Et,this.specPath=F(["document","objects","PathItem"])}ObjectElement(e){const r=I.prototype.ObjectElement.call(this,e);return this.element.filter(to).forEach((s,i)=>{const n=w(i);n.content=g(n).toUpperCase(),s.setMetaProperty("http-method",n)}),M(this.element.$ref)&&this.element.classes.push("reference-element"),r}};class Su extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}}class ju extends Di{constructor(e){super(e),this.element=new Kr}}class Eu extends ro{constructor(e){super(e),this.element=new Xr}}let Ou=class extends p(I,x){constructor(e){super(e),this.element=new It,this.specPath=F(["document","objects","SecurityScheme"]),this.canSupportSpecificationExtensions=!0}},$u=class extends p(I,x){constructor(e){super(e),this.element=new er,this.specPath=F(["document","objects","OAuthFlows"]),this.canSupportSpecificationExtensions=!0}},wu=class extends p(I,x){constructor(e){super(e),this.element=new _s,this.specPath=F(["document","objects","OAuthFlow"]),this.canSupportSpecificationExtensions=!0}};class Pu extends p(N,x){constructor(e){super(e),this.element=new ai,this.specPath=F(["value"])}}class Vu extends p(fe,x){constructor(e){super(e),this.element=new Cr}ArrayElement(e){return e.forEach(r=>{const s=Aa(r)?["document","objects","Tag"]:["value"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}}const{fixedFields:X}=ie.visitors.document.objects.JSONSchema,a={visitors:{value:x,document:{objects:{OpenApi:{$visitor:Ma,fixedFields:{openapi:Ia,info:{$ref:"#/visitors/document/objects/Info"},servers:Di,paths:{$ref:"#/visitors/document/objects/Paths"},components:{$ref:"#/visitors/document/objects/Components"},security:yl,tags:Vu,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:ka,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},termsOfService:{$ref:"#/visitors/value"},contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:Da}},Contact:{$visitor:Ca,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"},email:{$ref:"#/visitors/value"}}},License:{$visitor:Ta,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Server:{$visitor:Ua,fixedFields:{url:Ha,description:{$ref:"#/visitors/value"},variables:Wa}},ServerVariable:{$visitor:za,fixedFields:{enum:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Components:{$visitor:xl,fixedFields:{schemas:Ul,responses:Hl,parameters:zl,examples:Wl,requestBodies:Kl,headers:Xl,securitySchemes:Gl,links:Zl,callbacks:Ql}},Paths:{$visitor:ru},PathItem:{$visitor:xu,fixedFields:{$ref:Su,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:ju,parameters:Eu}},Operation:{$visitor:mu,fixedFields:{tags:pu,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:{$ref:"#/visitors/value"},parameters:fu,requestBody:vu,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:gu,deprecated:{$ref:"#/visitors/value"},security:bu,servers:yu}},ExternalDocumentation:{$visitor:eu,fixedFields:{description:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Parameter:{$visitor:Ol,fixedFields:{name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:$l,example:{$ref:"#/visitors/value"},examples:ql,content:Bl}},RequestBody:{$visitor:iu,fixedFields:{description:{$ref:"#/visitors/value"},content:nu,required:{$ref:"#/visitors/value"}}},MediaType:{$visitor:Ka,fixedFields:{schema:fl,example:{$ref:"#/visitors/value"},examples:vl,encoding:gl}},Encoding:{$visitor:tu,fixedFields:{contentType:{$ref:"#/visitors/value"},headers:su,style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"}}},Responses:{$visitor:du,fixedFields:{default:hu}},Response:{$visitor:cu,fixedFields:{description:{$ref:"#/visitors/value"},headers:au,content:lu,links:uu}},Callback:{$visitor:ou},Example:{$visitor:Yl,fixedFields:{summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},value:{$ref:"#/visitors/value"},externalValue:_l}},Link:{$visitor:Ja,fixedFields:{operationRef:La,operationId:qa,parameters:Ba,requestBody:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:wl,fixedFields:{description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:Pl,example:{$ref:"#/visitors/value"},examples:Vl,content:Rl}},Tag:{$visitor:Sl,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:jl,fixedFields:{$ref:El}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},JSONReference:{$ref:"#/visitors/document/objects/Reference"},Schema:{$visitor:Fl,fixedFields:{title:X.title,multipleOf:X.multipleOf,maximum:X.maximum,exclusiveMaximum:X.exclusiveMaximum,minimum:X.minimum,exclusiveMinimum:X.exclusiveMinimum,maxLength:X.maxLength,minLength:X.minLength,pattern:X.pattern,maxItems:X.maxItems,minItems:X.minItems,uniqueItems:X.uniqueItems,maxProperties:X.maxProperties,minProperties:X.minProperties,required:X.required,enum:X.enum,type:Cl,allOf:Al,anyOf:Ml,oneOf:Il,not:tn,items:Nl,properties:kl,additionalProperties:tn,description:X.description,format:X.format,default:X.default,nullable:{$ref:"#/visitors/value"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},writeOnly:{$ref:"#/visitors/value"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:Tl,fixedFields:{propertyName:{$ref:"#/visitors/value"},mapping:Jl}},XML:{$visitor:Ll,fixedFields:{name:{$ref:"#/visitors/value"},namespace:{$ref:"#/visitors/value"},prefix:{$ref:"#/visitors/value"},attribute:{$ref:"#/visitors/value"},wrapped:{$ref:"#/visitors/value"}}},SecurityScheme:{$visitor:Ou,fixedFields:{type:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},scheme:{$ref:"#/visitors/value"},bearerFormat:{$ref:"#/visitors/value"},flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:{$ref:"#/visitors/value"}}},OAuthFlows:{$visitor:$u,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:wu,fixedFields:{authorizationUrl:{$ref:"#/visitors/value"},tokenUrl:{$ref:"#/visitors/value"},refreshUrl:{$ref:"#/visitors/value"},scopes:Pu}},SecurityRequirement:{$visitor:bl}},extension:{$visitor:Na}}}},Ru=()=>{const t=Re(Pa);return{predicates:{...pl,isElement:Z,isStringElement:M,isArrayElement:he,isObjectElement:U,isMemberElement:Ee,includesClasses:Ri,hasElementSourceMap:ut},namespace:t}},Fu=(t,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:r=[]}={})=>{const s=o.refract(t),i=Fe(a),n=oe(e,i),c=new n({specObj:i});return Y(s,c),Oe(c.element,r,{toolboxCreator:Ru,visitorOptions:{keyMap:Ra,nodeTypeGetter:Va}})},J=t=>(e,r={})=>Fu(e,{specPath:t,...r});ht.refract=J(["visitors","document","objects","Callback","$visitor"]);mt.refract=J(["visitors","document","objects","Components","$visitor"]);pt.refract=J(["visitors","document","objects","Contact","$visitor"]);ft.refract=J(["visitors","document","objects","Example","$visitor"]);Qs.refract=J(["visitors","document","objects","Discriminator","$visitor"]);Ys.refract=J(["visitors","document","objects","Encoding","$visitor"]);vt.refract=J(["visitors","document","objects","ExternalDocumentation","$visitor"]);ze.refract=J(["visitors","document","objects","Header","$visitor"]);gt.refract=J(["visitors","document","objects","Info","$visitor"]);bt.refract=J(["visitors","document","objects","License","$visitor"]);yt.refract=J(["visitors","document","objects","Link","$visitor"]);xt.refract=J(["visitors","document","objects","MediaType","$visitor"]);_s.refract=J(["visitors","document","objects","OAuthFlow","$visitor"]);er.refract=J(["visitors","document","objects","OAuthFlows","$visitor"]);St.refract=J(["visitors","document","objects","OpenApi","fixedFields","openapi"]);tr.refract=J(["visitors","document","objects","OpenApi","$visitor"]);jt.refract=J(["visitors","document","objects","Operation","$visitor"]);We.refract=J(["visitors","document","objects","Parameter","$visitor"]);Et.refract=J(["visitors","document","objects","PathItem","$visitor"]);Ot.refract=J(["visitors","document","objects","Paths","$visitor"]);$t.refract=J(["visitors","document","objects","Reference","$visitor"]);wt.refract=J(["visitors","document","objects","RequestBody","$visitor"]);Pt.refract=J(["visitors","document","objects","Response","$visitor"]);Vt.refract=J(["visitors","document","objects","Responses","$visitor"]);rr.refract=J(["visitors","document","objects","Schema","$visitor"]);Mt.refract=J(["visitors","document","objects","SecurityRequirement","$visitor"]);It.refract=J(["visitors","document","objects","SecurityScheme","$visitor"]);Nt.refract=J(["visitors","document","objects","Server","$visitor"]);kt.refract=J(["visitors","document","objects","ServerVariable","$visitor"]);ir.refract=J(["visitors","document","objects","Tag","$visitor"]);nr.refract=J(["visitors","document","objects","XML","$visitor"]);class lr extends ht{}class ur extends mt{get pathItems(){return this.get("pathItems")}set pathItems(e){this.set("pathItems",e)}}class dr extends pt{}class Ji extends Qs{}class Li extends Ys{}class hr extends ft{}class mr extends vt{}class pr extends ze{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class fr extends gt{get license(){return this.get("license")}set license(e){this.set("license",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}}const zs=class zs extends o.StringElement{constructor(e,r,s){super(e,r,s),this.element="jsonSchemaDialect"}};u(zs,"default",new zs("https://spec.openapis.org/oas/3.1/dialect/base"));let Ne=zs;class vr extends bt{get identifier(){return this.get("identifier")}set identifier(e){this.set("identifier",e)}}class gr extends yt{}class br extends xt{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class qi extends _s{}class Bi extends er{}class Ui extends St{}class yr extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.element="openApi3_1",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get jsonSchemaDialect(){return this.get("jsonSchemaDialect")}set jsonSchemaDialect(e){this.set("jsonSchemaDialect",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get webhooks(){return this.get("webhooks")}set webhooks(e){this.set("webhooks",e)}}class Dt extends jt{get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}}class xr extends We{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class Ue extends Et{get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}}class Sr extends Ot{}class De extends $t{}Object.defineProperty(De.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});Object.defineProperty(De.prototype,"summary",{get(){return this.get("summary")},set(t){this.set("summary",t)},enumerable:!0});class jr extends wt{}class Er extends Pt{}class Or extends Vt{}let Ct=class extends Ke{constructor(e,r,s){super(e,r,s),this.element="JSONSchemaDraft6"}get idProp(){throw new k("id keyword from Core vocabulary has been renamed to $id.")}set idProp(e){throw new k("id keyword from Core vocabulary has been renamed to $id.")}get $id(){return this.get("$id")}set $id(e){this.set("$id",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get const(){return this.get("const")}set const(e){this.set("const",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}},Tt=class extends Ft{get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get schema(){throw new k("schema keyword from Hyper-Schema vocabulary has been renamed to submissionSchema.")}set schema(e){throw new k("schema keyword from Hyper-Schema vocabulary has been renamed to submissionSchema.")}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}get method(){throw new k("method keyword from Hyper-Schema vocabulary has been removed.")}set method(e){throw new k("method keyword from Hyper-Schema vocabulary has been removed.")}get encType(){throw new k("encType keyword from Hyper-Schema vocabulary has been renamed to submissionEncType.")}set encType(e){throw new k("encType keyword from Hyper-Schema vocabulary has been renamed to submissionEncType.")}get submissionEncType(){return this.get("submissionEncType")}set submissionEncType(e){this.set("submissionEncType",e)}};const Au={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft6",Ct),e.register("jSONReference",Xe),e.register("media",Rt),e.register("linkDescription",Tt),e}},Mu={JSONSchemaDraft6Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...ye};let io=class extends Zn{constructor(e){super(e),this.element=new Ct}get defaultDialectIdentifier(){return"http://json-schema.org/draft-06/schema#"}BooleanElement(e){const r=this.enter(e);return this.element.classes.push("boolean-json-schema"),r}handleSchemaIdentifier(e,r="$id"){return super.handleSchemaIdentifier(e,r)}},Iu=class extends Qn{BooleanElement(e){return this.element=this.toRefractedElement(["document","objects","JSONSchema"],e),D}};class Nu extends C{ArrayElement(e){const r=this.enter(e);return this.element.classes.push("json-schema-examples"),r}}let no=class extends Yn{constructor(e){super(e),this.element=new Tt}};const te=Se(v(["visitors","document","objects","JSONSchema","$visitor"],io),de(["visitors","document","objects","JSONSchema","fixedFields","id"]),v(["visitors","document","objects","JSONSchema","fixedFields","$id"],ie.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","contains"],ie.visitors.JSONSchemaOrJSONReferenceVisitor),v(["visitors","document","objects","JSONSchema","fixedFields","items"],Iu),v(["visitors","document","objects","JSONSchema","fixedFields","propertyNames"],ie.visitors.JSONSchemaOrJSONReferenceVisitor),v(["visitors","document","objects","JSONSchema","fixedFields","const"],ie.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","examples"],Nu),v(["visitors","document","objects","LinkDescription","$visitor"],no),v(["visitors","document","objects","LinkDescription","fixedFields","hrefSchema"],ie.visitors.JSONSchemaOrJSONReferenceVisitor),de(["visitors","document","objects","LinkDescription","fixedFields","schema"]),v(["visitors","document","objects","LinkDescription","fixedFields","submissionSchema"],ie.visitors.JSONSchemaOrJSONReferenceVisitor),de(["visitors","document","objects","LinkDescription","fixedFields","method"]),de(["visitors","document","objects","LinkDescription","fixedFields","encType"]),v(["visitors","document","objects","LinkDescription","fixedFields","submissionEncType"],ie.visitors.value))(ie),ku=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ct||t(s)&&e("JSONSchemaDraft6",s)&&r("object",s)),Du=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Tt||t(s)&&e("linkDescription",s)&&r("object",s)),Cu=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:ki,isJSONSchemaElement:ku,isLinkDescriptionElement:Du,isMediaElement:Gn},Symbol.toStringTag,{value:"Module"})),Tu=()=>{const t=Re(Au);return{predicates:{...Cu,isStringElement:M},namespace:t}},Ju=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=te}={})=>{const i=o.refract(t),n=Fe(s),c=oe(e,n),l=new c({specObj:n});return Y(i,l),Oe(l.element,r,{toolboxCreator:Tu,visitorOptions:{keyMap:Mu,nodeTypeGetter:At}})},oo=t=>(e,r={})=>Ju(e,{specPath:t,...r});Ct.refract=oo(["visitors","document","objects","JSONSchema","$visitor"]);Tt.refract=oo(["visitors","document","objects","LinkDescription","$visitor"]);let Jt=class extends Ct{constructor(e,r,s){super(e,r,s),this.element="JSONSchemaDraft7"}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get contentEncoding(){return this.get("contentEncoding")}set contentEncoding(e){this.set("contentEncoding",e)}get contentMediaType(){return this.get("contentMediaType")}set contentMediaType(e){this.set("contentMediaType",e)}get media(){throw new k('media keyword from Hyper-Schema vocabulary has been moved to validation vocabulary as "contentMediaType" / "contentEncoding"')}set media(e){throw new k('media keyword from Hyper-Schema vocabulary has been moved to validation vocabulary as "contentMediaType" / "contentEncoding"')}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}},Lt=class extends Tt{get anchor(){return this.get("anchor")}set anchor(e){this.set("anchor",e)}get anchorPointer(){return this.get("anchorPointer")}set anchorPointer(e){this.set("anchorPointer",e)}get templatePointers(){return this.get("templatePointers")}set templatePointers(e){this.set("templatePointers",e)}get templateRequired(){return this.get("templateRequired")}set templateRequired(e){this.set("templateRequired",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){throw new k("mediaType keyword from Hyper-Schema vocabulary has been renamed to targetMediaType.")}set mediaType(e){throw new k("mediaType keyword from Hyper-Schema vocabulary has been renamed to targetMediaType.")}get targetMediaType(){return this.get("targetMediaType")}set targetMediaType(e){this.set("targetMediaType",e)}get targetHints(){return this.get("targetHints")}set targetHints(e){this.set("targetHints",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get headerSchema(){return this.get("headerSchema")}set headerSchema(e){this.set("headerSchema",e)}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}get submissionEncType(){throw new k("submissionEncType keyword from Hyper-Schema vocabulary has been renamed to submissionMediaType.")}set submissionEncType(e){throw new k("submissionEncType keyword from Hyper-Schema vocabulary has been renamed to submissionMediaType.")}get submissionMediaType(){return this.get("submissionMediaType")}set submissionMediaType(e){this.set("submissionMediaType",e)}};const Lu={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft7",Jt),e.register("jSONReference",Xe),e.register("linkDescription",Lt),e}},qu={JSONSchemaDraft7Element:["content"],JSONReferenceElement:["content"],LinkDescriptionElement:["content"],...ye};let co=class extends io{constructor(e){super(e),this.element=new Jt}get defaultDialectIdentifier(){return"http://json-schema.org/draft-07/schema#"}},ao=class extends no{constructor(e){super(e),this.element=new Lt}};const Pe=Se(v(["visitors","document","objects","JSONSchema","$visitor"],co),v(["visitors","document","objects","JSONSchema","fixedFields","$comment"],te.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","if"],te.visitors.JSONSchemaOrJSONReferenceVisitor),v(["visitors","document","objects","JSONSchema","fixedFields","then"],te.visitors.JSONSchemaOrJSONReferenceVisitor),v(["visitors","document","objects","JSONSchema","fixedFields","else"],te.visitors.JSONSchemaOrJSONReferenceVisitor),de(["visitors","document","objects","JSONSchema","fixedFields","media"]),v(["visitors","document","objects","JSONSchema","fixedFields","contentEncoding"],te.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","contentMediaType"],te.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","writeOnly"],te.visitors.value),v(["visitors","document","objects","LinkDescription","$visitor"],ao),v(["visitors","document","objects","LinkDescription","fixedFields","anchor"],te.visitors.value),v(["visitors","document","objects","LinkDescription","fixedFields","anchorPointer"],te.visitors.value),de(["visitors","document","objects","LinkDescription","fixedFields","mediaType"]),v(["visitors","document","objects","LinkDescription","fixedFields","targetMediaType"],te.visitors.value),v(["visitors","document","objects","LinkDescription","fixedFields","targetHints"],te.visitors.value),v(["visitors","document","objects","LinkDescription","fixedFields","description"],te.visitors.value),v(["visitors","document","objects","LinkDescription","fixedFields","$comment"],te.visitors.value),v(["visitors","document","objects","LinkDescription","fixedFields","headerSchema"],te.visitors.JSONSchemaOrJSONReferenceVisitor),de(["visitors","document","objects","LinkDescription","fixedFields","submissionEncType"]),v(["visitors","document","objects","LinkDescription","fixedFields","submissionMediaType"],te.visitors.value))(te),Bu=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Jt||t(s)&&e("JSONSchemaDraft7",s)&&r("object",s)),Uu=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Lt||t(s)&&e("linkDescription",s)&&r("object",s)),Hu=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:ki,isJSONSchemaElement:Bu,isLinkDescriptionElement:Uu},Symbol.toStringTag,{value:"Module"})),zu=()=>{const t=Re(Lu);return{predicates:{...Hu,isStringElement:M},namespace:t}},Wu=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=Pe}={})=>{const i=o.refract(t),n=Fe(s),c=oe(e,n),l=new c({specObj:n});return Y(i,l),Oe(l.element,r,{toolboxCreator:zu,visitorOptions:{keyMap:qu,nodeTypeGetter:At}})},lo=t=>(e,r={})=>Wu(e,{specPath:t,...r});Jt.refract=lo(["visitors","document","objects","JSONSchema","$visitor"]);Lt.refract=lo(["visitors","document","objects","LinkDescription","$visitor"]);let qt=class extends Jt{constructor(e,r,s){super(e,r,s),this.element="JSONSchema201909"}get $vocabulary(){return this.get("$vocabulary")}set $vocabulary(e){this.set("$vocabulary",e)}get $anchor(){return this.get("$anchor")}set $anchor(e){this.set("$anchor",e)}get $recursiveAnchor(){return this.get("$recursiveAnchor")}set $recursiveAnchor(e){this.set("$recursiveAnchor",e)}get $recursiveRef(){return this.get("$recursiveRef")}set $recursiveRef(e){this.set("$recursiveRef",e)}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get $defs(){return this.get("$defs")}set $defs(e){this.set("$defs",e)}get definitions(){throw new k("definitions keyword from Validation vocabulary has been renamed to $defs.")}set definitions(e){throw new k("definitions keyword from Validation vocabulary has been renamed to $defs.")}get not(){return this.get("not")}set not(e){this.set("not",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get dependentSchemas(){return this.get("dependentSchemas")}set dependentSchemas(e){this.set("dependentSchemas",e)}get dependencies(){throw new k("dependencies keyword from Validation vocabulary has been renamed to dependentSchemas.")}set dependencies(e){throw new k("dependencies keyword from Validation vocabulary has been renamed to dependentSchemas.")}get items(){return this.get("items")}set items(e){this.set("items",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get unevaluatedItems(){return this.get("unevaluatedItems")}set unevaluatedItems(e){this.set("unevaluatedItems",e)}get unevaluatedProperties(){return this.get("unevaluatedProperties")}set unevaluatedProperties(e){this.set("unevaluatedProperties",e)}get maxContains(){return this.get("maxContains")}set maxContains(e){this.set("maxContains",e)}get minContains(){return this.get("minContains")}set minContains(e){this.set("minContains",e)}get dependentRequired(){return this.get("dependentRequired")}set dependentRequired(e){this.set("dependentRequired",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}get contentSchema(){return this.get("contentSchema")}set contentSchema(e){this.set("contentSchema",e)}},Bt=class extends Lt{get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get headerSchema(){return this.get("headerSchema")}set headerSchema(e){this.set("headerSchema",e)}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}};const Ku={namespace:t=>{const{base:e}=t;return e.register("jSONSchema201909",qt),e.register("linkDescription",Bt),e}},Xu={JSONSchema201909Element:["content"],LinkDescriptionElement:["content"],...ye};let se=class extends co{constructor(e){super(e),this.element=new qt}get defaultDialectIdentifier(){return"https://json-schema.org/draft/2019-09/schema"}ObjectElement(e){this.handleDialectIdentifier(e),this.handleSchemaIdentifier(e),this.parent=this.element;const r=Ie.prototype.ObjectElement.call(this,e);return M(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),r}};class Gu extends C{ObjectElement(e){const r=super.enter(e);return this.element.classes.push("json-schema-$vocabulary"),r}}class Zu extends C{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}}let uo=class extends p(Ae,K,C){constructor(e){super(e),this.element=new o.ObjectElement,this.element.classes.push("json-schema-$defs"),this.specPath=F(["document","objects","JSONSchema"])}},ho=class extends p(me,K,C){constructor(e){super(e),this.element=new o.ArrayElement,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach(r=>{const s=this.toRefractedElement(["document","objects","JSONSchema"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}},mo=class extends p(me,K,C){constructor(e){super(e),this.element=new o.ArrayElement,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach(r=>{const s=this.toRefractedElement(["document","objects","JSONSchema"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}},po=class extends p(me,K,C){constructor(e){super(e),this.element=new o.ArrayElement,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach(r=>{const s=this.toRefractedElement(["document","objects","JSONSchema"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}},fo=class extends p(Ae,K,C){constructor(e){super(e),this.element=new o.ObjectElement,this.element.classes.push("json-schema-dependentSchemas"),this.specPath=F(["document","objects","JSONSchema"])}};class Qu extends p(me,K,C){ObjectElement(e){return this.element=this.toRefractedElement(["document","objects","JSONSchema"],e),D}ArrayElement(e){return this.element=new o.ArrayElement,this.element.classes.push("json-schema-items"),e.forEach(r=>{const s=this.toRefractedElement(["document","objects","JSONSchema"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}BooleanElement(e){return this.element=this.toRefractedElement(["document","objects","JSONSchema"],e),D}}let vo=class extends p(Ae,K,C){constructor(e){super(e),this.element=new o.ObjectElement,this.element.classes.push("json-schema-properties"),this.specPath=F(["document","objects","JSONSchema"])}},go=class extends p(Ae,K,C){constructor(e){super(e),this.element=new o.ObjectElement,this.element.classes.push("json-schema-patternProperties"),this.specPath=F(["document","objects","JSONSchema"])}};class Yu extends C{ObjectElement(e){const r=super.enter(e);return this.element.classes.push("json-schema-dependentRequired"),r}}let bo=class extends ao{constructor(e){super(e),this.element=new Bt}};const Xt=Se(v(["visitors","document","objects","JSONSchema","$visitor"],se),v(["visitors","document","objects","JSONSchema","fixedFields","$vocabulary"],Gu),v(["visitors","document","objects","JSONSchema","fixedFields","$anchor"],Pe.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","$recursiveAnchor"],Pe.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","$recursiveRef"],Pe.visitors.value),de(["visitors","document","objects","JSONReference","$visitor"]),v(["visitors","document","objects","JSONSchema","fixedFields","$ref"],Zu),de(["visitors","document","objects","JSONSchema","fixedFields","definitions"]),v(["visitors","document","objects","JSONSchema","fixedFields","$defs"],uo),v(["visitors","document","objects","JSONSchema","fixedFields","allOf"],ho),v(["visitors","document","objects","JSONSchema","fixedFields","anyOf"],mo),v(["visitors","document","objects","JSONSchema","fixedFields","oneOf"],po),v(["visitors","document","objects","JSONSchema","fixedFields","not"],se),v(["visitors","document","objects","JSONSchema","fixedFields","if"],se),v(["visitors","document","objects","JSONSchema","fixedFields","then"],se),v(["visitors","document","objects","JSONSchema","fixedFields","else"],se),de(["visitors","document","objects","JSONSchema","fixedFields","dependencies"]),v(["visitors","document","objects","JSONSchema","fixedFields","dependentSchemas"],fo),v(["visitors","document","objects","JSONSchema","fixedFields","items"],Qu),v(["visitors","document","objects","JSONSchema","fixedFields","contains"],se),v(["visitors","document","objects","JSONSchema","fixedFields","properties"],vo),v(["visitors","document","objects","JSONSchema","fixedFields","patternProperties"],go),v(["visitors","document","objects","JSONSchema","fixedFields","additionalProperties"],se),v(["visitors","document","objects","JSONSchema","fixedFields","additionalItems"],se),v(["visitors","document","objects","JSONSchema","fixedFields","propertyNames"],se),v(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedItems"],se),v(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedProperties"],se),v(["visitors","document","objects","JSONSchema","fixedFields","maxContains"],Pe.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","minContains"],Pe.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","dependentRequired"],Yu),v(["visitors","document","objects","JSONSchema","fixedFields","deprecated"],Pe.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","contentSchema"],se),v(["visitors","document","objects","LinkDescription","$visitor"],bo),v(["visitors","document","objects","LinkDescription","fixedFields","targetSchema"],se),v(["visitors","document","objects","LinkDescription","fixedFields","hrefSchema"],se),v(["visitors","document","objects","LinkDescription","fixedFields","headerSchema"],se),v(["visitors","document","objects","LinkDescription","fixedFields","submissionSchema"],se))(Pe),_u=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof qt||t(s)&&e("JSONSchema201909",s)&&r("object",s)),ed=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Bt||t(s)&&e("linkDescription",s)&&r("object",s)),td=Object.freeze(Object.defineProperty({__proto__:null,isJSONSchemaElement:_u,isLinkDescriptionElement:ed},Symbol.toStringTag,{value:"Module"})),sd=()=>{const t=Re(Ku);return{predicates:{...td,isStringElement:M},namespace:t}},rd=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=Xt}={})=>{const i=o.refract(t),n=Fe(s),c=oe(e,n),l=new c({specObj:n});return Y(i,l),Oe(l.element,r,{toolboxCreator:sd,visitorOptions:{keyMap:Xu,nodeTypeGetter:At}})},yo=t=>(e,r={})=>rd(e,{specPath:t,...r});qt.refract=yo(["visitors","document","objects","JSONSchema","$visitor"]);Bt.refract=yo(["visitors","document","objects","LinkDescription","$visitor"]);class Ut extends qt{constructor(e,r,s){super(e,r,s),this.element="JSONSchema202012"}get $dynamicAnchor(){return this.get("$dynamicAnchor")}set $dynamicAnchor(e){this.set("$dynamicAnchor",e)}get $recursiveAnchor(){throw new k("$recursiveAnchor keyword from Core vocabulary has been renamed to $dynamicAnchor.")}set $recursiveAnchor(e){throw new k("$recursiveAnchor keyword from Core vocabulary has been renamed to $dynamicAnchor.")}get $dynamicRef(){return this.get("$dynamicRef")}set $dynamicRef(e){this.set("$dynamicRef",e)}get $recursiveRef(){throw new k("$recursiveRef keyword from Core vocabulary has been renamed to $dynamicRef.")}set $recursiveRef(e){throw new k("$recursiveRef keyword from Core vocabulary has been renamed to $dynamicRef.")}get prefixItems(){return this.get("prefixItems")}set prefixItems(e){this.set("prefixItems",e)}}class $r extends Bt{get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get headerSchema(){return this.get("headerSchema")}set headerSchema(e){this.set("headerSchema",e)}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}}const id={namespace:t=>{const{base:e}=t;return e.register("jSONSchema202012",Ut),e.register("linkDescription",$r),e}},nd={JSONSchema202012Element:["content"],LinkDescriptionElement:["content"],...ye};let G=class extends se{constructor(e){super(e),this.element=new Ut}get defaultDialectIdentifier(){return"https://json-schema.org/draft/2020-12/schema"}},xo=class extends p(me,K,C){constructor(e){super(e),this.element=new o.ArrayElement,this.element.classes.push("json-schema-prefixItems")}ArrayElement(e){return e.forEach(r=>{const s=this.toRefractedElement(["document","objects","JSONSchema"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}},od=class extends bo{constructor(e){super(e),this.element=new $r}};const So=Se(v(["visitors","document","objects","JSONSchema","$visitor"],G),de(["visitors","document","objects","JSONSchema","fixedFields","$recursiveAnchor"]),v(["visitors","document","objects","JSONSchema","fixedFields","$dynamicAnchor"],Xt.visitors.value),de(["visitors","document","objects","JSONSchema","fixedFields","$recursiveRef"]),v(["visitors","document","objects","JSONSchema","fixedFields","$dynamicRef"],Xt.visitors.value),v(["visitors","document","objects","JSONSchema","fixedFields","not"],G),v(["visitors","document","objects","JSONSchema","fixedFields","if"],G),v(["visitors","document","objects","JSONSchema","fixedFields","then"],G),v(["visitors","document","objects","JSONSchema","fixedFields","else"],G),v(["visitors","document","objects","JSONSchema","fixedFields","prefixItems"],xo),v(["visitors","document","objects","JSONSchema","fixedFields","items"],G),v(["visitors","document","objects","JSONSchema","fixedFields","contains"],G),v(["visitors","document","objects","JSONSchema","fixedFields","additionalProperties"],G),de(["visitors","document","objects","JSONSchema","fixedFields","additionalItems"]),v(["visitors","document","objects","JSONSchema","fixedFields","propertyNames"],G),v(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedItems"],G),v(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedProperties"],G),v(["visitors","document","objects","JSONSchema","fixedFields","contentSchema"],G),v(["visitors","document","objects","LinkDescription","$visitor"],od),v(["visitors","document","objects","LinkDescription","fixedFields","targetSchema"],G),v(["visitors","document","objects","LinkDescription","fixedFields","hrefSchema"],G),v(["visitors","document","objects","LinkDescription","fixedFields","headerSchema"],G),v(["visitors","document","objects","LinkDescription","fixedFields","submissionSchema"],G))(Xt),cd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ut||t(s)&&e("JSONSchema202012",s)&&r("object",s)),ad=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof $r||t(s)&&e("linkDescription",s)&&r("object",s)),ld=Object.freeze(Object.defineProperty({__proto__:null,isJSONSchemaElement:cd,isLinkDescriptionElement:ad},Symbol.toStringTag,{value:"Module"})),ud=()=>{const t=Re(id);return{predicates:{...ld,isStringElement:M},namespace:t}},dd=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=So}={})=>{const i=o.refract(t),n=Fe(s),c=oe(e,n),l=new c({specObj:n});return Y(i,l),Oe(l.element,r,{toolboxCreator:ud,visitorOptions:{keyMap:nd,nodeTypeGetter:At}})},jo=t=>(e,r={})=>dd(e,{specPath:t,...r});Ut.refract=jo(["visitors","document","objects","JSONSchema","$visitor"]);$r.refract=jo(["visitors","document","objects","LinkDescription","$visitor"]);class Ze extends Ut{constructor(e,r,s){super(e,r,s),this.element="schema"}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}}class wr extends Mt{}class Pr extends It{}class Vr extends Nt{}class Rr extends kt{}class Hi extends ir{}class zi extends nr{}const Eo={namespace:t=>{const{base:e}=t;return e.register("callback",lr),e.register("components",ur),e.register("contact",dr),e.register("discriminator",Ji),e.register("encoding",Li),e.register("example",hr),e.register("externalDocumentation",mr),e.register("header",pr),e.register("info",fr),e.register("jsonSchemaDialect",Ne),e.register("license",vr),e.register("link",gr),e.register("mediaType",br),e.register("oAuthFlow",qi),e.register("oAuthFlows",Bi),e.register("openapi",Ui),e.register("openApi3_1",yr),e.register("operation",Dt),e.register("parameter",xr),e.register("pathItem",Ue),e.register("paths",Sr),e.register("reference",De),e.register("requestBody",jr),e.register("response",Er),e.register("responses",Or),e.register("schema",Ze),e.register("securityRequirement",wr),e.register("securityScheme",Pr),e.register("server",Vr),e.register("serverVariable",Rr),e.register("tag",Hi),e.register("xml",zi),e}},Ws=class Ws extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Ws.primaryClass)}};u(Ws,"primaryClass","components-path-items");let hi=Ws;const Ks=class Ks extends o.ObjectElement{constructor(e,r,s){super(e,r,s),this.classes.push(Ks.primaryClass)}};u(Ks,"primaryClass","webhooks");let mi=Ks;const tt=t=>{if(Z(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},st={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_1Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...ye};class Ht{constructor(e,r,s){u(this,"internalStore");this.storageElement=e,this.storageField=r,this.storageSubField=s}get store(){if(!this.internalStore){let e=this.storageElement.get(this.storageField);U(e)||(e=new o.ObjectElement,this.storageElement.set(this.storageField,e));let r=e.get(this.storageSubField);he(r)||(r=new o.ArrayElement,e.set(this.storageSubField,r)),this.internalStore=r}return this.internalStore}append(e){this.includes(e)||this.store.push(e)}includes(e){return this.store.includes(e)}}const Yf=({storageField:t="x-normalized"}={})=>e=>{const{predicates:r,ancestorLineageToJSONPointer:s}=e,i=(l,m)=>!r.isParameterElement(l)||!r.isParameterElement(m)||!r.isStringElement(l.name)||!r.isStringElement(l.in)||!r.isStringElement(m.name)||!r.isStringElement(m.in)?!1:g(l.name)===g(m.name)&&g(l.in)===g(m.in),n=[];let c;return{visitor:{OpenApi3_1Element:{enter(l){c=new Ht(l,t,"parameters")},leave(){c=void 0}},PathItemElement:{enter(l,m,E,S,b){if(b.some(r.isComponentsElement))return;const{parameters:O}=l;r.isArrayElement(O)?n.push([...O.content]):n.push([])},leave(){n.pop()}},OperationElement:{leave(l,m,E,S,b){const O=Xs(n);if(!Array.isArray(O)||O.length===0)return;const P=s([...b,E,l]);if(c.includes(P))return;const R=hn([],["parameters","content"],l),h=Wo(i,[...R,...O]);l.parameters=new as(h),c.append(P)}}}}},_f=({storageField:t="x-normalized"}={})=>e=>{const{predicates:r,ancestorLineageToJSONPointer:s}=e;let i,n;return{visitor:{OpenApi3_1Element:{enter(c){n=new Ht(c,t,"security-requirements"),r.isArrayElement(c.security)&&(i=c.security)},leave(){n=void 0,i=void 0}},OperationElement:{leave(c,l,m,E,S){if(S.some(r.isComponentsElement))return;const b=s([...S,m,c]);if(n.includes(b))return;if(typeof c.security>"u"&&typeof i<"u"){var R;c.security=new ls((R=i)===null||R===void 0?void 0:R.content),n.append(b)}}}}}},pi=t=>t.replace(/\s/g,""),fi=t=>t.replace(/\W/gi,"_"),hd=(t,e)=>{const r=fi(pi(e.toLowerCase())),s=fi(pi(t));return`${r}${s}`},md=(t,e,r)=>{const s=pi(t);return s.length>0?fi(s):hd(e,r)},ev=({storageField:t="x-normalized",operationIdNormalizer:e=md}={})=>r=>{const{predicates:s,ancestorLineageToJSONPointer:i,namespace:n}=r,c=[],l=[],m=[];let E;return{visitor:{OpenApi3_1Element:{enter(S){E=new Ht(S,t,"operation-ids")},leave(){const S=Ko(b=>g(b.operationId),l);Object.entries(S).forEach(([b,O])=>{Array.isArray(O)&&(O.length<=1||O.forEach((P,R)=>{const h=`${b}${R+1}`;P.operationId=new n.elements.String(h)}))}),m.forEach(b=>{if(typeof b.operationId>"u")return;const O=String(g(b.operationId)),P=l.find(R=>g(R.meta.get("originalOperationId"))===O);typeof P>"u"||(b.operationId=w.safe(P.operationId),b.meta.set("originalOperationId",O),b.set("__originalOperationId",O))}),l.length=0,m.length=0,E=void 0}},PathItemElement:{enter(S){const b=Qt("path",g(S.meta.get("path")));c.push(b)},leave(){c.pop()}},OperationElement:{enter(S,b,O,P,R){if(typeof S.operationId>"u")return;const h=i([...R,O,S]);if(E.includes(h))return;const V=String(g(S.operationId)),j=Xs(c),d=Qt("method",g(S.meta.get("http-method"))),f=e(V,j,d);V!==f&&(S.operationId=new n.elements.String(f),S.set("__originalOperationId",V),S.meta.set("originalOperationId",V),l.push(S),E.append(h))}},LinkElement:{leave(S){s.isLinkElement(S)&&(typeof S.operationId>"u"||m.push(S))}}}}},tv=({storageField:t="x-normalized"}={})=>e=>{const{predicates:r,ancestorLineageToJSONPointer:s}=e;let i;return{visitor:{OpenApi3_1Element:{enter(n){i=new Ht(n,t,"parameter-examples")},leave(){i=void 0}},ParameterElement:{leave(n,c,l,m,E){var S,b;if(E.some(r.isComponentsElement)||typeof n.schema>"u"||!r.isSchemaElement(n.schema)||typeof((S=n.schema)===null||S===void 0?void 0:S.example)>"u"&&typeof((b=n.schema)===null||b===void 0?void 0:b.examples)>"u")return;const O=s([...E,l,n]);if(!i.includes(O)){if(typeof n.examples<"u"&&r.isObjectElement(n.examples)){const P=n.examples.map(R=>w.safe(R.value));typeof n.schema.examples<"u"&&(n.schema.set("examples",P),i.append(O)),typeof n.schema.example<"u"&&(n.schema.set("example",P[0]),i.append(O));return}typeof n.example<"u"&&(typeof n.schema.examples<"u"&&(n.schema.set("examples",[w(n.example)]),i.append(O)),typeof n.schema.example<"u"&&(n.schema.set("example",w(n.example)),i.append(O)))}}}}}},sv=({storageField:t="x-normalized"}={})=>e=>{const{predicates:r,ancestorLineageToJSONPointer:s}=e;let i;return{visitor:{OpenApi3_1Element:{enter(n){i=new Ht(n,t,"header-examples")},leave(){i=void 0}},HeaderElement:{leave(n,c,l,m,E){var S,b;if(E.some(r.isComponentsElement)||typeof n.schema>"u"||!r.isSchemaElement(n.schema)||typeof((S=n.schema)===null||S===void 0?void 0:S.example)>"u"&&typeof((b=n.schema)===null||b===void 0?void 0:b.examples)>"u")return;const O=s([...E,l,n]);if(!i.includes(O)){if(typeof n.examples<"u"&&r.isObjectElement(n.examples)){const P=n.examples.map(R=>w.safe(R.value));typeof n.schema.examples<"u"&&(n.schema.set("examples",P),i.append(O)),typeof n.schema.example<"u"&&(n.schema.set("example",P[0]),i.append(O));return}typeof n.example<"u"&&(typeof n.schema.examples<"u"&&(n.schema.set("examples",[w(n.example)]),i.append(O)),typeof n.schema.example<"u"&&(n.schema.set("example",w(n.example)),i.append(O)))}}}}}},pd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof lr||t(s)&&e("callback",s)&&r("object",s)),fd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof ur||t(s)&&e("components",s)&&r("object",s)),vd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof dr||t(s)&&e("contact",s)&&r("object",s)),gd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof hr||t(s)&&e("example",s)&&r("object",s)),bd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof mr||t(s)&&e("externalDocumentation",s)&&r("object",s)),yd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof pr||t(s)&&e("header",s)&&r("object",s)),xd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof fr||t(s)&&e("info",s)&&r("object",s)),Oo=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ne||t(s)&&e("jsonSchemaDialect",s)&&r("string",s)),Sd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof vr||t(s)&&e("license",s)&&r("object",s)),jd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof gr||t(s)&&e("link",s)&&r("object",s)),Ed=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ui||t(s)&&e("openapi",s)&&r("string",s)),$o=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r,hasClass:s})=>i=>i instanceof yr||t(i)&&e("openApi3_1",i)&&r("object",i)&&s("api",i)),wo=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Dt||t(s)&&e("operation",s)&&r("object",s)),Od=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof xr||t(s)&&e("parameter",s)&&r("object",s)),ot=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ue||t(s)&&e("pathItem",s)&&r("object",s)),$d=t=>{if(!ot(t)||!M(t.$ref))return!1;const e=g(t.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},wd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Sr||t(s)&&e("paths",s)&&r("object",s)),Qe=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof De||t(s)&&e("reference",s)&&r("object",s)),Pd=t=>{if(!Qe(t)||!M(t.$ref))return!1;const e=g(t.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},Vd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof jr||t(s)&&e("requestBody",s)&&r("object",s)),Rd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Er||t(s)&&e("response",s)&&r("object",s)),Fd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Or||t(s)&&e("responses",s)&&r("object",s)),ct=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ze||t(s)&&e("schema",s)&&r("object",s)),Po=t=>lt(t)&&t.classes.includes("boolean-json-schema"),Ad=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof wr||t(s)&&e("securityRequirement",s)&&r("object",s)),Md=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Pr||t(s)&&e("securityScheme",s)&&r("object",s)),Id=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Vr||t(s)&&e("server",s)&&r("object",s)),Nd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Rr||t(s)&&e("serverVariable",s)&&r("object",s)),kd=y(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof br||t(s)&&e("mediaType",s)&&r("object",s)),Dd=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:Po,isCallbackElement:pd,isComponentsElement:fd,isContactElement:vd,isExampleElement:gd,isExternalDocumentationElement:bd,isHeaderElement:yd,isInfoElement:xd,isJsonSchemaDialectElement:Oo,isLicenseElement:Sd,isLinkElement:jd,isMediaTypeElement:kd,isOpenApi3_1Element:$o,isOpenapiElement:Ed,isOperationElement:wo,isParameterElement:Od,isPathItemElement:ot,isPathItemElementExternal:$d,isPathsElement:wd,isReferenceElement:Qe,isReferenceElementExternal:Pd,isRequestBodyElement:Vd,isResponseElement:Rd,isResponsesElement:Fd,isSchemaElement:ct,isSecurityRequirementElement:Ad,isSecuritySchemeElement:Md,isServerElement:Id,isServerVariableElement:Nd},Symbol.toStringTag,{value:"Module"})),Cd=t=>{const e=t.reduce((r,s,i)=>{if(Ee(s)){const n=String(g(s.key));r.push(n)}else if(he(t[i-2])){const n=String(t[i-2].content.indexOf(s));r.push(n)}return r},[]);return sa(e)},Td=()=>{const t=Re(Eo);return{predicates:{...Dd,isElement:Z,isStringElement:M,isArrayElement:he,isObjectElement:U,isMemberElement:Ee,isServersElement:so,includesClasses:Ri,hasElementSourceMap:ut},ancestorLineageToJSONPointer:Cd,namespace:t}};class Jd extends p(I,x){constructor(e){super(e),this.element=new yr,this.specPath=F(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0,this.openApiSemanticElement=this.element}ObjectElement(e){return this.openApiGenericElement=e,I.prototype.ObjectElement.call(this,e)}}const Ld=a.visitors.document.objects.Info.$visitor;class qd extends Ld{constructor(e){super(e),this.element=new fr}}const Bd=a.visitors.document.objects.Contact.$visitor;class Ud extends Bd{constructor(e){super(e),this.element=new dr}}const Hd=a.visitors.document.objects.License.$visitor;class zd extends Hd{constructor(e){super(e),this.element=new vr}}const Wd=a.visitors.document.objects.Link.$visitor;class Kd extends Wd{constructor(e){super(e),this.element=new gr}}class Xd extends p(fe,x){StringElement(e){const r=new Ne(g(e));return this.copyMetaAndAttributes(e,r),this.element=r,D}}const Gd=a.visitors.document.objects.Server.$visitor;class Zd extends Gd{constructor(e){super(e),this.element=new Vr}}const Qd=a.visitors.document.objects.ServerVariable.$visitor;class Yd extends Qd{constructor(e){super(e),this.element=new Rr}}const _d=a.visitors.document.objects.MediaType.$visitor;class eh extends _d{constructor(e){super(e),this.element=new br}}const th=a.visitors.document.objects.SecurityRequirement.$visitor;class sh extends th{constructor(e){super(e),this.element=new wr}}const rh=a.visitors.document.objects.Components.$visitor;class ih extends rh{constructor(e){super(e),this.element=new ur}}const nh=a.visitors.document.objects.Tag.$visitor;class oh extends nh{constructor(e){super(e),this.element=new Hi}}const ch=a.visitors.document.objects.Reference.$visitor;class ah extends ch{constructor(e){super(e),this.element=new De}}const lh=a.visitors.document.objects.Parameter.$visitor;class uh extends lh{constructor(e){super(e),this.element=new xr}}const dh=a.visitors.document.objects.Header.$visitor;class hh extends dh{constructor(e){super(e),this.element=new pr}}class mh extends p(I,K,x){constructor(e){super(e),this.element=new Ze,this.specPath=F(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0,this.jsonSchemaDefaultDialect=Ne.default,this.passingOptionsNames.push("parent")}ObjectElement(e){this.handleDialectIdentifier(e),this.handleSchemaIdentifier(e),this.parent=this.element;const r=I.prototype.ObjectElement.call(this,e);return M(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),r}BooleanElement(e){return G.prototype.BooleanElement.call(this,e)}get defaultDialectIdentifier(){let e;return this.openApiSemanticElement!==void 0&&Oo(this.openApiSemanticElement.jsonSchemaDialect)?e=g(this.openApiSemanticElement.jsonSchemaDialect):this.openApiGenericElement!==void 0&&M(this.openApiGenericElement.get("jsonSchemaDialect"))?e=g(this.openApiGenericElement.get("jsonSchemaDialect")):e=g(this.jsonSchemaDefaultDialect),e}handleDialectIdentifier(e){return G.prototype.handleDialectIdentifier.call(this,e)}handleSchemaIdentifier(e){return G.prototype.handleSchemaIdentifier.call(this,e)}}class ph extends uo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class fh extends ho{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class vh extends mo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class gh extends po{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class bh extends fo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class yh extends xo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class xh extends vo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class Sh extends go{constructor(e){super(e),this.passingOptionsNames.push("parent")}}const jh=a.visitors.document.objects.Discriminator.$visitor;class Eh extends jh{constructor(e){super(e),this.element=new Ji,this.canSupportSpecificationExtensions=!0}}const Oh=a.visitors.document.objects.XML.$visitor;class $h extends Oh{constructor(e){super(e),this.element=new zi}}class wh extends p(N,x){constructor(e){super(e),this.element=new cs,this.specPath=F(["document","objects","Schema"])}}class Ph extends p(N,x){constructor(e){super(e),this.element=new hi,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(Qe).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),r}}const Vh=a.visitors.document.objects.Example.$visitor;class Rh extends Vh{constructor(e){super(e),this.element=new hr}}const Fh=a.visitors.document.objects.ExternalDocumentation.$visitor;class Ah extends Fh{constructor(e){super(e),this.element=new mr}}const Mh=a.visitors.document.objects.Encoding.$visitor;class Ih extends Mh{constructor(e){super(e),this.element=new Li}}const Nh=a.visitors.document.objects.Paths.$visitor;class kh extends Nh{constructor(e){super(e),this.element=new Sr}}const Dh=a.visitors.document.objects.RequestBody.$visitor;class Ch extends Dh{constructor(e){super(e),this.element=new jr}}const rn=a.visitors.document.objects.Callback.$visitor;class Th extends rn{constructor(e){super(e),this.element=new lr,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const r=rn.prototype.ObjectElement.call(this,e);return this.element.filter(Qe).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),r}}const Jh=a.visitors.document.objects.Response.$visitor;class Lh extends Jh{constructor(e){super(e),this.element=new Er}}const qh=a.visitors.document.objects.Responses.$visitor;class Bh extends qh{constructor(e){super(e),this.element=new Or}}const Uh=a.visitors.document.objects.Operation.$visitor;class Hh extends Uh{constructor(e){super(e),this.element=new Dt}}const zh=a.visitors.document.objects.PathItem.$visitor;class Wh extends zh{constructor(e){super(e),this.element=new Ue}}const Kh=a.visitors.document.objects.SecurityScheme.$visitor;class Xh extends Kh{constructor(e){super(e),this.element=new Pr}}const Gh=a.visitors.document.objects.OAuthFlows.$visitor;class Zh extends Gh{constructor(e){super(e),this.element=new Bi}}const Qh=a.visitors.document.objects.OAuthFlow.$visitor;class Yh extends Qh{constructor(e){super(e),this.element=new qi}}class _h extends p(N,x){constructor(e){super(e),this.element=new mi,this.specPath=r=>H(r)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(Qe).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),this.element.filter(ot).forEach((s,i)=>{s.setMetaProperty("webhook-name",g(i))}),r}}const{JSONSchema:em,LinkDescription:tm}=So.visitors.document.objects,sm={visitors:{value:a.visitors.value,document:{objects:{OpenApi:{$visitor:Jd,fixedFields:{openapi:a.visitors.document.objects.OpenApi.fixedFields.openapi,info:{$ref:"#/visitors/document/objects/Info"},jsonSchemaDialect:Xd,servers:a.visitors.document.objects.OpenApi.fixedFields.servers,paths:{$ref:"#/visitors/document/objects/Paths"},webhooks:_h,components:{$ref:"#/visitors/document/objects/Components"},security:a.visitors.document.objects.OpenApi.fixedFields.security,tags:a.visitors.document.objects.OpenApi.fixedFields.tags,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:qd,fixedFields:{title:a.visitors.document.objects.Info.fixedFields.title,description:a.visitors.document.objects.Info.fixedFields.description,summary:{$ref:"#/visitors/value"},termsOfService:a.visitors.document.objects.Info.fixedFields.termsOfService,contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:a.visitors.document.objects.Info.fixedFields.version}},Contact:{$visitor:Ud,fixedFields:{name:a.visitors.document.objects.Contact.fixedFields.name,url:a.visitors.document.objects.Contact.fixedFields.url,email:a.visitors.document.objects.Contact.fixedFields.email}},License:{$visitor:zd,fixedFields:{name:a.visitors.document.objects.License.fixedFields.name,identifier:{$ref:"#/visitors/value"},url:a.visitors.document.objects.License.fixedFields.url}},Server:{$visitor:Zd,fixedFields:{url:a.visitors.document.objects.Server.fixedFields.url,description:a.visitors.document.objects.Server.fixedFields.description,variables:a.visitors.document.objects.Server.fixedFields.variables}},ServerVariable:{$visitor:Yd,fixedFields:{enum:a.visitors.document.objects.ServerVariable.fixedFields.enum,default:a.visitors.document.objects.ServerVariable.fixedFields.default,description:a.visitors.document.objects.ServerVariable.fixedFields.description}},Components:{$visitor:ih,fixedFields:{schemas:wh,responses:a.visitors.document.objects.Components.fixedFields.responses,parameters:a.visitors.document.objects.Components.fixedFields.parameters,examples:a.visitors.document.objects.Components.fixedFields.examples,requestBodies:a.visitors.document.objects.Components.fixedFields.requestBodies,headers:a.visitors.document.objects.Components.fixedFields.headers,securitySchemes:a.visitors.document.objects.Components.fixedFields.securitySchemes,links:a.visitors.document.objects.Components.fixedFields.links,callbacks:a.visitors.document.objects.Components.fixedFields.callbacks,pathItems:Ph}},Paths:{$visitor:kh},PathItem:{$visitor:Wh,fixedFields:{$ref:a.visitors.document.objects.PathItem.fixedFields.$ref,summary:a.visitors.document.objects.PathItem.fixedFields.summary,description:a.visitors.document.objects.PathItem.fixedFields.description,get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:a.visitors.document.objects.PathItem.fixedFields.servers,parameters:a.visitors.document.objects.PathItem.fixedFields.parameters}},Operation:{$visitor:Hh,fixedFields:{tags:a.visitors.document.objects.Operation.fixedFields.tags,summary:a.visitors.document.objects.Operation.fixedFields.summary,description:a.visitors.document.objects.Operation.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:a.visitors.document.objects.Operation.fixedFields.operationId,parameters:a.visitors.document.objects.Operation.fixedFields.parameters,requestBody:a.visitors.document.objects.Operation.fixedFields.requestBody,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:a.visitors.document.objects.Operation.fixedFields.callbacks,deprecated:a.visitors.document.objects.Operation.fixedFields.deprecated,security:a.visitors.document.objects.Operation.fixedFields.security,servers:a.visitors.document.objects.Operation.fixedFields.servers}},ExternalDocumentation:{$visitor:Ah,fixedFields:{description:a.visitors.document.objects.ExternalDocumentation.fixedFields.description,url:a.visitors.document.objects.ExternalDocumentation.fixedFields.url}},Parameter:{$visitor:uh,fixedFields:{name:a.visitors.document.objects.Parameter.fixedFields.name,in:a.visitors.document.objects.Parameter.fixedFields.in,description:a.visitors.document.objects.Parameter.fixedFields.description,required:a.visitors.document.objects.Parameter.fixedFields.required,deprecated:a.visitors.document.objects.Parameter.fixedFields.deprecated,allowEmptyValue:a.visitors.document.objects.Parameter.fixedFields.allowEmptyValue,style:a.visitors.document.objects.Parameter.fixedFields.style,explode:a.visitors.document.objects.Parameter.fixedFields.explode,allowReserved:a.visitors.document.objects.Parameter.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:a.visitors.document.objects.Parameter.fixedFields.example,examples:a.visitors.document.objects.Parameter.fixedFields.examples,content:a.visitors.document.objects.Parameter.fixedFields.content}},RequestBody:{$visitor:Ch,fixedFields:{description:a.visitors.document.objects.RequestBody.fixedFields.description,content:a.visitors.document.objects.RequestBody.fixedFields.content,required:a.visitors.document.objects.RequestBody.fixedFields.required}},MediaType:{$visitor:eh,fixedFields:{schema:{$ref:"#/visitors/document/objects/Schema"},example:a.visitors.document.objects.MediaType.fixedFields.example,examples:a.visitors.document.objects.MediaType.fixedFields.examples,encoding:a.visitors.document.objects.MediaType.fixedFields.encoding}},Encoding:{$visitor:Ih,fixedFields:{contentType:a.visitors.document.objects.Encoding.fixedFields.contentType,headers:a.visitors.document.objects.Encoding.fixedFields.headers,style:a.visitors.document.objects.Encoding.fixedFields.style,explode:a.visitors.document.objects.Encoding.fixedFields.explode,allowReserved:a.visitors.document.objects.Encoding.fixedFields.allowReserved}},Responses:{$visitor:Bh,fixedFields:{default:a.visitors.document.objects.Responses.fixedFields.default}},Response:{$visitor:Lh,fixedFields:{description:a.visitors.document.objects.Response.fixedFields.description,headers:a.visitors.document.objects.Response.fixedFields.headers,content:a.visitors.document.objects.Response.fixedFields.content,links:a.visitors.document.objects.Response.fixedFields.links}},Callback:{$visitor:Th},Example:{$visitor:Rh,fixedFields:{summary:a.visitors.document.objects.Example.fixedFields.summary,description:a.visitors.document.objects.Example.fixedFields.description,value:a.visitors.document.objects.Example.fixedFields.value,externalValue:a.visitors.document.objects.Example.fixedFields.externalValue}},Link:{$visitor:Kd,fixedFields:{operationRef:a.visitors.document.objects.Link.fixedFields.operationRef,operationId:a.visitors.document.objects.Link.fixedFields.operationId,parameters:a.visitors.document.objects.Link.fixedFields.parameters,requestBody:a.visitors.document.objects.Link.fixedFields.requestBody,description:a.visitors.document.objects.Link.fixedFields.description,server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:hh,fixedFields:{description:a.visitors.document.objects.Header.fixedFields.description,required:a.visitors.document.objects.Header.fixedFields.required,deprecated:a.visitors.document.objects.Header.fixedFields.deprecated,allowEmptyValue:a.visitors.document.objects.Header.fixedFields.allowEmptyValue,style:a.visitors.document.objects.Header.fixedFields.style,explode:a.visitors.document.objects.Header.fixedFields.explode,allowReserved:a.visitors.document.objects.Header.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:a.visitors.document.objects.Header.fixedFields.example,examples:a.visitors.document.objects.Header.fixedFields.examples,content:a.visitors.document.objects.Header.fixedFields.content}},Tag:{$visitor:oh,fixedFields:{name:a.visitors.document.objects.Tag.fixedFields.name,description:a.visitors.document.objects.Tag.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:ah,fixedFields:{$ref:a.visitors.document.objects.Reference.fixedFields.$ref,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},LinkDescription:{...tm},Schema:{$visitor:mh,fixedFields:{...em.fixedFields,$defs:ph,allOf:fh,anyOf:vh,oneOf:gh,not:{$ref:"#/visitors/document/objects/Schema"},if:{$ref:"#/visitors/document/objects/Schema"},then:{$ref:"#/visitors/document/objects/Schema"},else:{$ref:"#/visitors/document/objects/Schema"},dependentSchemas:bh,prefixItems:yh,items:{$ref:"#/visitors/document/objects/Schema"},contains:{$ref:"#/visitors/document/objects/Schema"},properties:xh,patternProperties:Sh,additionalProperties:{$ref:"#/visitors/document/objects/Schema"},propertyNames:{$ref:"#/visitors/document/objects/Schema"},unevaluatedItems:{$ref:"#/visitors/document/objects/Schema"},unevaluatedProperties:{$ref:"#/visitors/document/objects/Schema"},contentSchema:{$ref:"#/visitors/document/objects/Schema"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:Eh,fixedFields:{propertyName:a.visitors.document.objects.Discriminator.fixedFields.propertyName,mapping:a.visitors.document.objects.Discriminator.fixedFields.mapping}},XML:{$visitor:$h,fixedFields:{name:a.visitors.document.objects.XML.fixedFields.name,namespace:a.visitors.document.objects.XML.fixedFields.namespace,prefix:a.visitors.document.objects.XML.fixedFields.prefix,attribute:a.visitors.document.objects.XML.fixedFields.attribute,wrapped:a.visitors.document.objects.XML.fixedFields.wrapped}},SecurityScheme:{$visitor:Xh,fixedFields:{type:a.visitors.document.objects.SecurityScheme.fixedFields.type,description:a.visitors.document.objects.SecurityScheme.fixedFields.description,name:a.visitors.document.objects.SecurityScheme.fixedFields.name,in:a.visitors.document.objects.SecurityScheme.fixedFields.in,scheme:a.visitors.document.objects.SecurityScheme.fixedFields.scheme,bearerFormat:a.visitors.document.objects.SecurityScheme.fixedFields.bearerFormat,flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:a.visitors.document.objects.SecurityScheme.fixedFields.openIdConnectUrl}},OAuthFlows:{$visitor:Zh,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:Yh,fixedFields:{authorizationUrl:a.visitors.document.objects.OAuthFlow.fixedFields.authorizationUrl,tokenUrl:a.visitors.document.objects.OAuthFlow.fixedFields.tokenUrl,refreshUrl:a.visitors.document.objects.OAuthFlow.fixedFields.refreshUrl,scopes:a.visitors.document.objects.OAuthFlow.fixedFields.scopes}},SecurityRequirement:{$visitor:sh}},extension:{$visitor:a.visitors.document.extension.$visitor}}}},rm=(t,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:r=[]}={})=>{const s=o.refract(t),i=Fe(sm),n=oe(e,i),c=new n({specObj:i});return Y(s,c),Oe(c.element,r,{toolboxCreator:Td,visitorOptions:{keyMap:st,nodeTypeGetter:tt}})},T=t=>(e,r={})=>rm(e,{specPath:t,...r});lr.refract=T(["visitors","document","objects","Callback","$visitor"]);ur.refract=T(["visitors","document","objects","Components","$visitor"]);dr.refract=T(["visitors","document","objects","Contact","$visitor"]);hr.refract=T(["visitors","document","objects","Example","$visitor"]);Ji.refract=T(["visitors","document","objects","Discriminator","$visitor"]);Li.refract=T(["visitors","document","objects","Encoding","$visitor"]);mr.refract=T(["visitors","document","objects","ExternalDocumentation","$visitor"]);pr.refract=T(["visitors","document","objects","Header","$visitor"]);fr.refract=T(["visitors","document","objects","Info","$visitor"]);Ne.refract=T(["visitors","document","objects","OpenApi","fixedFields","jsonSchemaDialect"]);vr.refract=T(["visitors","document","objects","License","$visitor"]);gr.refract=T(["visitors","document","objects","Link","$visitor"]);br.refract=T(["visitors","document","objects","MediaType","$visitor"]);qi.refract=T(["visitors","document","objects","OAuthFlow","$visitor"]);Bi.refract=T(["visitors","document","objects","OAuthFlows","$visitor"]);Ui.refract=T(["visitors","document","objects","OpenApi","fixedFields","openapi"]);yr.refract=T(["visitors","document","objects","OpenApi","$visitor"]);Dt.refract=T(["visitors","document","objects","Operation","$visitor"]);xr.refract=T(["visitors","document","objects","Parameter","$visitor"]);Ue.refract=T(["visitors","document","objects","PathItem","$visitor"]);Sr.refract=T(["visitors","document","objects","Paths","$visitor"]);De.refract=T(["visitors","document","objects","Reference","$visitor"]);jr.refract=T(["visitors","document","objects","RequestBody","$visitor"]);Er.refract=T(["visitors","document","objects","Response","$visitor"]);Or.refract=T(["visitors","document","objects","Responses","$visitor"]);Ze.refract=T(["visitors","document","objects","Schema","$visitor"]);wr.refract=T(["visitors","document","objects","SecurityRequirement","$visitor"]);Pr.refract=T(["visitors","document","objects","SecurityScheme","$visitor"]);Vr.refract=T(["visitors","document","objects","Server","$visitor"]);Rr.refract=T(["visitors","document","objects","ServerVariable","$visitor"]);Hi.refract=T(["visitors","document","objects","Tag","$visitor"]);zi.refract=T(["visitors","document","objects","XML","$visitor"]);class rv extends qc{constructor(e){super({...e??{},name:"binary"})}canParse(e){return this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension)}parse(e){try{const r=unescape(encodeURIComponent(e.toString())),s=btoa(r),i=new qe;if(s.length!==0){const n=new o.StringElement(s);n.classes.push("result"),i.push(n)}return i}catch(r){throw new Gc(`Error parsing "${e.uri}"`,{cause:r})}}}class iv extends Uc{constructor(e){super({...e??{},name:"openapi-3-1"})}canResolve(e,r){const s=r.dereference.strategies.find(i=>i.name==="openapi-3-1");return s===void 0?!1:s.canDereference(e,r)}async resolve(e,r){const s=r.dereference.strategies.find(c=>c.name==="openapi-3-1");if(s===void 0)throw new Hn('"openapi-3-1" dereference strategy is not available.');const i=new Nr,n=jn(r,{resolve:{internal:!1},dereference:{refSet:i}});return await s.dereference(e,n),i}}const Wi=t=>/^[A-Za-z_][A-Za-z_0-9.-]*$/.test(t),us=t=>{const e=Sn(t);return vi("#",e)},im=t=>{if(!Wi(t))throw new Kc(t);return t},Vo=(t,e)=>{const r=im(t),s=Ln(i=>ct(i)&&g(i.$anchor)===r,e);if(ke(s))throw new zc(`Evaluation failed on token: "${r}"`);return s},nm=(t,e)=>{if(typeof e.$ref>"u")return;const r=Sn(g(e.$ref)),s=g(e.meta.get("ancestorsSchemaIdentifiers"));return`${gn((n,c)=>Ye(n,Gs(Q(c))),t,[...s,g(e.$ref)])}${r==="#"?"":r}`},om=(t,e)=>{if(typeof e.$id>"u")return;const r=g(e.meta.get("ancestorsSchemaIdentifiers"));return gn((s,i)=>Ye(s,Gs(Q(i))),t,[...r,g(e.$id)])},rt=t=>{if(rt.cache.has(t))return rt.cache.get(t);const e=Ze.refract(t);return rt.cache.set(t,e),e};rt.cache=new WeakMap;const $e=t=>_e(t)?rt(t):t,Ki=(t,e)=>{const{cache:r}=Ki,s=Q(t),i=m=>ct(m)&&typeof m.$id<"u";if(!r.has(e)){const m=Pc(i,e);r.set(e,Array.from(m))}const n=r.get(e).find(m=>om(s,m)===s);if(ke(n))throw new Wn(`Evaluation failed on URI: "${t}"`);let c,l;return Wi(us(t))?(c=Vo,l=us(t)):(c=Le,l=Je(t)),c(l,n)};Ki.cache=new WeakMap;const Ir=Y[Symbol.for("nodejs.util.promisify.custom")],ee=new Jn,ve=(t,e,r,s)=>{Ee(s)?s.value=t:Array.isArray(s)&&(s[r]=t)};class it{constructor({reference:e,namespace:r,options:s,indirections:i=[],ancestors:n=new Ar,refractCache:c=new Map}){u(this,"indirections");u(this,"namespace");u(this,"reference");u(this,"options");u(this,"ancestors");u(this,"refractCache");this.indirections=i,this.namespace=r,this.reference=e,this.options=s,this.ancestors=new Ar(...n),this.refractCache=c}toBaseURI(e){return Ye(this.reference.uri,Gs(Q(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new Xc(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const r=this.toBaseURI(e),{refSet:s}=this.reference;if(s.has(r))return s.find(bn(r,"uri"));const i=await lc(Ce(r),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),n=new et({uri:r,value:w(i),depth:this.reference.depth+1});if(s.add(n),this.options.dereference.immutable){const c=new et({uri:`immutable://${r}`,value:i,depth:this.reference.depth+1});s.add(c)}return n}toAncestorLineage(e){const r=new Set(e.filter(Z));return[new Ar(...this.ancestors,r),r]}async ReferenceElement(e,r,s,i,n,c){if(this.indirections.includes(e))return!1;const[l,m]=this.toAncestorLineage([...n,s]),E=this.toBaseURI(g(e.$ref)),S=Q(this.reference.uri)===E,b=!S;if(!this.options.resolve.internal&&S||!this.options.resolve.external&&b)return!1;const O=await this.toReference(g(e.$ref)),P=Ye(E,g(e.$ref));this.indirections.push(e);const R=Je(P);let h=Le(R,O.value.result);if(h.id=ee.identify(h),_e(h)){const B=g(e.meta.get("referenced-element")),W=`${B}-${g(ee.identify(h))}`;this.refractCache.has(W)?h=this.refractCache.get(W):H(h)?(h=De.refract(h),h.setMetaProperty("referenced-element",B),this.refractCache.set(W,h)):(h=this.namespace.getElementClass(B).refract(h),this.refractCache.set(W,h))}if(e===h)throw new re("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new Mr(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(h)){if(O.refSet.circular=!0,this.options.dereference.circular==="error")throw new re("Circular reference detected");if(this.options.dereference.circular==="replace"){var V,j;const B=new o.RefElement(h.id,{type:"reference",uri:O.uri,$ref:g(e.$ref)}),A=((V=(j=this.options.dereference.strategyOpts["openapi-3-1"])===null||j===void 0?void 0:j.circularReplacer)!==null&&V!==void 0?V:this.options.dereference.circularReplacer)(B);return c.replaceWith(A,ve),s?!1:A}}const d=Q(O.refSet.rootRef.uri)!==O.uri,f=["error","replace"].includes(this.options.dereference.circular);if((b||d||Qe(h)||f)&&!l.includesCycle(h)){m.add(e);const B=new it({reference:O,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l});h=await Ir(h,B,{keyMap:st,nodeTypeGetter:tt}),m.delete(e)}this.indirections.pop();const $=le(h);return $.setMetaProperty("id",ee.generateId()),$.setMetaProperty("ref-fields",{$ref:g(e.$ref),description:g(e.description),summary:g(e.summary)}),$.setMetaProperty("ref-origin",O.uri),$.setMetaProperty("ref-referencing-element-id",w(ee.identify(e))),U(h)&&U($)&&(e.hasKey("description")&&"description"in h&&($.remove("description"),$.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in h&&($.remove("summary"),$.set("summary",e.get("summary")))),c.replaceWith($,ve),s?!1:$}async PathItemElement(e,r,s,i,n,c){if(!M(e.$ref))return;if(this.indirections.includes(e))return!1;const[l,m]=this.toAncestorLineage([...n,s]),E=this.toBaseURI(g(e.$ref)),S=Q(this.reference.uri)===E,b=!S;if(!this.options.resolve.internal&&S||!this.options.resolve.external&&b)return;const O=await this.toReference(g(e.$ref)),P=Ye(E,g(e.$ref));this.indirections.push(e);const R=Je(P);let h=Le(R,O.value.result);if(h.id=ee.identify(h),_e(h)){const $=`path-item-${g(ee.identify(h))}`;this.refractCache.has($)?h=this.refractCache.get($):(h=Ue.refract(h),this.refractCache.set($,h))}if(e===h)throw new re("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new Mr(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(h)){if(O.refSet.circular=!0,this.options.dereference.circular==="error")throw new re("Circular reference detected");if(this.options.dereference.circular==="replace"){var V,j;const $=new o.RefElement(h.id,{type:"path-item",uri:O.uri,$ref:g(e.$ref)}),W=((V=(j=this.options.dereference.strategyOpts["openapi-3-1"])===null||j===void 0?void 0:j.circularReplacer)!==null&&V!==void 0?V:this.options.dereference.circularReplacer)($);return c.replaceWith(W,ve),s?!1:W}}const d=Q(O.refSet.rootRef.uri)!==O.uri,f=["error","replace"].includes(this.options.dereference.circular);if((b||d||ot(h)&&M(h.$ref)||f)&&!l.includesCycle(h)){m.add(e);const $=new it({reference:O,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l});h=await Ir(h,$,{keyMap:st,nodeTypeGetter:tt}),m.delete(e)}if(this.indirections.pop(),ot(h)){const $=new Ue([...h.content],w(h.meta),w(h.attributes));$.setMetaProperty("id",ee.generateId()),e.forEach((B,W,A)=>{$.remove(g(W)),$.content.push(A)}),$.remove("$ref"),$.setMetaProperty("ref-fields",{$ref:g(e.$ref)}),$.setMetaProperty("ref-origin",O.uri),$.setMetaProperty("ref-referencing-element-id",w(ee.identify(e))),h=$}return c.replaceWith(h,ve),s?void 0:h}async LinkElement(e,r,s,i,n,c){if(!M(e.operationRef)&&!M(e.operationId))return;if(M(e.operationRef)&&M(e.operationId))throw new re("LinkElement operationRef and operationId fields are mutually exclusive.");let l;if(M(e.operationRef)){var m;const S=Je(g(e.operationRef)),b=this.toBaseURI(g(e.operationRef)),O=Q(this.reference.uri)===b,P=!O;if(!this.options.resolve.internal&&O||!this.options.resolve.external&&P)return;const R=await this.toReference(g(e.operationRef));if(l=Le(S,R.value.result),_e(l)){const V=`operation-${g(ee.identify(l))}`;this.refractCache.has(V)?l=this.refractCache.get(V):(l=Dt.refract(l),this.refractCache.set(V,l))}l=le(l),l.setMetaProperty("ref-origin",R.uri);const h=le(e);return(m=h.operationRef)===null||m===void 0||m.meta.set("operation",l),c.replaceWith(h,ve),s?void 0:h}if(M(e.operationId)){var E;const S=g(e.operationId),b=await this.toReference(Ce(this.reference.uri));if(l=Ln(P=>wo(P)&&Z(P.operationId)&&P.operationId.equals(S),b.value.result),ke(l))throw new re(`OperationElement(operationId=${S}) not found.`);const O=le(e);return(E=O.operationId)===null||E===void 0||E.meta.set("operation",l),c.replaceWith(O,ve),s?void 0:O}}async ExampleElement(e,r,s,i,n,c){if(!M(e.externalValue))return;if(e.hasKey("value")&&M(e.externalValue))throw new re("ExampleElement value and externalValue fields are mutually exclusive.");const l=this.toBaseURI(g(e.externalValue)),m=Q(this.reference.uri)===l,E=!m;if(!this.options.resolve.internal&&m||!this.options.resolve.external&&E)return;const S=await this.toReference(g(e.externalValue)),b=le(S.value.result);b.setMetaProperty("ref-origin",S.uri);const O=le(e);return O.value=b,c.replaceWith(O,ve),s?void 0:O}async SchemaElement(e,r,s,i,n,c){if(!M(e.$ref))return;if(this.indirections.includes(e))return!1;const[l,m]=this.toAncestorLineage([...n,s]);let E=await this.toReference(Ce(this.reference.uri)),{uri:S}=E;const b=nm(S,e),O=Q(b),P=new es({uri:O}),R=Xo(A=>A.canRead(P),this.options.resolve.resolvers),h=!R;let V=Q(this.reference.uri)===b,j=!V;this.indirections.push(e);let d;try{if(R||h){S=this.toBaseURI(b);const A=b,q=$e(E.value.result);if(d=Ki(A,q),d=$e(d),d.id=ee.identify(d),!this.options.resolve.internal&&V||!this.options.resolve.external&&j)return}else{if(S=this.toBaseURI(b),V=Q(this.reference.uri)===S,j=!V,!this.options.resolve.internal&&V||!this.options.resolve.external&&j)return;E=await this.toReference(Ce(b));const A=Je(b),q=$e(E.value.result);d=Le(A,q),d=$e(d),d.id=ee.identify(d)}}catch(A){if(h&&A instanceof Wn)if(Wi(us(b))){if(V=Q(this.reference.uri)===S,j=!V,!this.options.resolve.internal&&V||!this.options.resolve.external&&j)return;E=await this.toReference(Ce(b));const q=us(b),z=$e(E.value.result);d=Vo(q,z),d=$e(d),d.id=ee.identify(d)}else{if(S=this.toBaseURI(b),V=Q(this.reference.uri)===S,j=!V,!this.options.resolve.internal&&V||!this.options.resolve.external&&j)return;E=await this.toReference(Ce(b));const q=Je(b),z=$e(E.value.result);d=Le(q,z),d=$e(d),d.id=ee.identify(d)}else throw A}if(e===d)throw new re("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new Mr(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(d)){if(E.refSet.circular=!0,this.options.dereference.circular==="error")throw new re("Circular reference detected");if(this.options.dereference.circular==="replace"){var f,$;const A=new o.RefElement(d.id,{type:"json-schema",uri:E.uri,$ref:g(e.$ref)}),z=((f=($=this.options.dereference.strategyOpts["openapi-3-1"])===null||$===void 0?void 0:$.circularReplacer)!==null&&f!==void 0?f:this.options.dereference.circularReplacer)(A);return c.replaceWith(z,ve),s?!1:z}}const B=Q(E.refSet.rootRef.uri)!==E.uri,W=["error","replace"].includes(this.options.dereference.circular);if((j||B||ct(d)&&M(d.$ref)||W)&&!l.includesCycle(d)){m.add(e);const A=new it({reference:E,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l});d=await Ir(d,A,{keyMap:st,nodeTypeGetter:tt}),m.delete(e)}if(this.indirections.pop(),Po(d)){const A=w(d);return A.setMetaProperty("id",ee.generateId()),A.setMetaProperty("ref-fields",{$ref:g(e.$ref)}),A.setMetaProperty("ref-origin",E.uri),A.setMetaProperty("ref-referencing-element-id",w(ee.identify(e))),c.replaceWith(A,ve),s?!1:A}if(ct(d)){const A=new Ze([...d.content],w(d.meta),w(d.attributes));A.setMetaProperty("id",ee.generateId()),e.forEach((q,z,ue)=>{A.remove(g(z)),A.content.push(ue)}),A.remove("$ref"),A.setMetaProperty("ref-fields",{$ref:g(e.$ref)}),A.setMetaProperty("ref-origin",E.uri),A.setMetaProperty("ref-referencing-element-id",w(ee.identify(e))),d=A}return c.replaceWith(d,ve),s?void 0:d}}const cm=Y[Symbol.for("nodejs.util.promisify.custom")];class nv extends Hc{constructor(e){super({...e??{},name:"openapi-3-1"})}canDereference(e){var r;return e.mediaType!=="text/plain"?ia.includes(e.mediaType):$o((r=e.parseResult)===null||r===void 0?void 0:r.result)}async dereference(e,r){var s;const i=Re(Eo),n=(s=r.dereference.refSet)!==null&&s!==void 0?s:new Nr,c=new Nr;let l=n,m;n.has(e.uri)?m=n.find(bn(e.uri,"uri")):(m=new et({uri:e.uri,value:e.parseResult}),n.add(m)),r.dereference.immutable&&(n.refs.map(b=>new et({...b,value:w(b.value)})).forEach(b=>c.add(b)),m=c.find(b=>b.uri===e.uri),l=c);const E=new it({reference:m,namespace:i,options:r}),S=await cm(l.rootRef.value,E,{keyMap:st,nodeTypeGetter:tt});return r.dereference.immutable&&c.refs.filter(b=>b.uri.startsWith("immutable://")).map(b=>new et({...b,uri:b.uri.replace(/^immutable:\/\//,"")})).forEach(b=>n.add(b)),r.dereference.refSet===null&&n.clean(),c.clean(),S}}export{et as $,Ve as A,w as B,M as C,Ri as D,Ue as E,ot as F,Ce as G,ym as H,Jn as I,nm as J,es as K,$e as L,Mr as M,Ki as N,ra as O,qc as P,Wn as Q,oc as R,Wi as S,us as T,Vo as U,Po as V,Ze as W,Ai as X,nv as Y,Re as Z,Nr as _,Gc as a,Eo as a0,tc as a1,sa as a2,Sm as a3,sc as a4,rv as a5,iv as a6,gm as a7,Xi as a8,Wt as a9,ev as aa,Yf as ab,_f as ac,tv as ad,sv as ae,Oe as af,Td as ag,Z as ah,qe as b,yr as c,Ee as d,he as e,bm as f,U as g,ct as h,_o as i,xe as j,it as k,Q as l,ia as m,Le as n,_e as o,H as p,De as q,Ye as r,g as s,re as t,Je as u,Qe as v,Y as w,tt as x,st as y,le as z};
