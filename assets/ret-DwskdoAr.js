var E={exports:{}},b={},k,N;function I(){return N||(N=1,k={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}),k}var c={},S;function W(){if(S)return c;S=1;const e=I(),n=()=>[{type:e.RANGE,from:48,to:57}],o=()=>[{type:e.CHAR,value:95},{type:e.RANGE,from:97,to:122},{type:e.RANGE,from:65,to:90}].concat(n()),l=()=>[{type:e.CHAR,value:9},{type:e.CHAR,value:10},{type:e.CHAR,value:11},{type:e.CHAR,value:12},{type:e.CHAR,value:13},{type:e.CHAR,value:32},{type:e.CHAR,value:160},{type:e.CHAR,value:5760},{type:e.RANGE,from:8192,to:8202},{type:e.CHAR,value:8232},{type:e.CHAR,value:8233},{type:e.CHAR,value:8239},{type:e.CHAR,value:8287},{type:e.CHAR,value:12288},{type:e.CHAR,value:65279}],i=()=>[{type:e.CHAR,value:10},{type:e.CHAR,value:13},{type:e.CHAR,value:8232},{type:e.CHAR,value:8233}];return c.words=()=>({type:e.SET,set:o(),not:!1}),c.notWords=()=>({type:e.SET,set:o(),not:!0}),c.ints=()=>({type:e.SET,set:n(),not:!1}),c.notInts=()=>({type:e.SET,set:n(),not:!0}),c.whitespace=()=>({type:e.SET,set:l(),not:!1}),c.notWhitespace=()=>({type:e.SET,set:l(),not:!0}),c.anyChar=()=>({type:e.SET,set:i(),not:!0}),c}var m;function q(){return m||(m=1,function(e){const n=I(),o=W(),l="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",i={0:0,t:9,n:10,v:11,f:12,r:13};e.strToChars=function(a){var h=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return a=a.replace(h,function(s,y,r,t,v,f,u,C){if(r)return s;var A=y?8:t?parseInt(t,16):v?parseInt(v,16):f?parseInt(f,8):u?l.indexOf(u):i[C],p=String.fromCharCode(A);return/[[\]{}^$.|?*+()]/.test(p)&&(p="\\"+p),p}),a},e.tokenizeClass=(a,h)=>{for(var s=[],y=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,r,t;(r=y.exec(a))!=null;)if(r[1])s.push(o.words());else if(r[2])s.push(o.ints());else if(r[3])s.push(o.whitespace());else if(r[4])s.push(o.notWords());else if(r[5])s.push(o.notInts());else if(r[6])s.push(o.notWhitespace());else if(r[7])s.push({type:n.RANGE,from:(r[8]||r[9]).charCodeAt(0),to:r[10].charCodeAt(0)});else if(t=r[12])s.push({type:n.CHAR,value:t.charCodeAt(0)});else return[s,y.lastIndex];e.error(h,"Unterminated character class")},e.error=(a,h)=>{throw new SyntaxError("Invalid regular expression: /"+a+"/: "+h)}}(b)),b}var d={},w;function G(){if(w)return d;w=1;const e=I();return d.wordBoundary=()=>({type:e.POSITION,value:"b"}),d.nonWordBoundary=()=>({type:e.POSITION,value:"B"}),d.begin=()=>({type:e.POSITION,value:"^"}),d.end=()=>({type:e.POSITION,value:"$"}),d}var P;function x(){if(P)return E.exports;P=1;const e=q(),n=I(),o=W(),l=G();return E.exports=i=>{var a=0,h,s,y={type:n.ROOT,stack:[]},r=y,t=y.stack,v=[],f=g=>{e.error(i,`Nothing to repeat at column ${g-1}`)},u=e.strToChars(i);for(h=u.length;a<h;)switch(s=u[a++],s){case"\\":switch(s=u[a++],s){case"b":t.push(l.wordBoundary());break;case"B":t.push(l.nonWordBoundary());break;case"w":t.push(o.words());break;case"W":t.push(o.notWords());break;case"d":t.push(o.ints());break;case"D":t.push(o.notInts());break;case"s":t.push(o.whitespace());break;case"S":t.push(o.notWhitespace());break;default:/\d/.test(s)?t.push({type:n.REFERENCE,value:parseInt(s,10)}):t.push({type:n.CHAR,value:s.charCodeAt(0)})}break;case"^":t.push(l.begin());break;case"$":t.push(l.end());break;case"[":var C;u[a]==="^"?(C=!0,a++):C=!1;var A=e.tokenizeClass(u.slice(a),i);a+=A[1],t.push({type:n.SET,set:A[0],not:C});break;case".":t.push(o.anyChar());break;case"(":var p={type:n.GROUP,stack:[],remember:!0};s=u[a],s==="?"&&(s=u[a+1],a+=2,s==="="?p.followedBy=!0:s==="!"?p.notFollowedBy=!0:s!==":"&&e.error(i,`Invalid group, character '${s}' after '?' at column ${a-1}`),p.remember=!1),t.push(p),v.push(r),r=p,t=p.stack;break;case")":v.length===0&&e.error(i,`Unmatched ) at column ${a-1}`),r=v.pop(),t=r.options?r.options[r.options.length-1]:r.stack;break;case"|":r.options||(r.options=[r.stack],delete r.stack);var H=[];r.options.push(H),t=H;break;case"{":var R=/^(\d+)(,(\d+)?)?\}/.exec(u.slice(a)),T,O;R!==null?(t.length===0&&f(a),T=parseInt(R[1],10),O=R[2]?R[3]?parseInt(R[3],10):1/0:T,a+=R[0].length,t.push({type:n.REPETITION,min:T,max:O,value:t.pop()})):t.push({type:n.CHAR,value:123});break;case"?":t.length===0&&f(a),t.push({type:n.REPETITION,min:0,max:1,value:t.pop()});break;case"+":t.length===0&&f(a),t.push({type:n.REPETITION,min:1,max:1/0,value:t.pop()});break;case"*":t.length===0&&f(a),t.push({type:n.REPETITION,min:0,max:1/0,value:t.pop()});break;default:t.push({type:n.CHAR,value:s.charCodeAt(0)})}return v.length!==0&&e.error(i,"Unterminated group"),y},E.exports.types=n,E.exports}export{x as r};
